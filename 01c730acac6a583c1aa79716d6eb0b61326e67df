{
  "comments": [
    {
      "key": {
        "uuid": "305339c0_e89164b5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 13,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2019-12-10T09:48:21Z",
      "side": 1,
      "message": "Should be in the footer, with the Bug: key, i.e.\n\n Bug: Issue 12055\n Change-Id: ....",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 13,
        "endChar": 28
      },
      "revId": "01c730acac6a583c1aa79716d6eb0b61326e67df",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "88c1dadb_7914113b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 13,
      "author": {
        "id": 1070962
      },
      "writtenOn": "2020-01-09T00:28:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "305339c0_e89164b5",
      "range": {
        "startLine": 13,
        "startChar": 0,
        "endLine": 13,
        "endChar": 28
      },
      "revId": "01c730acac6a583c1aa79716d6eb0b61326e67df",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dd065cfa_f2c1de10",
        "filename": "java/com/google/gerrit/extensions/validators/CommentValidator.java",
        "patchSetId": 6
      },
      "lineNbr": 34,
      "author": {
        "id": 1083042
      },
      "writtenOn": "2019-12-10T09:17:47Z",
      "side": 1,
      "message": "ChangeInfo contains a lot of data, making the API a lot more complex. Is there a way we can limit/structure the data passed here?\n\nIIUC you will also want to validate the commit message because that\u0027s where the recent leak happened.\n\nSo from the ChangeInfo object you will (correct me if I\u0027m wrong)\n- ignore most fields\n- evaluate some fields to control parameters of the validation (or simply skip it?)\n- directly validate some String fields, e.g. the commit message and maybe things like the topic name\n\nI think validateComments() would be easiest to understand if it reflected that structure. So it would have one argument to specify the validation context, and a second argument that contains a list of texts (with types) to be validated. Because in the end validation is always run against a String. If that is already evident from the signature it makes the API clearer.\n\nWDYT about extending the CommentType enum for new texts (e.g. COMMIT_MESSAGE, TOPIC_NAME...) and introducing a ValidationContext AutoValue class contains those fields that affect the validation process? That way the API would only take required information and it would be clear already from the method signature what the arguments are used for.\n\nI realize I\u0027m guessing about your exact plans, so feel free to explain in more detail and/or make an alternative proposal.",
      "revId": "01c730acac6a583c1aa79716d6eb0b61326e67df",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2cfa1790_68f14e67",
        "filename": "java/com/google/gerrit/extensions/validators/CommentValidator.java",
        "patchSetId": 6
      },
      "lineNbr": 34,
      "author": {
        "id": 1011842
      },
      "writtenOn": "2020-01-09T00:26:43Z",
      "side": 1,
      "message": "What happened to hiesel\u0027s suggestion of Project.NameKey plus Change.Id?\n\nSimpler and more flexible. Passing identifiers instead of what they refer to.",
      "parentUuid": "dd065cfa_f2c1de10",
      "revId": "01c730acac6a583c1aa79716d6eb0b61326e67df",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04b61da5_04790034",
        "filename": "java/com/google/gerrit/extensions/validators/CommentValidator.java",
        "patchSetId": 6
      },
      "lineNbr": 34,
      "author": {
        "id": 1070962
      },
      "writtenOn": "2020-01-09T00:28:39Z",
      "side": 1,
      "message": "It didn\u0027t looks like those identifiers were visible from the extensions package. Forgive me if it was just my lack of java knowledge and there is a way to do it.",
      "parentUuid": "dd065cfa_f2c1de10",
      "revId": "01c730acac6a583c1aa79716d6eb0b61326e67df",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1dec1a1c_abe51cb0",
        "filename": "java/com/google/gerrit/extensions/validators/CommentValidator.java",
        "patchSetId": 6
      },
      "lineNbr": 34,
      "author": {
        "id": 1011842
      },
      "writtenOn": "2020-01-09T02:09:25Z",
      "side": 1,
      "message": "\u003e It didn\u0027t looks like those identifiers were visible from the extensions package.\n\nIn that case, it can simply use a string and an integer (`String project, int id`), since that\u0027s suitable for passing to `gerritApi.changes().id`.",
      "parentUuid": "04b61da5_04790034",
      "revId": "01c730acac6a583c1aa79716d6eb0b61326e67df",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7e800bb8_14bd8c06",
        "filename": "java/com/google/gerrit/extensions/validators/CommentValidator.java",
        "patchSetId": 6
      },
      "lineNbr": 34,
      "author": {
        "id": 1011842
      },
      "writtenOn": "2020-01-09T02:13:29Z",
      "side": 1,
      "message": "Which you already did. :)",
      "parentUuid": "1dec1a1c_abe51cb0",
      "revId": "01c730acac6a583c1aa79716d6eb0b61326e67df",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}