{
  "comments": [
    {
      "key": {
        "uuid": "a3db2084_667a1efd",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-builder/gr-diff-builder.html",
        "patchSetId": 1
      },
      "lineNbr": 211,
      "author": {
        "id": 1026519
      },
      "writtenOn": "Jan 30, 2017 3:26:22 PM",
      "side": 1,
      "message": "Is this optional (like how we have opt_side in some cases)? How is this used when the diff is in unified view and we\u0027re creating a new comment.",
      "range": {
        "startLine": 211,
        "startChar": 12,
        "endLine": 211,
        "endChar": 23
      },
      "revId": "02e3e0428f9792ce3ed6852aa459547374bccb29",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce0d8304_ba6830c2",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-builder/gr-diff-builder.html",
        "patchSetId": 1
      },
      "lineNbr": 211,
      "author": {
        "id": 1030207
      },
      "writtenOn": "Jan 30, 2017 3:45:28 PM",
      "side": 1,
      "message": "no, it\u0027s not optional. it\u0027s required to render comments correctly in both side by side/unified views, and be able to swap between the two.",
      "parentUuid": "a3db2084_667a1efd",
      "revId": "02e3e0428f9792ce3ed6852aa459547374bccb29",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce064df9_61d53486",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-builder/gr-diff-builder.html",
        "patchSetId": 1
      },
      "lineNbr": 211,
      "author": {
        "id": 1026519
      },
      "writtenOn": "Feb 2, 2017 11:13:06 AM",
      "side": 1,
      "message": "But, what value is passed here when it\u0027s unified? In unified, doesn\u0027t the thread group span both sides (with only individual threads being scoped to a particular side)?",
      "parentUuid": "ce0d8304_ba6830c2",
      "revId": "02e3e0428f9792ce3ed6852aa459547374bccb29",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0c6e9d39_bbb797df",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-builder/gr-diff-builder.html",
        "patchSetId": 1
      },
      "lineNbr": 211,
      "author": {
        "id": 1030207
      },
      "writtenOn": "Feb 2, 2017 11:38:46 AM",
      "side": 1,
      "message": "It does actually end up creating two separate thread groups whether unified or side by side.  This seemed like the easiest approach because the commentSide property gets passed from threadGroup -\u003e thread -\u003e comment.",
      "parentUuid": "ce064df9_61d53486",
      "revId": "02e3e0428f9792ce3ed6852aa459547374bccb29",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e4e8e371_85c9fcbf",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-builder/gr-diff-builder.html",
        "patchSetId": 1
      },
      "lineNbr": 211,
      "author": {
        "id": 1030207
      },
      "writtenOn": "Feb 2, 2017 3:55:25 PM",
      "side": 1,
      "message": "So, I was actually kind of wrong in my previous response. We were storing a commentSide, but it was never really used, because the query was just finding one per content area. I\u0027m getting rid of the concept of commentSide at the thread group level and only introducing it at the thread level.",
      "parentUuid": "0c6e9d39_bbb797df",
      "revId": "02e3e0428f9792ce3ed6852aa459547374bccb29",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cb0c01c2_20121c7d",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-builder/gr-diff-builder.html",
        "patchSetId": 1
      },
      "lineNbr": 213,
      "author": {
        "id": 1026519
      },
      "writtenOn": "Jan 30, 2017 3:26:22 PM",
      "side": 1,
      "message": "What\u0027s the difference between side and commentSide?",
      "range": {
        "startLine": 213,
        "startChar": 20,
        "endLine": 213,
        "endChar": 38
      },
      "revId": "02e3e0428f9792ce3ed6852aa459547374bccb29",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d7166abe_a6d5c644",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-builder/gr-diff-builder.html",
        "patchSetId": 1
      },
      "lineNbr": 213,
      "author": {
        "id": 1030207
      },
      "writtenOn": "Jan 30, 2017 3:45:28 PM",
      "side": 1,
      "message": "I\u0027m not 100% if we need both, but we definitely need commentSide. commentSide is left/right, and side is either PARENT or REVISION. However, revision isn\u0027t enough to tell us if the comment is on the left or the right side.",
      "parentUuid": "cb0c01c2_20121c7d",
      "revId": "02e3e0428f9792ce3ed6852aa459547374bccb29",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "430e6f7b_4409a39d",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-builder/gr-diff-builder.html",
        "patchSetId": 1
      },
      "lineNbr": 213,
      "author": {
        "id": 1030207
      },
      "writtenOn": "Jan 31, 2017 1:59:13 PM",
      "side": 1,
      "message": "Better answer:  \n\n- side is either \u0027PARENT\u0027 or \u0027REVISION\u0027 it is used for calculating paths in the comment list. \n- side is also part of the \u0027commentInfo\u0027 entity on the server (https://gerrit-review.googlesource.com/Documentation/rest-api-changes.html#comment-info)\n- side is confusing because it is different than right/left which is used elsewhere, but not sure if it\u0027s worth changing the backend to make it more clear. maybe at a later time/after we get rid of GWT.",
      "parentUuid": "d7166abe_a6d5c644",
      "revId": "02e3e0428f9792ce3ed6852aa459547374bccb29",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6d0fd0cc_79f272ab",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-builder/gr-diff-builder.html",
        "patchSetId": 1
      },
      "lineNbr": 213,
      "author": {
        "id": 1026519
      },
      "writtenOn": "Feb 2, 2017 11:13:06 AM",
      "side": 1,
      "message": "Ack",
      "parentUuid": "430e6f7b_4409a39d",
      "revId": "02e3e0428f9792ce3ed6852aa459547374bccb29",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c92f71aa_f97103fc",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-builder/gr-diff-builder.js",
        "patchSetId": 1
      },
      "lineNbr": 305,
      "author": {
        "id": 1026519
      },
      "writtenOn": "Jan 30, 2017 3:26:22 PM",
      "side": 1,
      "message": "What I had envisioned was setting some side property on the comments based on which of these two lists they appeared in.\n\n leftComments.forEach(function(c) { c.side \u003d \u0027LEFT\u0027; });  // ... or similar.\n\nThen the thread group can just transparently group them by side as well as by line number and range.\n\nIn this way, if the diff is side by side, then the group will only be handed one side or the other, and they won\u0027t need to know what side they\u0027re on.",
      "range": {
        "startLine": 302,
        "startChar": 4,
        "endLine": 305,
        "endChar": 79
      },
      "revId": "02e3e0428f9792ce3ed6852aa459547374bccb29",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bdfdf8ff_5382acc7",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-builder/gr-diff-builder.js",
        "patchSetId": 1
      },
      "lineNbr": 305,
      "author": {
        "id": 1030207
      },
      "writtenOn": "Jan 30, 2017 3:45:28 PM",
      "side": 1,
      "message": "This is definitely a better place to do it.  I\u0027ll do it here instead of:\nhttps://gerrit-review.googlesource.com/c/95811/1/polygerrit-ui/app/elements/diff/gr-diff/gr-diff.js#543",
      "parentUuid": "c92f71aa_f97103fc",
      "revId": "02e3e0428f9792ce3ed6852aa459547374bccb29",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "87139ffe_db14b111",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-builder/gr-diff-builder.js",
        "patchSetId": 1
      },
      "lineNbr": 305,
      "author": {
        "id": 1030207
      },
      "writtenOn": "Jan 31, 2017 1:59:13 PM",
      "side": 1,
      "message": "Done",
      "parentUuid": "bdfdf8ff_5382acc7",
      "revId": "02e3e0428f9792ce3ed6852aa459547374bccb29",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}