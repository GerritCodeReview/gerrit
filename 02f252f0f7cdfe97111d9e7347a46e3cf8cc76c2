{
  "pushCert": "certificate version 0.1\npusher F41A2656 1447823477 -0800\nnonce AFd3Bxu/6zQXTP6mltM5I7uwjZlTqPBEJ7PAbYXWmhGBZYgB3jX4fNTH9GJSj5QMmM31mcNP7pkb\n\n0000000000000000000000000000000000000000 c729a356076012db8fdf5bc71c7b011b5e515cfd refs/for/master\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQEcBAABAgAGBQJWTAh1AAoJEHFVO370GiZWen8IAIrpZmJzNKjqkh242Kz0GtTf\n3nSI6WVtnyMg2yb7/dcuGiWXeYG6TMN4z3hw7eaPx2q5SDuGUbGs3TXumVE2+Tu7\ngMeKM8ne1HSOxCYZTzMrol68fpeqDvNntzcybbvl3xBCxrrvK2ZiaPmH2R13Q9r4\nTpmxIEMR3bfJX5RAjcYZK96qHj42x7jMCrtdV+fGsi9bh8KBdcIu2d9P+y3SgVqR\nLg9BQEROWQGrQ/q3nei/dWEi89oZQ1a0E32e9q39dYZcXlOObKAXd6Zt0uM7oQBy\nhB34k+lMBz1mxNlHUnm+Z6Dpd/ond3mtojDfG7zr0AxTBRS2ocNuxDuPD9o7aZA\u003d\n\u003dnNF2\n-----END PGP SIGNATURE-----\n",
  "comments": [
    {
      "key": {
        "uuid": "dbd2bbe6_f24aa8a4",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/IdentifiedUser.java",
        "patchSetId": 7
      },
      "lineNbr": 81,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-11-18T17:31:34Z",
      "side": 1,
      "message": "Dave, although this seems to work, I\u0027m a little concerned whether this is correct. I believe this GenericFactory is used outside of request scope, hence it doesn\u0027t get Provider\u003cReviewDb\u003e injected, but the one create method requires it as parameter. Now StarredChangesUtil is injected here which requires itself injection of Provider\u003cReviewDb\u003e. I wonder how this works outside of request scope, does it? Is it wrong to inject StarredChangesUtil directly here?",
      "revId": "02f252f0f7cdfe97111d9e7347a46e3cf8cc76c2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bbd507d1_11440c9c",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/IdentifiedUser.java",
        "patchSetId": 7
      },
      "lineNbr": 81,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-11-18T18:03:10Z",
      "side": 1,
      "message": "Maybe I\u0027m wrong and it\u0027s always request scope, except for the tests.",
      "parentUuid": "dbd2bbe6_f24aa8a4",
      "revId": "02f252f0f7cdfe97111d9e7347a46e3cf8cc76c2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9b67630e_f8fe111f",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/IdentifiedUser.java",
        "patchSetId": 7
      },
      "lineNbr": 81,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-11-18T20:45:05Z",
      "side": 1,
      "message": "Yes, that\u0027s my understanding too. Server tests do not support request scope yet. So all these hacks are needed to circumvent that.",
      "parentUuid": "bbd507d1_11440c9c",
      "revId": "02f252f0f7cdfe97111d9e7347a46e3cf8cc76c2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fbca1f38_2b4999b2",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/IdentifiedUser.java",
        "patchSetId": 7
      },
      "lineNbr": 81,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-11-20T15:25:11Z",
      "side": 1,
      "message": "My guess is this is never actually used outside of request scope, so it just happens to work, but I might be wrong.",
      "parentUuid": "bbd507d1_11440c9c",
      "revId": "02f252f0f7cdfe97111d9e7347a46e3cf8cc76c2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bbbee78e_e9d71517",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/IdentifiedUser.java",
        "patchSetId": 7
      },
      "lineNbr": 81,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-11-20T15:52:56Z",
      "side": 1,
      "message": "The question is whether we should be concerned about this and rather have an assisted factory for StarredChangesUtil?\nLater in this series, this injection is also changed to StarredChangesCache [1].\n\n[1] https://gerrit-review.googlesource.com/#/c/72566/2/gerrit-server/src/main/java/com/google/gerrit/server/IdentifiedUser.java",
      "parentUuid": "fbca1f38_2b4999b2",
      "revId": "02f252f0f7cdfe97111d9e7347a46e3cf8cc76c2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9bdcc3fe_10a8849a",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/IdentifiedUser.java",
        "patchSetId": 7
      },
      "lineNbr": 338,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-11-18T15:07:28Z",
      "side": 1,
      "message": "This will NPE when starredChangesUtil is null. Maybe we don\u0027t care, those tests NPE a lot if you hold something wrong.",
      "revId": "02f252f0f7cdfe97111d9e7347a46e3cf8cc76c2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bbd507d1_713f9808",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/IdentifiedUser.java",
        "patchSetId": 7
      },
      "lineNbr": 338,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-11-18T18:03:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9bdcc3fe_10a8849a",
      "revId": "02f252f0f7cdfe97111d9e7347a46e3cf8cc76c2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9b67630e_187c2599",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/StarredChangesUtil.java",
        "patchSetId": 7
      },
      "lineNbr": 56,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-11-18T08:11:01Z",
      "side": 1,
      "message": "@Singleton",
      "revId": "02f252f0f7cdfe97111d9e7347a46e3cf8cc76c2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dbd2bbe6_92579c4f",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/StarredChangesUtil.java",
        "patchSetId": 7
      },
      "lineNbr": 56,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-11-18T18:03:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9b67630e_187c2599",
      "revId": "02f252f0f7cdfe97111d9e7347a46e3cf8cc76c2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bb70a7c4_998fdbdc",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/StarredChangesUtil.java",
        "patchSetId": 7
      },
      "lineNbr": 147,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-11-18T08:11:01Z",
      "side": 1,
      "message": "Nit: too long line",
      "revId": "02f252f0f7cdfe97111d9e7347a46e3cf8cc76c2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dbd2bbe6_b254204b",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/StarredChangesUtil.java",
        "patchSetId": 7
      },
      "lineNbr": 147,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-11-18T18:03:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bb70a7c4_998fdbdc",
      "revId": "02f252f0f7cdfe97111d9e7347a46e3cf8cc76c2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bb70a7c4_d98553c0",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/StarredChangesUtil.java",
        "patchSetId": 7
      },
      "lineNbr": 216,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-11-18T08:11:01Z",
      "side": 1,
      "message": "Nit: Only 2 blanks indentation level, like on line 193.",
      "range": {
        "startLine": 216,
        "startChar": 0,
        "endLine": 216,
        "endChar": 14
      },
      "revId": "02f252f0f7cdfe97111d9e7347a46e3cf8cc76c2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dbd2bbe6_522374eb",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/StarredChangesUtil.java",
        "patchSetId": 7
      },
      "lineNbr": 216,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-11-18T18:03:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bb70a7c4_d98553c0",
      "range": {
        "startLine": 216,
        "startChar": 0,
        "endLine": 216,
        "endChar": 14
      },
      "revId": "02f252f0f7cdfe97111d9e7347a46e3cf8cc76c2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bb70a7c4_f98297b5",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/StarredChangesUtil.java",
        "patchSetId": 7
      },
      "lineNbr": 239,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-11-18T08:11:01Z",
      "side": 1,
      "message": "Nit: too long line.",
      "revId": "02f252f0f7cdfe97111d9e7347a46e3cf8cc76c2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bbd507d1_b1ff4081",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/StarredChangesUtil.java",
        "patchSetId": 7
      },
      "lineNbr": 239,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-11-18T18:03:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bb70a7c4_f98297b5",
      "revId": "02f252f0f7cdfe97111d9e7347a46e3cf8cc76c2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}