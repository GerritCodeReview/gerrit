{
  "comments": [
    {
      "key": {
        "uuid": "AAABEn///uY\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ProjectState.java",
        "patchSetId": 5
      },
      "lineNbr": 73,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-07-31T05:44:58Z",
      "side": 1,
      "message": "No longer accurate comment? Same for line 168?",
      "revId": "0359b813359f139dec918cf12248dca8778c9789",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABEn///ug\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ProjectState.java",
        "patchSetId": 5
      },
      "lineNbr": 115,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-07-31T05:44:58Z",
      "side": 1,
      "message": "You need to keep track of the projects which you have already iterated over in case an inheritance loop has slipped in inadvertently.  Look at the \"seen\" pattern on line 224 for an example.",
      "revId": "0359b813359f139dec918cf12248dca8778c9789",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABEn///uU\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ProjectState.java",
        "patchSetId": 5
      },
      "lineNbr": 137,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-07-31T05:44:58Z",
      "side": 1,
      "message": "I don\u0027t believe that this approach will update a projects capabilities when an ancestor changes its capabilities.  Note the comment on line 214.",
      "revId": "0359b813359f139dec918cf12248dca8778c9789",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABEn///q8\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ProjectState.java",
        "patchSetId": 5
      },
      "lineNbr": 137,
      "author": {
        "id": 1004024
      },
      "writtenOn": "2011-08-01T12:19:47Z",
      "side": 1,
      "message": "Hi Martin we\u0027ve made the following test:\nAdd capability \u0027CreateProject\u0027 to All-Projects, created the structure bellow:\n\nGrandfather\n   | Parent\n       |Grandson\n            ProjectA\n\nAter that , we removed \u0027CreateProject\u0027 capability from All-Projects and added this to Grandfather project, so we tried to create ProjectX as son of ProjectA and it worked.\nIs that what you mean? If so, even this is working fine do you think it could be implemented in a better way?",
      "parentUuid": "AAABEn///uU\u003d",
      "revId": "0359b813359f139dec918cf12248dca8778c9789",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABEn///qk\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ProjectState.java",
        "patchSetId": 5
      },
      "lineNbr": 137,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-08-01T13:23:57Z",
      "side": 1,
      "message": "Well, I would expect such a test to pass even if it it broken, since you should get that result if the capabilities were left on all-projects, so that doesn\u0027t seem like a very good test.  What you need to test is wether you can still create projects after you removed the capability from all-projects and before re-adding it to any ancestors!\nAlso you need to ensure that the whole chain of ancestor projects is in the cache still.  Likely they will be, but if they get flushed, then projectStates will be rebuilt.",
      "parentUuid": "AAABEn///q8\u003d",
      "revId": "0359b813359f139dec918cf12248dca8778c9789",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABEn///pk\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ProjectState.java",
        "patchSetId": 5
      },
      "lineNbr": 137,
      "author": {
        "id": 1004024
      },
      "writtenOn": "2011-08-01T18:47:21Z",
      "side": 1,
      "message": "You are right. We tested as you said: tried to create projects after removing the capability from All-Projects and before re-adding it to ancestors. We tried in many levels and in some cases it did not update the capabilities, so we changed the method getCapabilityCollection() (Line 172) to return loadAllCapabilities() (Line 111) instead of the attribute \u0027capabilities\u0027. So, in this way, this is dinamic and then it worked fine. \nWhat do you think? Was really that what you mean?",
      "parentUuid": "AAABEn///qk\u003d",
      "revId": "0359b813359f139dec918cf12248dca8778c9789",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABEn///uc\u003d",
        "filename": "gerrit-sshd/src/main/java/com/google/gerrit/sshd/commands/CreateProject.java",
        "patchSetId": 5
      },
      "lineNbr": 157,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-07-31T05:44:58Z",
      "side": 1,
      "message": "It feels like this check should be in a canCreateChildProject() method in projectControl?",
      "revId": "0359b813359f139dec918cf12248dca8778c9789",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}