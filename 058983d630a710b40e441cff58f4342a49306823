{
  "comments": [
    {
      "key": {
        "uuid": "7cffbcc2_d2b4d847",
        "filename": "package.json",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-06-25T10:45:25Z",
      "side": 1,
      "message": "terser is not called directly. Instead, terser_minified rule is called. It seems, that \"terser\" is not needed here. Could you please try to remove it?",
      "range": {
        "startLine": 21,
        "startChar": 4,
        "endLine": 21,
        "endChar": 22
      },
      "revId": "058983d630a710b40e441cff58f4342a49306823",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "658064c7_6ab12585",
        "filename": "package.json",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-06-25T19:09:40Z",
      "side": 1,
      "message": "I tried it as you suggested and it doesn\u0027t work. The error message is: [1]. I\u0027ve isolated the reproducer: [2].\n\n[1] http://paste.openstack.org/show/795226\n[2] https://github.com/davido/bazel_nodejs_terser_minifed",
      "parentUuid": "7cffbcc2_d2b4d847",
      "range": {
        "startLine": 21,
        "startChar": 4,
        "endLine": 21,
        "endChar": 22
      },
      "revId": "058983d630a710b40e441cff58f4342a49306823",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7403faee_067088ba",
        "filename": "package.json",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-06-27T07:33:46Z",
      "side": 1,
      "message": "I asked in JavaScriipt Bazel channel on Slack, and Alex Eagle, maintainer of rules_nodejs gave this answer, quoting:\n\n\"\n@bazel/terser has a peer dependency on terser so that you can choose any compatible version of the latter, so thatâ€™s expected\n\nnote that the yarn install / npm_install warns about missing peer dependencies - not a great DX but not something bazel can/should fix\n\"",
      "parentUuid": "658064c7_6ab12585",
      "range": {
        "startLine": 21,
        "startChar": 4,
        "endLine": 21,
        "endChar": 22
      },
      "revId": "058983d630a710b40e441cff58f4342a49306823",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8df0fcdb_9eb469c1",
        "filename": "tools/bzl/js.bzl",
        "patchSetId": 2
      },
      "lineNbr": 480,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-06-25T10:45:25Z",
      "side": 1,
      "message": "I am not familiar with terser_minified rule. Could you please confirm, that this rule works with ES6 modules? (for example, if plugin has 2 file and file A imports file B).\nI checked the https://github.com/terser/terser#minify-options and there is the \u0027module\u0027 option, which is false by default. Not sure about defaults for terser_minified.",
      "range": {
        "startLine": 480,
        "startChar": 4,
        "endLine": 480,
        "endChar": 19
      },
      "revId": "058983d630a710b40e441cff58f4342a49306823",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "805d4f4c_fd955c1c",
        "filename": "tools/bzl/js.bzl",
        "patchSetId": 2
      },
      "lineNbr": 480,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-06-25T19:09:40Z",
      "side": 1,
      "message": "I tried to build some gerrit plugins like reviewers and checks that were migrated to Polymer 3, and build was successful. My understanding is, that JavaScript minification for PolyGerrit itself is done using rollup_bundle with terser plugin. That why my first attempt to replace rules_closure was trying to activate terser plugin in rollup_bundle already used by some plugins. But, it turned out to be intrusive change.",
      "parentUuid": "8df0fcdb_9eb469c1",
      "range": {
        "startLine": 480,
        "startChar": 4,
        "endLine": 480,
        "endChar": 19
      },
      "revId": "058983d630a710b40e441cff58f4342a49306823",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "64ce9b78_64be3c86",
        "filename": "tools/bzl/js.bzl",
        "patchSetId": 2
      },
      "lineNbr": 483,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-06-23T08:04:50Z",
      "side": 1,
      "message": "This could be omitted?",
      "range": {
        "startLine": 483,
        "startChar": 14,
        "endLine": 483,
        "endChar": 19
      },
      "revId": "058983d630a710b40e441cff58f4342a49306823",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "426cd3f7_308de278",
        "filename": "tools/bzl/js.bzl",
        "patchSetId": 2
      },
      "lineNbr": 483,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-06-25T10:45:25Z",
      "side": 1,
      "message": "I think yes, but I prefer to add \u0027:\u0027 before filegroup",
      "parentUuid": "64ce9b78_64be3c86",
      "range": {
        "startLine": 483,
        "startChar": 14,
        "endLine": 483,
        "endChar": 19
      },
      "revId": "058983d630a710b40e441cff58f4342a49306823",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "08e9ac75_45e33b7d",
        "filename": "tools/bzl/js.bzl",
        "patchSetId": 2
      },
      "lineNbr": 483,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-06-25T19:09:40Z",
      "side": 1,
      "message": "OK, let it as is.",
      "parentUuid": "426cd3f7_308de278",
      "range": {
        "startLine": 483,
        "startChar": 14,
        "endLine": 483,
        "endChar": 19
      },
      "revId": "058983d630a710b40e441cff58f4342a49306823",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}