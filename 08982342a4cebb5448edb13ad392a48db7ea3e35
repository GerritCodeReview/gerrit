{
  "comments": [
    {
      "key": {
        "uuid": "b0e9742d_40e3ee36",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/SubmitRuleEvaluator.java",
        "patchSetId": 2
      },
      "lineNbr": 121,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-10-16T06:45:34Z",
      "side": 1,
      "message": "Not accurate any more and must be updated. In fact it\u0027s set to current patch set t not perform unnecessary lookup of current ps in the database.",
      "range": {
        "startLine": 118,
        "startChar": 2,
        "endLine": 121,
        "endChar": 5
      },
      "revId": "08982342a4cebb5448edb13ad392a48db7ea3e35",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0e5ac1c_b2c80032",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/SubmitRuleEvaluator.java",
        "patchSetId": 2
      },
      "lineNbr": 206,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-10-15T15:50:22Z",
      "side": 1,
      "message": "I missed to ask why to use local var at a all and pass it in all private methods, and not just say:\n\n  if (customPatchSet \u003d\u003d null) {\n    customPatchSet \u003d cd.currentPatchSet();\n  } catch (OrmException e) {\n        return ruleError(\"Error looking up patch set \"\n            + control.getChange().currentPatchSetId());\n  }\n\nAnd use in every place below customPatchSet instead?",
      "range": {
        "startLine": 198,
        "startChar": 4,
        "endLine": 206,
        "endChar": 5
      },
      "revId": "08982342a4cebb5448edb13ad392a48db7ea3e35",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f00e8cb4_0a22fb97",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/SubmitRuleEvaluator.java",
        "patchSetId": 2
      },
      "lineNbr": 206,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-10-15T15:55:13Z",
      "side": 1,
      "message": "That\u0027s exactly what I am trying to avoid. From the commit message:\n\n\"Rename patchSet to customPatchSet to discourage accidentally\nusing it when a passed-in PatchSet is correct.\"\n\nIf we use the member var customPatchSet in e.g. cannotSubmitDraft, you cannot easily verify that every caller has properly initialized customPatchSet. Making it an explicit argument avoids this problem.\n\nSaving customPatchSet once looking it up is purely an optimization.",
      "parentUuid": "f0e5ac1c_b2c80032",
      "range": {
        "startLine": 198,
        "startChar": 4,
        "endLine": 206,
        "endChar": 5
      },
      "revId": "08982342a4cebb5448edb13ad392a48db7ea3e35",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "10cb2096_b3c81832",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/SubmitRuleEvaluator.java",
        "patchSetId": 2
      },
      "lineNbr": 206,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-10-15T16:05:58Z",
      "side": 1,
      "message": "| you cannot easily verify that every caller has properly initialized customPatchSet\n\nIsn\u0027t checkNotNull(customPatchSet) easy enough and save all these instance variable passing in own private methods?",
      "parentUuid": "f00e8cb4_0a22fb97",
      "range": {
        "startLine": 198,
        "startChar": 4,
        "endLine": 206,
        "endChar": 5
      },
      "revId": "08982342a4cebb5448edb13ad392a48db7ea3e35",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "302ae414_f46f78ec",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/SubmitRuleEvaluator.java",
        "patchSetId": 2
      },
      "lineNbr": 206,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-10-15T16:08:33Z",
      "side": 1,
      "message": "That throws an exception rather than producing incorrect results.\n\nAdding the argument makes it easy to reason that the method body is not going to produce incorrect results or an exception.",
      "parentUuid": "10cb2096_b3c81832",
      "range": {
        "startLine": 198,
        "startChar": 4,
        "endLine": 206,
        "endChar": 5
      },
      "revId": "08982342a4cebb5448edb13ad392a48db7ea3e35",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "10cb2096_53d0a4d6",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/SubmitRuleEvaluator.java",
        "patchSetId": 2
      },
      "lineNbr": 206,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-10-15T16:38:09Z",
      "side": 1,
      "message": "OK.",
      "parentUuid": "302ae414_f46f78ec",
      "range": {
        "startLine": 198,
        "startChar": 4,
        "endLine": 206,
        "endChar": 5
      },
      "revId": "08982342a4cebb5448edb13ad392a48db7ea3e35",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}