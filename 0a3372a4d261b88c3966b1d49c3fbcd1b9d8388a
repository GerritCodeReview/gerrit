{
  "comments": [
    {
      "key": {
        "uuid": "b64deb11_c7b884c9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-08-14T18:35:48Z",
      "side": 1,
      "message": "This contains unsubmitted code upstream, I think you\u0027re going to want to build another package at master and update again.",
      "revId": "0a3372a4d261b88c3966b1d49c3fbcd1b9d8388a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "164797ed_5eb8d5ff",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2014-08-14T19:46:45Z",
      "side": 1,
      "message": "Yup. I\u0027ll have to rebuild upstream and recompute the version numbers and SHA-1s.",
      "parentUuid": "b64deb11_c7b884c9",
      "revId": "0a3372a4d261b88c3966b1d49c3fbcd1b9d8388a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b64deb11_277608b2",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/MergeUtil.java",
        "patchSetId": 1
      },
      "lineNbr": 487,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-08-14T18:23:23Z",
      "side": 1,
      "message": "So depending on the implementation of the inserter (whether it effectively auto-flushes), some unnecessary objects might eventually get written. But this should be very rare in the DFS case, and not exactly costly in the WindowCursor case. Good.",
      "revId": "0a3372a4d261b88c3966b1d49c3fbcd1b9d8388a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f643e3df_fd476734",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/MergeUtil.java",
        "patchSetId": 1
      },
      "lineNbr": 487,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2014-08-14T19:46:45Z",
      "side": 1,
      "message": "Basically.\n\nIf we are willing to spend some temporary memory, we may be able to implement an in-memory buffering ObjectInserter for the DryRunInserter. insert() would store the objects in memory, up to some limit, before spilling to temporary disk. \n\nRoughly that would look like the DfsInserter, but backed by a TemporaryBuffer.LocalFile instead of a DfsOutputStream, after changing TemporaryBuffer to support random read-back the way DfsOutputStream does.",
      "parentUuid": "b64deb11_277608b2",
      "revId": "0a3372a4d261b88c3966b1d49c3fbcd1b9d8388a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b64deb11_02cada2b",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/MergeUtil.java",
        "patchSetId": 1
      },
      "lineNbr": 487,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-08-14T20:01:26Z",
      "side": 1,
      "message": "I...actually don\u0027t know if it\u0027s ok in the WindowCursor case if the mergeability check queue writes out hundreds or thousands of loose objects in one go :/",
      "parentUuid": "f643e3df_fd476734",
      "revId": "0a3372a4d261b88c3966b1d49c3fbcd1b9d8388a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "164797ed_1e9b2d98",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/MergeUtil.java",
        "patchSetId": 1
      },
      "lineNbr": 487,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2014-08-14T20:56:13Z",
      "side": 1,
      "message": "Unfortunately the recursive merger requires it if there is a virtual merge base constructed.\n\nWe may be able to tune RecursiveMerger in JGit to avoid insertion during the main pass, and only insert in the recursive virtual ancestor construction passes. This would reduce how often we need to make new objects, but they still have to be stored somewhere to run the merge algorithm.",
      "parentUuid": "b64deb11_02cada2b",
      "revId": "0a3372a4d261b88c3966b1d49c3fbcd1b9d8388a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b64deb11_3674f74c",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/MergeUtil.java",
        "patchSetId": 1
      },
      "lineNbr": 487,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-08-14T21:04:38Z",
      "side": 1,
      "message": "Yes, I know it\u0027s required. I just don\u0027t know what the performance impact will be in a real on-disk repo, and I\u0027m hesitant to include this change in a released Gerrit until we know.",
      "parentUuid": "164797ed_1e9b2d98",
      "revId": "0a3372a4d261b88c3966b1d49c3fbcd1b9d8388a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f643e3df_7dd9173e",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/MergeUtil.java",
        "patchSetId": 1
      },
      "lineNbr": 487,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2014-08-14T21:05:38Z",
      "side": 1,
      "message": "Well, without this change merges fail. So buggy but fast, or working bug slower...",
      "parentUuid": "b64deb11_3674f74c",
      "revId": "0a3372a4d261b88c3966b1d49c3fbcd1b9d8388a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}