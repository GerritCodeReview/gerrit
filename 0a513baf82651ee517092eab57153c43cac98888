{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "57ac635d_49d9c604",
        "filename": "/COMMIT_MSG",
        "patchSetId": 21
      },
      "lineNbr": 10,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-09-14T13:30:05Z",
      "side": 1,
      "message": "nit: consumer?",
      "range": {
        "startLine": 10,
        "startChar": 32,
        "endLine": 10,
        "endChar": 40
      },
      "revId": "0a513baf82651ee517092eab57153c43cac98888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6ff0ff6a_abbc6222",
        "filename": "/COMMIT_MSG",
        "patchSetId": 21
      },
      "lineNbr": 10,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2023-09-14T13:39:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "57ac635d_49d9c604",
      "range": {
        "startLine": 10,
        "startChar": 32,
        "endLine": 10,
        "endChar": 40
      },
      "revId": "0a513baf82651ee517092eab57153c43cac98888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "02fe076b_58be727a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 21
      },
      "lineNbr": 15,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-09-14T13:30:05Z",
      "side": 1,
      "message": "I find this a bit confusing:\nWhat do you mean by \"consumed by gerrit\"? isn\u0027t gerrit \"producing\" these events?",
      "range": {
        "startLine": 15,
        "startChar": 13,
        "endLine": 15,
        "endChar": 31
      },
      "revId": "0a513baf82651ee517092eab57153c43cac98888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3828ecb8_9da6e76f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 21
      },
      "lineNbr": 15,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2023-09-14T13:39:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "02fe076b_58be727a",
      "range": {
        "startLine": 15,
        "startChar": 13,
        "endLine": 15,
        "endChar": 31
      },
      "revId": "0a513baf82651ee517092eab57153c43cac98888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "71c6b474_bc890825",
        "filename": "/COMMIT_MSG",
        "patchSetId": 21
      },
      "lineNbr": 17,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-09-14T13:30:05Z",
      "side": 1,
      "message": "Place this just before the Change-Id at L20.\nThis needs to belong to the footer in order to be indexed.",
      "range": {
        "startLine": 17,
        "startChar": 0,
        "endLine": 17,
        "endChar": 20
      },
      "revId": "0a513baf82651ee517092eab57153c43cac98888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f94b3aae_0f9b2712",
        "filename": "/COMMIT_MSG",
        "patchSetId": 21
      },
      "lineNbr": 17,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2023-09-14T13:39:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "71c6b474_bc890825",
      "range": {
        "startLine": 17,
        "startChar": 0,
        "endLine": 17,
        "endChar": 20
      },
      "revId": "0a513baf82651ee517092eab57153c43cac98888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b9a285a1_cb20ec40",
        "filename": "java/com/google/gerrit/server/notedb/NoteDbUpdateManager.java",
        "patchSetId": 21
      },
      "lineNbr": 78,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-09-14T12:08:20Z",
      "side": 1,
      "message": "is this class implicitly tested as a part of `CommentsIT.java`",
      "revId": "0a513baf82651ee517092eab57153c43cac98888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a4a7de68_f4ab15cb",
        "filename": "java/com/google/gerrit/server/notedb/NoteDbUpdateManager.java",
        "patchSetId": 21
      },
      "lineNbr": 78,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2023-09-14T12:17:57Z",
      "side": 1,
      "message": "Correct. `NoteDbUpdateManager` is used when accessing the repository.",
      "parentUuid": "b9a285a1_cb20ec40",
      "revId": "0a513baf82651ee517092eab57153c43cac98888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d54376e5_2025630c",
        "filename": "java/com/google/gerrit/server/notedb/NoteDbUpdateManager.java",
        "patchSetId": 21
      },
      "lineNbr": 78,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2023-09-14T13:39:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a4a7de68_f4ab15cb",
      "revId": "0a513baf82651ee517092eab57153c43cac98888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e82941c7_eb1bdf83",
        "filename": "java/com/google/gerrit/server/notedb/NoteDbUpdateManager.java",
        "patchSetId": 21
      },
      "lineNbr": 315,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-09-14T12:08:20Z",
      "side": 1,
      "message": "this method\u0027s signature has changed but I dont see any use in the rest of the classes of this change.",
      "revId": "0a513baf82651ee517092eab57153c43cac98888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5bdf1c1b_5a7aad8d",
        "filename": "java/com/google/gerrit/server/notedb/NoteDbUpdateManager.java",
        "patchSetId": 21
      },
      "lineNbr": 315,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2023-09-14T12:17:57Z",
      "side": 1,
      "message": "The APIs of  `ImmutableMultimap` and `ImmutableMap` are the same",
      "parentUuid": "e82941c7_eb1bdf83",
      "revId": "0a513baf82651ee517092eab57153c43cac98888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7e9832ef_b26d8638",
        "filename": "java/com/google/gerrit/server/notedb/NoteDbUpdateManager.java",
        "patchSetId": 21
      },
      "lineNbr": 315,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-09-14T13:09:32Z",
      "side": 1,
      "message": "I am confused, it looks to me that the previous signature was:\n```\npublic BatchRefUpdate execute() throws IOException \n```\n\nand now is:\n```\npublic ImmutableMultimap\u003cProject.NameKey, BatchRefUpdate\u003e execute() throws IOException\n```\n\nam I right?\n\nIf the answer is yes, this code is no used in the rest of the change.",
      "parentUuid": "5bdf1c1b_5a7aad8d",
      "revId": "0a513baf82651ee517092eab57153c43cac98888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4beec45d_8ded1888",
        "filename": "java/com/google/gerrit/server/notedb/NoteDbUpdateManager.java",
        "patchSetId": 21
      },
      "lineNbr": 315,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-09-14T13:30:05Z",
      "side": 1,
      "message": "@alvaro.vilaplana@gmail.com, AFAICT this is used at java/com/google/gerrit/server/update/BatchUpdate.javaL682\n\nWhere we loop through the immutable map to fire the events.\n\nIs that not the case?",
      "parentUuid": "7e9832ef_b26d8638",
      "revId": "0a513baf82651ee517092eab57153c43cac98888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fb9f9560_2a01c6eb",
        "filename": "java/com/google/gerrit/server/notedb/NoteDbUpdateManager.java",
        "patchSetId": 21
      },
      "lineNbr": 315,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2023-09-14T13:39:35Z",
      "side": 1,
      "message": "I see what you mean. The code is a bit convoluted ðŸ˜Š\n\n`execute()` is called by this [1] method which populates `batchRefUpdate` which is then used to populate the second parameter of this [2] method.\n\n[1]: https://gerrit.googlesource.com/gerrit/+/f2dc31547a1ec3d64bf032c280f87cc37d44ea48/java/com/google/gerrit/server/update/BatchUpdate.java#722\n[2]: https://gerrit.googlesource.com/gerrit/+/f2dc31547a1ec3d64bf032c280f87cc37d44ea48/java/com/google/gerrit/server/update/BatchUpdate.java#144",
      "parentUuid": "7e9832ef_b26d8638",
      "revId": "0a513baf82651ee517092eab57153c43cac98888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b548dce5_e31e6903",
        "filename": "java/com/google/gerrit/server/notedb/NoteDbUpdateManager.java",
        "patchSetId": 21
      },
      "lineNbr": 315,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-09-14T13:50:31Z",
      "side": 1,
      "message": "But\n```\nBatchUpdate.this.batchRefUpdate \u003d manager.execute(dryrun);\n\n```\n\nis returning a type `BatchRefUpdate` and the new signature is:\n```\npublic ImmutableMultimap\u003cProject.NameKey, BatchRefUpdate\u003e execute(boolean dryrun) throws IOException\n\n```\n\nam I right?",
      "parentUuid": "fb9f9560_2a01c6eb",
      "revId": "0a513baf82651ee517092eab57153c43cac98888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "04c2497f_7107627e",
        "filename": "java/com/google/gerrit/server/notedb/NoteDbUpdateManager.java",
        "patchSetId": 21
      },
      "lineNbr": 315,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-09-14T14:15:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b548dce5_e31e6903",
      "revId": "0a513baf82651ee517092eab57153c43cac98888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c3370713_a32f0183",
        "filename": "java/com/google/gerrit/server/notedb/NoteDbUpdateManager.java",
        "patchSetId": 21
      },
      "lineNbr": 319,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-09-14T12:08:20Z",
      "side": 1,
      "message": "the same as above",
      "revId": "0a513baf82651ee517092eab57153c43cac98888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9051e46e_0c38c646",
        "filename": "java/com/google/gerrit/server/notedb/NoteDbUpdateManager.java",
        "patchSetId": 21
      },
      "lineNbr": 319,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2023-09-14T12:17:57Z",
      "side": 1,
      "message": "The APIs of `ImmutableMultimap` and `ImmutableMap` are the same",
      "parentUuid": "c3370713_a32f0183",
      "revId": "0a513baf82651ee517092eab57153c43cac98888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4b3fcc2b_16929c7e",
        "filename": "java/com/google/gerrit/server/notedb/NoteDbUpdateManager.java",
        "patchSetId": 21
      },
      "lineNbr": 319,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-09-14T13:09:32Z",
      "side": 1,
      "message": "the same as above, before:\n```\npublic BatchRefUpdate execute(boolean dryrun) throws IOException {\n```\nand now:\n\n```\npublic ImmutableMultimap\u003cProject.NameKey, BatchRefUpdate\u003e execute(boolean dryrun) throws IOException\n```",
      "parentUuid": "9051e46e_0c38c646",
      "revId": "0a513baf82651ee517092eab57153c43cac98888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a8997874_94ee90f2",
        "filename": "java/com/google/gerrit/server/notedb/NoteDbUpdateManager.java",
        "patchSetId": 21
      },
      "lineNbr": 319,
      "author": {
        "id": 1149185
      },
      "writtenOn": "2023-09-14T14:15:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4b3fcc2b_16929c7e",
      "revId": "0a513baf82651ee517092eab57153c43cac98888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}