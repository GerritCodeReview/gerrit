{
  "comments": [
    {
      "key": {
        "uuid": "MZhzzdTE",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/ReceiveCommits.java",
        "patchSetId": 1
      },
      "lineNbr": 338,
      "author": {
        "id": 1002517
      },
      "writtenOn": "2012-11-30T22:20:52Z",
      "side": 1,
      "message": "this is modifying a singleton object, and will conflict with concurrent requests in different scopes.",
      "revId": "0a8a5e839f3a002a78353ba1eb7ef549448ffff8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "MZjz4MQs",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/ReceiveCommitsExecutorModule.java",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1002517
      },
      "writtenOn": "2012-11-30T22:20:52Z",
      "side": 1,
      "message": "just return ListeningExecutorService",
      "revId": "0a8a5e839f3a002a78353ba1eb7ef549448ffff8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "MZlz9-fk",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/ReceiveCommitsExecutorModule.java",
        "patchSetId": 1
      },
      "lineNbr": 83,
      "author": {
        "id": 1002517
      },
      "writtenOn": "2012-11-30T22:20:52Z",
      "side": 1,
      "message": "inject a Provider\u003cRequestScopePropagator\u003e  to get around the scoping issue.",
      "revId": "0a8a5e839f3a002a78353ba1eb7ef549448ffff8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "MZxvzezE",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/ReceiveCommitsExecutorModule.java",
        "patchSetId": 1
      },
      "lineNbr": 83,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2012-11-30T22:50:12Z",
      "side": 1,
      "message": "Actually the initial idea was to inject RequestScopePropagator directly, but this fails because the ReceiveCommitsExecutorModule is added in the system injector and at this time RequestScopePropagator is not bound yet. We can\u0027t bind RequestScopePropagator in a system injector module because the binding needs to be different for HTTP (GuiceRequestScopePropagator) and SSH (SshScope.Propagator). Injecting Provider\u003cRequestScopePropagator\u003e has the same problem, hasn\u0027t it? Any idea how to make this injection work?",
      "parentUuid": "MZlz9-fk",
      "revId": "0a8a5e839f3a002a78353ba1eb7ef549448ffff8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "MZpwGpSU",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/ReceiveCommitsExecutorModule.java",
        "patchSetId": 1
      },
      "lineNbr": 89,
      "author": {
        "id": 1002517
      },
      "writtenOn": "2012-11-30T22:20:52Z",
      "side": 1,
      "message": "remove the method.",
      "revId": "0a8a5e839f3a002a78353ba1eb7ef549448ffff8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "MZnwCuRQ",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/ReceiveCommitsExecutorModule.java",
        "patchSetId": 1
      },
      "lineNbr": 102,
      "author": {
        "id": 1002517
      },
      "writtenOn": "2012-11-30T22:20:52Z",
      "side": 1,
      "message": "get the result of the Provider\u003cRequestScopePropagator\u003e here.",
      "revId": "0a8a5e839f3a002a78353ba1eb7ef549448ffff8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}