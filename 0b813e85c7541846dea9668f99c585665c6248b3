{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d33a1688_23f9f928",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1118500
      },
      "writtenOn": "2021-08-10T11:02:49Z",
      "side": 1,
      "message": "There is a bug where user is complaining their reviewer have not received email when they sent a change as WIP.\n\nI think it is by design, but I do not see any reason why the reviewer should not receive an email when added ",
      "revId": "0b813e85c7541846dea9668f99c585665c6248b3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d799a4ea_679a4b56",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1118500
      },
      "writtenOn": "2021-08-10T11:04:41Z",
      "side": 1,
      "message": "Sending as WIP, should not send any email notification.",
      "revId": "0b813e85c7541846dea9668f99c585665c6248b3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "02299aa7_a2329204",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-08-10T11:51:42Z",
      "side": 1,
      "message": "I did get an email, fyi.\nFrontend might be overriding this default?",
      "parentUuid": "d799a4ea_679a4b56",
      "revId": "0b813e85c7541846dea9668f99c585665c6248b3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "772ccd4a_4cdf584b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1118500
      },
      "writtenOn": "2021-08-10T12:20:03Z",
      "side": 1,
      "message": "I think this is just the weird logic, I clicked \u0027Send and Start Review\u0027 and it set \u0027WIP\u0027 ad reviewStarted to \u0027true\u0027. So you should be receiving email notifications for each comment now?",
      "parentUuid": "02299aa7_a2329204",
      "revId": "0b813e85c7541846dea9668f99c585665c6248b3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c8a747db_bdbff4eb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-08-10T12:24:39Z",
      "side": 1,
      "message": "you clicked Send and Start Review and it\u0027s still WIP?",
      "parentUuid": "772ccd4a_4cdf584b",
      "revId": "0b813e85c7541846dea9668f99c585665c6248b3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c3074d26_941d0f5f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-08-10T12:25:17Z",
      "side": 1,
      "message": "now that I clicked that, it didn\u0027t keep it as WIP and I assume sent a message.",
      "parentUuid": "c8a747db_bdbff4eb",
      "revId": "0b813e85c7541846dea9668f99c585665c6248b3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1f0f8fa1_d3cd6485",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1118500
      },
      "writtenOn": "2021-08-10T13:57:44Z",
      "side": 1,
      "message": "I found that it works different depending on whether the change was created as WIP or as regular and then set to WIP, see CL description and test.",
      "parentUuid": "c3074d26_941d0f5f",
      "revId": "0b813e85c7541846dea9668f99c585665c6248b3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b66896b8_b07af956",
        "filename": "java/com/google/gerrit/server/restapi/change/PostReviewers.java",
        "patchSetId": 1
      },
      "lineNbr": 91,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-08-10T12:24:39Z",
      "side": 1,
      "message": "btw I don\u0027t agree with this change, I would push back on the bug that asked for it.",
      "range": {
        "startLine": 91,
        "startChar": 63,
        "endLine": 91,
        "endChar": 78
      },
      "revId": "0b813e85c7541846dea9668f99c585665c6248b3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8066c123_7c5ad8bf",
        "filename": "java/com/google/gerrit/server/restapi/change/PostReviewers.java",
        "patchSetId": 1
      },
      "lineNbr": 91,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-08-10T12:31:30Z",
      "side": 1,
      "message": "I think we don\u0027t even use this endpoint when adding reviewers through the UI, and we solely use PostReview, so this won\u0027t make a difference.",
      "parentUuid": "b66896b8_b07af956",
      "range": {
        "startLine": 91,
        "startChar": 63,
        "endLine": 91,
        "endChar": 78
      },
      "revId": "0b813e85c7541846dea9668f99c585665c6248b3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "62a0791b_e3733cc0",
        "filename": "java/com/google/gerrit/server/restapi/change/PostReviewers.java",
        "patchSetId": 1
      },
      "lineNbr": 91,
      "author": {
        "id": 1118500
      },
      "writtenOn": "2021-08-10T13:57:44Z",
      "side": 1,
      "message": "You are right, fronted only uses PostReview endpoint, which relies on WIP and hasReviewStarted (which is not persisted in NoteDB and only set on change creation).\n\nI would either remove hasReviewStarted entirely and only rely on WIP or set hasReviewStarted when any reviewers are added in PostReview/PostReviewers endpoint.\n\nWDYT?",
      "parentUuid": "8066c123_7c5ad8bf",
      "range": {
        "startLine": 91,
        "startChar": 63,
        "endLine": 91,
        "endChar": 78
      },
      "revId": "0b813e85c7541846dea9668f99c585665c6248b3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}