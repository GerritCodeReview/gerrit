{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "76d75b51_792a0fd0",
        "filename": "java/com/google/gerrit/sshd/commands/CheckProjectVisibilityCommand.java",
        "patchSetId": 7
      },
      "lineNbr": 36,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2022-04-27T16:55:49Z",
      "side": 1,
      "message": "would be nice if this looked a little bit check.access REST API. If you call this check-project-access, you can generalize to other permissions too.",
      "range": {
        "startLine": 36,
        "startChar": 13,
        "endLine": 36,
        "endChar": 38
      },
      "revId": "0eed91c3088f10cf371a24847d5277870e678aa9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6abeb7e5_0351b95d",
        "filename": "java/com/google/gerrit/sshd/commands/CheckProjectVisibilityCommand.java",
        "patchSetId": 7
      },
      "lineNbr": 36,
      "author": {
        "id": 1140732
      },
      "writtenOn": "2022-04-28T02:39:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "76d75b51_792a0fd0",
      "range": {
        "startLine": 36,
        "startChar": 13,
        "endLine": 36,
        "endChar": 38
      },
      "revId": "0eed91c3088f10cf371a24847d5277870e678aa9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b8f80b2_a70fb84e",
        "filename": "java/com/google/gerrit/sshd/commands/CheckProjectVisibilityCommand.java",
        "patchSetId": 7
      },
      "lineNbr": 58,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2022-04-27T16:55:49Z",
      "side": 1,
      "message": "Lastname/firstname doesn\u0027t have to be unique, so better not use that.",
      "range": {
        "startLine": 58,
        "startChar": 37,
        "endLine": 58,
        "endChar": 58
      },
      "revId": "0eed91c3088f10cf371a24847d5277870e678aa9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5af9c14c_8cea6930",
        "filename": "java/com/google/gerrit/sshd/commands/CheckProjectVisibilityCommand.java",
        "patchSetId": 7
      },
      "lineNbr": 58,
      "author": {
        "id": 1140732
      },
      "writtenOn": "2022-04-28T02:39:49Z",
      "side": 1,
      "message": "It was actually intended to return the full list of all users with the same name. Would you suggest excluding this functionality of searching non-unique parameters?",
      "parentUuid": "6b8f80b2_a70fb84e",
      "range": {
        "startLine": 58,
        "startChar": 37,
        "endLine": 58,
        "endChar": 58
      },
      "revId": "0eed91c3088f10cf371a24847d5277870e678aa9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "122bf655_5ceeb821",
        "filename": "java/com/google/gerrit/sshd/commands/CheckProjectVisibilityCommand.java",
        "patchSetId": 7
      },
      "lineNbr": 58,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2022-04-28T15:05:58Z",
      "side": 1,
      "message": "sorry ,  I didn\u0027t look in much detail when I said that.\n\nIn some installations, users can change their own name. In an adversarial setting (eg. server on the internet), this means that random users can spoof their way into the output of this command. Because the permission check could be used in security-relevant settings, I think it\u0027s best to avoid using attacker controlled data. \n\nThe REST API returns 422 for ambiguous account data (but it would probably better to disable the account lookup based on full name in this case.)",
      "parentUuid": "5af9c14c_8cea6930",
      "range": {
        "startLine": 58,
        "startChar": 37,
        "endLine": 58,
        "endChar": 58
      },
      "revId": "0eed91c3088f10cf371a24847d5277870e678aa9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "58cfcb14_40c1389a",
        "filename": "java/com/google/gerrit/sshd/commands/CheckProjectVisibilityCommand.java",
        "patchSetId": 7
      },
      "lineNbr": 58,
      "author": {
        "id": 1140732
      },
      "writtenOn": "2022-05-03T18:54:00Z",
      "side": 1,
      "message": "Acknowledged, thank you for the detailed explanation! I have released new patch set so that only admin or user who has view access capability can have access to the command, so that it can solve the security-relevant issues.",
      "parentUuid": "122bf655_5ceeb821",
      "range": {
        "startLine": 58,
        "startChar": 37,
        "endLine": 58,
        "endChar": 58
      },
      "revId": "0eed91c3088f10cf371a24847d5277870e678aa9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}