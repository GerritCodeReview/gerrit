{
  "comments": [
    {
      "key": {
        "uuid": "a0d4f30f_64ed07fa",
        "filename": "javatests/com/google/gerrit/integration/git/GitProtocolV2IT.java",
        "patchSetId": 2
      },
      "lineNbr": 67,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2019-12-04T12:15:39Z",
      "side": 0,
      "message": "The point of assumption vialation was: if I have lokal outdated git client version it should fail only with assumption violation. If howevere, the assumption was succefful, but after this line if assertion is not successful, e.g., on L44:\n\n  assertGitProtocolV2Refs(commit, out);\n\nthe whole test should fail. have you tried to test it with:\n\n  assertThat(false).isTrue();\n\nafter line 67 an it is not failing? is that then Bazel or JUnit bug or what is change is trying to fix?",
      "range": {
        "startLine": 66,
        "startChar": 4,
        "endLine": 67,
        "endChar": 66
      },
      "revId": "0f15c891953eae7273f22ca0b722e0c309515ca3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7f7e6dbf_da994a0f",
        "filename": "javatests/com/google/gerrit/integration/git/GitProtocolV2IT.java",
        "patchSetId": 2
      },
      "lineNbr": 67,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2019-12-04T12:32:17Z",
      "side": 0,
      "message": "The point is that with this implementation we don\u0027t know whether it\u0027s broken because the tests are always skipped due to CI having too old version.",
      "parentUuid": "a0d4f30f_64ed07fa",
      "range": {
        "startLine": 66,
        "startChar": 4,
        "endLine": 67,
        "endChar": 66
      },
      "revId": "0f15c891953eae7273f22ca0b722e0c309515ca3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cc66d000_0c4876c7",
        "filename": "javatests/com/google/gerrit/integration/git/GitProtocolV2IT.java",
        "patchSetId": 2
      },
      "lineNbr": 67,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2019-12-04T13:04:37Z",
      "side": 0,
      "message": "That\u0027s just fine. We can only test on the CI what we can test on the CI.\nWe can\u0027t test Java 13 integration on the CI and also not Java 14.\n\nSimilarly, we can\u0027t test Git v2 protocol on the CI, that requires Git 2.18.\n\nWhat if we can\u0027t upgrade the CI, and we would merge this change as is? This would\neffectively mean, no single change would pass the verification.\n\nThat is why assumption violation iq reauired, until we upgrade CI. Here is the change for that: [1]. Any reviewers and tests would be appreciated. I tested it and it works as expected.\n\nStill I don\u0027t understand, what Luca is trying to say with \"Git V2 protocol is not working on release 3.1\"? Can you file yet another issue why Git v2 protocol is broken on release 3.1?\n\n* [1] https://gerrit-review.googlesource.com/c/gerrit-ci-scripts/+/237181",
      "parentUuid": "7f7e6dbf_da994a0f",
      "range": {
        "startLine": 66,
        "startChar": 4,
        "endLine": 67,
        "endChar": 66
      },
      "revId": "0f15c891953eae7273f22ca0b722e0c309515ca3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}