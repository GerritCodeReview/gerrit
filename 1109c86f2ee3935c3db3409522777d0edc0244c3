{
  "comments": [
    {
      "key": {
        "uuid": "bac50684_e1ae433f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 11,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2018-04-09T14:57:58Z",
      "side": 1,
      "message": "As I mentioned earlier in this series, I\u0027m not clear on why this hasn\u0027t happened yet.",
      "range": {
        "startLine": 10,
        "startChar": 47,
        "endLine": 11,
        "endChar": 48
      },
      "revId": "1109c86f2ee3935c3db3409522777d0edc0244c3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "67836c5f_6620f4f6",
        "filename": "java/com/google/gerrit/git/BUILD",
        "patchSetId": 3
      },
      "lineNbr": 15,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2018-04-09T14:57:58Z",
      "side": 1,
      "message": "I\u0027m not sure I like having the Guice dependency here. To me, it seems like Guice is more part of the Gerrit server glue, and not really part of a set of low-level-ish tools built on JGit.\n\nWhat classes require Guice here? I noticed TagCache; were there others?\n\n(In terms of keeping the dependency set of this package small, it\u0027s not a big deal.)",
      "revId": "1109c86f2ee3935c3db3409522777d0edc0244c3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "46b9ec21_7e2cf532",
        "filename": "java/com/google/gerrit/git/BUILD",
        "patchSetId": 3
      },
      "lineNbr": 15,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2018-04-09T15:06:51Z",
      "side": 1,
      "message": "Sigh... I would also like if we could avoid this (like it worked for index package), but... even if we would try hard to avoid Guice as direct dependency, like the code is currently organised, we would have transitive dependency on Guice anyway, as many classes depend on GerritServerConfig-Annotation and it depends on com.google.inject.BindingAnnotation.",
      "parentUuid": "67836c5f_6620f4f6",
      "revId": "1109c86f2ee3935c3db3409522777d0edc0244c3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8d35d6ce_ff4f3be5",
        "filename": "java/com/google/gerrit/git/BUILD",
        "patchSetId": 3
      },
      "lineNbr": 15,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2018-04-09T16:52:12Z",
      "side": 1,
      "message": "Not sure I follow. Where would that dependency come from in this package?",
      "parentUuid": "46b9ec21_7e2cf532",
      "revId": "1109c86f2ee3935c3db3409522777d0edc0244c3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5277ec2c_d671ccdc",
        "filename": "java/com/google/gerrit/git/BUILD",
        "patchSetId": 3
      },
      "lineNbr": 15,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2018-04-09T20:58:08Z",
      "side": 1,
      "message": "Actually, dependency on GerritServerConfig is equals to the dependency on Guice: \n\n  $ cd gerrit/server \u0026\u0026 grep -l GerritServerConfig *\n  GarbageCollectionLogFile.java\n  LocalDiskRepositoryManager.java\n  MergeUtil.java\n  MultiBaseLocalDiskRepositoryManager.java\n  TransferConfig.java\n  WorkQueue.java\n\nWe could start first moving only classes without dependency on Guice, yes. This would raise the question though, how can we decouple gerrit.server package further then?\n\nI did one proposal in this change: [1], to separate between low level and high level packages, with the same names, but in different locations in the source tree, so similar, to mail, we could have c.g.g.lib.git for low level dependency, and actually be candidates for moving at least part of the code to upstream (JGit) or externalize the library as gerrit-git-library or similar. And the high level c.g.g.git with more dependency on old gerrit core stuff, among other Guice.\n\n* [1] https://gerrit-review.googlesource.com/#/c/gerrit/+/141213/6//COMMIT_MSG@7",
      "parentUuid": "8d35d6ce_ff4f3be5",
      "revId": "1109c86f2ee3935c3db3409522777d0edc0244c3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}