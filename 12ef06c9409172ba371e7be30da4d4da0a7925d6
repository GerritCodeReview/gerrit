{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "329dbb90_e6a2d711",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2021-07-01T15:32:00Z",
      "side": 1,
      "message": "Approval inference was migrated to new diff cache with https://gerrit-review.googlesource.com/c/gerrit/+/299797.\n\nI think we can abandon this change.",
      "revId": "12ef06c9409172ba371e7be30da4d4da0a7925d6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d3274e68_23cc8d27",
        "filename": "java/com/google/gerrit/server/ApprovalInference.java",
        "patchSetId": 1
      },
      "lineNbr": 405,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2021-03-11T09:40:30Z",
      "side": 1,
      "message": "Sorry, since I gave you the advice to do this, we discovered new, exciting failure modes.\n\nRename detection can be really slow because it reads file contents and and compares them. For changes with many files or large files, this is problematic.\n\nIn this class, we actually need rename detection (in other places where DiffFormatter is used) we don\u0027t, so we just turned it off.\n\nGiven these new insights, I think it\u0027s better to stick with using the cache here. Sorry for the churn.",
      "range": {
        "startLine": 405,
        "startChar": 19,
        "endLine": 405,
        "endChar": 43
      },
      "revId": "12ef06c9409172ba371e7be30da4d4da0a7925d6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ca74fce5_0e556953",
        "filename": "java/com/google/gerrit/server/ApprovalInference.java",
        "patchSetId": 1
      },
      "lineNbr": 405,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-03-11T09:53:59Z",
      "side": 1,
      "message": "sure, no problem!\n\nMaybe this can still be good after the JGit fix that Youssef is working on is implemented?\nhttps://git.eclipse.org/r/c/jgit/jgit/+/177553",
      "parentUuid": "d3274e68_23cc8d27",
      "range": {
        "startLine": 405,
        "startChar": 19,
        "endLine": 405,
        "endChar": 43
      },
      "revId": "12ef06c9409172ba371e7be30da4d4da0a7925d6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "927725e9_f939e090",
        "filename": "java/com/google/gerrit/server/ApprovalInference.java",
        "patchSetId": 1
      },
      "lineNbr": 405,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2021-03-17T09:48:12Z",
      "side": 1,
      "message": "good idea, we should try that once it\u0027s in.",
      "parentUuid": "ca74fce5_0e556953",
      "range": {
        "startLine": 405,
        "startChar": 19,
        "endLine": 405,
        "endChar": 43
      },
      "revId": "12ef06c9409172ba371e7be30da4d4da0a7925d6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e7fe0405_64025131",
        "filename": "java/com/google/gerrit/server/ApprovalInference.java",
        "patchSetId": 1
      },
      "lineNbr": 405,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2021-03-17T12:30:48Z",
      "side": 1,
      "message": "FYI, I have some changes to migrate existing PatchListCache#get usages to use new diff cache. https://gerrit-review.googlesource.com/c/gerrit/+/299797\n\nThe JGit fix is also submitted. If this is urgent, we can update JGit version. Last update was done 3 weeks ago https://gerrit.googlesource.com/gerrit/+log/refs/heads/master/modules",
      "parentUuid": "927725e9_f939e090",
      "range": {
        "startLine": 405,
        "startChar": 19,
        "endLine": 405,
        "endChar": 43
      },
      "revId": "12ef06c9409172ba371e7be30da4d4da0a7925d6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2e3376fb_f0be7e1a",
        "filename": "java/com/google/gerrit/server/ApprovalInference.java",
        "patchSetId": 1
      },
      "lineNbr": 405,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-03-18T10:30:09Z",
      "side": 1,
      "message": "Any metrics for the new diff cache? If this is significantly faster, I\u0027d say this change is not required then.",
      "parentUuid": "e7fe0405_64025131",
      "range": {
        "startLine": 405,
        "startChar": 19,
        "endLine": 405,
        "endChar": 43
      },
      "revId": "12ef06c9409172ba371e7be30da4d4da0a7925d6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}