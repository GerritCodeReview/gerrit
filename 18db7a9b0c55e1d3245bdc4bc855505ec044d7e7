{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "36f670fe_20128c4f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2021-02-25T09:38:20Z",
      "side": 1,
      "message": "very nice",
      "revId": "18db7a9b0c55e1d3245bdc4bc855505ec044d7e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4adcd472_89872aa8",
        "filename": "java/com/google/gerrit/extensions/common/ChangeInfoDiffer.java",
        "patchSetId": 5
      },
      "lineNbr": 15,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2021-02-25T09:38:07Z",
      "side": 1,
      "message": "not sure if this is the right place. Patrick?",
      "range": {
        "startLine": 15,
        "startChar": 26,
        "endLine": 15,
        "endChar": 43
      },
      "revId": "18db7a9b0c55e1d3245bdc4bc855505ec044d7e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "37b283d6_608e3ffb",
        "filename": "java/com/google/gerrit/extensions/common/ChangeInfoDiffer.java",
        "patchSetId": 5
      },
      "lineNbr": 15,
      "author": {
        "id": 1077840
      },
      "writtenOn": "2021-02-25T18:48:00Z",
      "side": 1,
      "message": "Will the protected constructors be a problem for the reflection if the differ is moved to a new package?",
      "parentUuid": "4adcd472_89872aa8",
      "range": {
        "startLine": 15,
        "startChar": 26,
        "endLine": 15,
        "endChar": 43
      },
      "revId": "18db7a9b0c55e1d3245bdc4bc855505ec044d7e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "27e0aed4_899903b1",
        "filename": "java/com/google/gerrit/extensions/common/ChangeInfoDiffer.java",
        "patchSetId": 5
      },
      "lineNbr": 15,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2021-02-25T18:57:24Z",
      "side": 1,
      "message": "oh, I see. maybe note this in a comment.",
      "parentUuid": "37b283d6_608e3ffb",
      "range": {
        "startLine": 15,
        "startChar": 26,
        "endLine": 15,
        "endChar": 43
      },
      "revId": "18db7a9b0c55e1d3245bdc4bc855505ec044d7e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "13c21850_f54b6e05",
        "filename": "java/com/google/gerrit/extensions/common/ChangeInfoDiffer.java",
        "patchSetId": 5
      },
      "lineNbr": 15,
      "author": {
        "id": 1077840
      },
      "writtenOn": "2021-02-25T21:29:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "27e0aed4_899903b1",
      "range": {
        "startLine": 15,
        "startChar": 26,
        "endLine": 15,
        "endChar": 43
      },
      "revId": "18db7a9b0c55e1d3245bdc4bc855505ec044d7e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a352f532_180bfc4a",
        "filename": "java/com/google/gerrit/extensions/common/ChangeInfoDiffer.java",
        "patchSetId": 5
      },
      "lineNbr": 123,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2021-02-25T09:38:07Z",
      "side": 1,
      "message": "isn\u0027t this quadratic ?",
      "range": {
        "startLine": 123,
        "startChar": 26,
        "endLine": 123,
        "endChar": 51
      },
      "revId": "18db7a9b0c55e1d3245bdc4bc855505ec044d7e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bd51a13c_db462ab7",
        "filename": "java/com/google/gerrit/extensions/common/ChangeInfoDiffer.java",
        "patchSetId": 5
      },
      "lineNbr": 123,
      "author": {
        "id": 1077840
      },
      "writtenOn": "2021-02-25T18:48:00Z",
      "side": 1,
      "message": "Good note. Changed it to still accommodate duplicates, but the best case is now linear. The worst case is still quadratic.\n\nAnother option is to store Map\u003cObject, Integer\u003e where Integer is the number of items in newCollection where .equals(Object) but then you lose any uniqueness in the duplicates due to missing checks in .equals override (or purposeful omissions).\n\nAny other ideas?",
      "parentUuid": "a352f532_180bfc4a",
      "range": {
        "startLine": 123,
        "startChar": 26,
        "endLine": 123,
        "endChar": 51
      },
      "revId": "18db7a9b0c55e1d3245bdc4bc855505ec044d7e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "99cd4136_6da8f9ad",
        "filename": "java/com/google/gerrit/extensions/common/ChangeInfoDiffer.java",
        "patchSetId": 5
      },
      "lineNbr": 123,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2021-02-25T18:57:24Z",
      "side": 1,
      "message": "I was expecting something like \n\n\n   Set\u003c?\u003e oldAsSet \u003d ..\n   List\u003c?\u003e diff \u003d new ArrayList();\n   for (? n : newcollection) { \n        if (!oldAsSet.contains(n)) diff.add(n); \n   }\n   return diff\n\nwhat kind of duplicates are you anticipating?",
      "parentUuid": "bd51a13c_db462ab7",
      "range": {
        "startLine": 123,
        "startChar": 26,
        "endLine": 123,
        "endChar": 51
      },
      "revId": "18db7a9b0c55e1d3245bdc4bc855505ec044d7e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "62f8f6a4_a6ffd9b0",
        "filename": "java/com/google/gerrit/extensions/common/ChangeInfoDiffer.java",
        "patchSetId": 5
      },
      "lineNbr": 123,
      "author": {
        "id": 1077840
      },
      "writtenOn": "2021-02-25T19:07:18Z",
      "side": 1,
      "message": "Compressing oldCollection into a set, we lose duplicates in oldCollection. These can include Strings or nonsimple objects such as comments. So if there are 2 duplicates in oldCollection and then 4 duplicates in newCollection, it should return 2 duplicates in added.\n\nHowever the code above wouldn\u0027t return any duplicates.",
      "parentUuid": "99cd4136_6da8f9ad",
      "range": {
        "startLine": 123,
        "startChar": 26,
        "endLine": 123,
        "endChar": 51
      },
      "revId": "18db7a9b0c55e1d3245bdc4bc855505ec044d7e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0497c7ef_64ffc6b6",
        "filename": "java/com/google/gerrit/extensions/common/ChangeInfoDiffer.java",
        "patchSetId": 5
      },
      "lineNbr": 123,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2021-02-25T19:14:12Z",
      "side": 1,
      "message": "right, so if you do a full diff like we do for code, it\u0027s O(NM). Do we have repeated strings and objects in practice, though?",
      "parentUuid": "62f8f6a4_a6ffd9b0",
      "range": {
        "startLine": 123,
        "startChar": 26,
        "endLine": 123,
        "endChar": 51
      },
      "revId": "18db7a9b0c55e1d3245bdc4bc855505ec044d7e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7a477ca5_4b31070b",
        "filename": "java/com/google/gerrit/extensions/common/ChangeInfoDiffer.java",
        "patchSetId": 5
      },
      "lineNbr": 123,
      "author": {
        "id": 1077840
      },
      "writtenOn": "2021-02-25T19:46:40Z",
      "side": 1,
      "message": "Yes right now there are no repeated strings in practice, which means the Map\u003cObject, List\u003cObject\u003e\u003e approach will be linear in practice and it protects us against added fields to ChangeInfo that may have duplicates.\n\nA small downside may be that the code looks dirtier.",
      "parentUuid": "0497c7ef_64ffc6b6",
      "range": {
        "startLine": 123,
        "startChar": 26,
        "endLine": 123,
        "endChar": 51
      },
      "revId": "18db7a9b0c55e1d3245bdc4bc855505ec044d7e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "35fe31bc_81338509",
        "filename": "java/com/google/gerrit/extensions/common/ChangeInfoDiffer.java",
        "patchSetId": 5
      },
      "lineNbr": 123,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2021-02-26T09:58:03Z",
      "side": 1,
      "message": "This was also jumping to my eye when reading and I wanted to suggest smth like Sets.difference, but you are right about the dupes in any Collection that we\u0027d loose.\n\nSeems fine as it is to me because data here is usually small.",
      "parentUuid": "7a477ca5_4b31070b",
      "range": {
        "startLine": 123,
        "startChar": 26,
        "endLine": 123,
        "endChar": 51
      },
      "revId": "18db7a9b0c55e1d3245bdc4bc855505ec044d7e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d886f1d1_41b22c6d",
        "filename": "java/com/google/gerrit/extensions/common/ChangeInfoDiffer.java",
        "patchSetId": 5
      },
      "lineNbr": 152,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2021-02-25T09:38:07Z",
      "side": 1,
      "message": "under what circumstances does this happen? Since we control the declarations of ChangeInfo, this should never happen?",
      "range": {
        "startLine": 152,
        "startChar": 13,
        "endLine": 152,
        "endChar": 41
      },
      "revId": "18db7a9b0c55e1d3245bdc4bc855505ec044d7e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "033c24d5_19461e1b",
        "filename": "java/com/google/gerrit/extensions/common/ChangeInfoDiffer.java",
        "patchSetId": 5
      },
      "lineNbr": 152,
      "author": {
        "id": 1077840
      },
      "writtenOn": "2021-02-25T18:48:00Z",
      "side": 1,
      "message": "There are 3 checked exceptions that can be thrown\n\n- InvocationTargetException when the constructor throws for some reason.\n- IllegalAccessException for visibility problems (most likely to happen)\n- InstantiationException - this won\u0027t happen. It\u0027s for abstract class instantiation\n\nThey can all be wrapped under ReflectiveOperationException.\n\nLogging an error here seems appropriate - changed.",
      "parentUuid": "d886f1d1_41b22c6d",
      "range": {
        "startLine": 152,
        "startChar": 13,
        "endLine": 152,
        "endChar": 41
      },
      "revId": "18db7a9b0c55e1d3245bdc4bc855505ec044d7e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "109fc411_9d179ae5",
        "filename": "java/com/google/gerrit/extensions/common/ChangeInfoDiffer.java",
        "patchSetId": 5
      },
      "lineNbr": 152,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2021-02-25T18:57:24Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "033c24d5_19461e1b",
      "range": {
        "startLine": 152,
        "startChar": 13,
        "endLine": 152,
        "endChar": 41
      },
      "revId": "18db7a9b0c55e1d3245bdc4bc855505ec044d7e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "abb4b3e1_e4d21e03",
        "filename": "java/com/google/gerrit/extensions/common/ChangeInfoDiffer.java",
        "patchSetId": 5
      },
      "lineNbr": 169,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2021-02-25T09:38:07Z",
      "side": 1,
      "message": "this shouldn\u0027t happen, right? log an error? Same for other IAEs",
      "range": {
        "startLine": 169,
        "startChar": 0,
        "endLine": 169,
        "endChar": 6
      },
      "revId": "18db7a9b0c55e1d3245bdc4bc855505ec044d7e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1796fd27_09cfabbe",
        "filename": "java/com/google/gerrit/extensions/common/ChangeInfoDiffer.java",
        "patchSetId": 5
      },
      "lineNbr": 169,
      "author": {
        "id": 1077840
      },
      "writtenOn": "2021-02-25T18:48:00Z",
      "side": 1,
      "message": "Used Flogger, which is hopefully correct",
      "parentUuid": "abb4b3e1_e4d21e03",
      "range": {
        "startLine": 169,
        "startChar": 0,
        "endLine": 169,
        "endChar": 6
      },
      "revId": "18db7a9b0c55e1d3245bdc4bc855505ec044d7e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "88891632_a086fc46",
        "filename": "javatests/com/google/gerrit/extensions/common/ChangeInfoDifferTest.java",
        "patchSetId": 5
      },
      "lineNbr": 133,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2021-02-25T09:38:07Z",
      "side": 1,
      "message": "for diffing, this is OK to test, but stars depends on the calling user. It might be a good a good idea to filter those in the new endpoint by default.",
      "range": {
        "startLine": 133,
        "startChar": 14,
        "endLine": 133,
        "endChar": 51
      },
      "revId": "18db7a9b0c55e1d3245bdc4bc855505ec044d7e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "61d9212d_85dac65e",
        "filename": "javatests/com/google/gerrit/extensions/common/ChangeInfoDifferTest.java",
        "patchSetId": 5
      },
      "lineNbr": 133,
      "author": {
        "id": 1077840
      },
      "writtenOn": "2021-02-25T18:48:00Z",
      "side": 1,
      "message": "Got it - changed this test to Collection\u003cString\u003e hashtags",
      "parentUuid": "88891632_a086fc46",
      "range": {
        "startLine": 133,
        "startChar": 14,
        "endLine": 133,
        "endChar": 51
      },
      "revId": "18db7a9b0c55e1d3245bdc4bc855505ec044d7e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6c4af551_3f51b810",
        "filename": "javatests/com/google/gerrit/extensions/common/ChangeInfoDifferTest.java",
        "patchSetId": 5
      },
      "lineNbr": 332,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2021-02-25T09:38:07Z",
      "side": 1,
      "message": "dup from class under test? use @VisibleForTesting instead?",
      "range": {
        "startLine": 332,
        "startChar": 24,
        "endLine": 332,
        "endChar": 33
      },
      "revId": "18db7a9b0c55e1d3245bdc4bc855505ec044d7e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2c0ada98_e7665bdf",
        "filename": "javatests/com/google/gerrit/extensions/common/ChangeInfoDifferTest.java",
        "patchSetId": 5
      },
      "lineNbr": 332,
      "author": {
        "id": 1077840
      },
      "writtenOn": "2021-02-25T18:48:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6c4af551_3f51b810",
      "range": {
        "startLine": 332,
        "startChar": 24,
        "endLine": 332,
        "endChar": 33
      },
      "revId": "18db7a9b0c55e1d3245bdc4bc855505ec044d7e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "29839b8b_60ac43bc",
        "filename": "javatests/com/google/gerrit/extensions/common/ChangeInfoDifferTest.java",
        "patchSetId": 5
      },
      "lineNbr": 341,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2021-02-25T09:38:07Z",
      "side": 1,
      "message": "dup from the class under test? if so, maybe @VisibleForTesting",
      "range": {
        "startLine": 341,
        "startChar": 25,
        "endLine": 341,
        "endChar": 33
      },
      "revId": "18db7a9b0c55e1d3245bdc4bc855505ec044d7e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "09c9b647_1be6ed1b",
        "filename": "javatests/com/google/gerrit/extensions/common/ChangeInfoDifferTest.java",
        "patchSetId": 5
      },
      "lineNbr": 341,
      "author": {
        "id": 1077840
      },
      "writtenOn": "2021-02-25T18:48:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "29839b8b_60ac43bc",
      "range": {
        "startLine": 341,
        "startChar": 25,
        "endLine": 341,
        "endChar": 33
      },
      "revId": "18db7a9b0c55e1d3245bdc4bc855505ec044d7e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}