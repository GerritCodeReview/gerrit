{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ff28f80e_430ef1b1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 14
      },
      "lineNbr": 0,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-06-22T12:13:39Z",
      "side": 1,
      "message": "nit: please add Release-Notes footer.",
      "revId": "197b4333e4fd4983c0e6d6eaadf7e61d07fb0b6f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e44b273b_bb441a47",
        "filename": "/COMMIT_MSG",
        "patchSetId": 14
      },
      "lineNbr": 0,
      "author": {
        "id": 1118500
      },
      "writtenOn": "2022-06-22T14:37:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ff28f80e_430ef1b1",
      "revId": "197b4333e4fd4983c0e6d6eaadf7e61d07fb0b6f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "66af7df8_15c2b1bb",
        "filename": "/COMMIT_MSG",
        "patchSetId": 14
      },
      "lineNbr": 20,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-06-22T12:13:39Z",
      "side": 1,
      "message": "nit: still needs wrapping to 80 chars.",
      "range": {
        "startLine": 20,
        "startChar": 71,
        "endLine": 20,
        "endChar": 74
      },
      "revId": "197b4333e4fd4983c0e6d6eaadf7e61d07fb0b6f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5328bc46_5072f466",
        "filename": "/COMMIT_MSG",
        "patchSetId": 14
      },
      "lineNbr": 20,
      "author": {
        "id": 1118500
      },
      "writtenOn": "2022-06-22T14:37:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "66af7df8_15c2b1bb",
      "range": {
        "startLine": 20,
        "startChar": 71,
        "endLine": 20,
        "endChar": 74
      },
      "revId": "197b4333e4fd4983c0e6d6eaadf7e61d07fb0b6f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5fc5d268_d89c71ae",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 14
      },
      "lineNbr": 0,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-06-22T12:13:39Z",
      "side": 1,
      "message": "Nice! Thank you for addressing the comments.\n\nSorry for the lengthy comments, but I\u0027m trying to make sure we don\u0027t miss anything. I left a final round of comments.",
      "revId": "197b4333e4fd4983c0e6d6eaadf7e61d07fb0b6f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f61cd290_80eac5fc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 14
      },
      "lineNbr": 0,
      "author": {
        "id": 1118500
      },
      "writtenOn": "2022-06-22T14:37:20Z",
      "side": 1,
      "message": "Thank you for careful review!",
      "parentUuid": "5fc5d268_d89c71ae",
      "revId": "197b4333e4fd4983c0e6d6eaadf7e61d07fb0b6f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6f355ad2_00abbb14",
        "filename": "java/com/google/gerrit/index/IndexedField.java",
        "patchSetId": 14
      },
      "lineNbr": 68,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-06-22T12:13:39Z",
      "side": 1,
      "message": "nit: this can also be removed.",
      "range": {
        "startLine": 68,
        "startChar": 62,
        "endLine": 68,
        "endChar": 68
      },
      "revId": "197b4333e4fd4983c0e6d6eaadf7e61d07fb0b6f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "07272fc5_f406b133",
        "filename": "java/com/google/gerrit/index/IndexedField.java",
        "patchSetId": 14
      },
      "lineNbr": 68,
      "author": {
        "id": 1118500
      },
      "writtenOn": "2022-06-22T14:37:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6f355ad2_00abbb14",
      "range": {
        "startLine": 68,
        "startChar": 62,
        "endLine": 68,
        "endChar": 68
      },
      "revId": "197b4333e4fd4983c0e6d6eaadf7e61d07fb0b6f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b63671a8_6fcfc081",
        "filename": "java/com/google/gerrit/index/IndexedField.java",
        "patchSetId": 14
      },
      "lineNbr": 171,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-06-22T12:13:39Z",
      "side": 1,
      "message": "Can we add some tests to disallow (prevent) creating a wrong combination of {search type, field type}? Ideally it\u0027d be better to catch this in the CI if we added a wrong combination of search/field types instead of failing at runtime.",
      "revId": "197b4333e4fd4983c0e6d6eaadf7e61d07fb0b6f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b72667cf_fa4bf6e3",
        "filename": "java/com/google/gerrit/index/IndexedField.java",
        "patchSetId": 14
      },
      "lineNbr": 171,
      "author": {
        "id": 1118500
      },
      "writtenOn": "2022-06-22T14:37:20Z",
      "side": 1,
      "message": "If someone attempts to add an invalid combination to the fields, the AbstractQuery* test for the corresponding operator will immediately fail. I think this is sufficiently covered.\nIf someone adds an invalid field and does not cover the new query operator with tests, they are maybe ok with crashing it at the runtime :)",
      "parentUuid": "b63671a8_6fcfc081",
      "revId": "197b4333e4fd4983c0e6d6eaadf7e61d07fb0b6f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7064f7a7_998c713c",
        "filename": "java/com/google/gerrit/index/IndexedField.java",
        "patchSetId": 14
      },
      "lineNbr": 171,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-06-22T15:15:23Z",
      "side": 1,
      "message": "OK, this sounds reasonable. Thanks for explaining.",
      "parentUuid": "b72667cf_fa4bf6e3",
      "revId": "197b4333e4fd4983c0e6d6eaadf7e61d07fb0b6f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9432775f_1af88787",
        "filename": "java/com/google/gerrit/index/IndexedField.java",
        "patchSetId": 14
      },
      "lineNbr": 333,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-06-22T12:13:39Z",
      "side": 1,
      "message": "nit: please add that default is false.",
      "revId": "197b4333e4fd4983c0e6d6eaadf7e61d07fb0b6f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "aa7ca658_db243410",
        "filename": "java/com/google/gerrit/index/IndexedField.java",
        "patchSetId": 14
      },
      "lineNbr": 333,
      "author": {
        "id": 1118500
      },
      "writtenOn": "2022-06-22T14:37:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9432775f_1af88787",
      "revId": "197b4333e4fd4983c0e6d6eaadf7e61d07fb0b6f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d291b086_da112eb4",
        "filename": "java/com/google/gerrit/index/IndexedField.java",
        "patchSetId": 14
      },
      "lineNbr": 336,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-06-22T12:13:39Z",
      "side": 1,
      "message": "nit: please add that default is false.",
      "revId": "197b4333e4fd4983c0e6d6eaadf7e61d07fb0b6f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "afec0ef5_421d9b37",
        "filename": "java/com/google/gerrit/index/IndexedField.java",
        "patchSetId": 14
      },
      "lineNbr": 336,
      "author": {
        "id": 1118500
      },
      "writtenOn": "2022-06-22T14:37:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d291b086_da112eb4",
      "revId": "197b4333e4fd4983c0e6d6eaadf7e61d07fb0b6f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4834ea7f_7a4810ed",
        "filename": "java/com/google/gerrit/index/IndexedField.java",
        "patchSetId": 14
      },
      "lineNbr": 423,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-06-22T12:13:39Z",
      "side": 1,
      "message": "AFAIU, this is a newly added functionality. Is it possible to cover these by tests? I\u0027m also fine if we\u0027re planning to do so when we start using protos, but wanted to bring this to attention.",
      "revId": "197b4333e4fd4983c0e6d6eaadf7e61d07fb0b6f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "117913b5_2e3d6a44",
        "filename": "java/com/google/gerrit/index/IndexedField.java",
        "patchSetId": 14
      },
      "lineNbr": 423,
      "author": {
        "id": 1118500
      },
      "writtenOn": "2022-06-22T14:37:20Z",
      "side": 1,
      "message": "Similar to my other comment: this is covered by query tests.\nOnce we introduce proto fields, the AbstractQuery* tests will cover this code path.",
      "parentUuid": "4834ea7f_7a4810ed",
      "revId": "197b4333e4fd4983c0e6d6eaadf7e61d07fb0b6f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cbe88e16_047fb7fb",
        "filename": "java/com/google/gerrit/index/IndexedField.java",
        "patchSetId": 14
      },
      "lineNbr": 423,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-06-22T15:15:23Z",
      "side": 1,
      "message": "Ack.",
      "parentUuid": "117913b5_2e3d6a44",
      "revId": "197b4333e4fd4983c0e6d6eaadf7e61d07fb0b6f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f775dc18_b00ce51f",
        "filename": "java/com/google/gerrit/index/IndexedField.java",
        "patchSetId": 14
      },
      "lineNbr": 480,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-06-22T12:13:39Z",
      "side": 1,
      "message": "Can we just\n\n`return Protos.parseUnchecked(protoConverter().get().getParser(), bytes);`\n\n?",
      "revId": "197b4333e4fd4983c0e6d6eaadf7e61d07fb0b6f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7e391d6a_e564a8ce",
        "filename": "java/com/google/gerrit/index/IndexedField.java",
        "patchSetId": 14
      },
      "lineNbr": 480,
      "author": {
        "id": 1118500
      },
      "writtenOn": "2022-06-22T14:37:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f775dc18_b00ce51f",
      "revId": "197b4333e4fd4983c0e6d6eaadf7e61d07fb0b6f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a92cb6e9_0901b273",
        "filename": "java/com/google/gerrit/index/testing/FakeStoredValue.java",
        "patchSetId": 14
      },
      "lineNbr": 80,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-06-22T12:13:39Z",
      "side": 1,
      "message": "shouldn\u0027t this just convert the field to proto? whether or not protos are stored is up to the index backend.\n\nSame for LuceneStoredValue.",
      "revId": "197b4333e4fd4983c0e6d6eaadf7e61d07fb0b6f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d9e9fde2_0b5306d1",
        "filename": "java/com/google/gerrit/index/testing/FakeStoredValue.java",
        "patchSetId": 14
      },
      "lineNbr": 80,
      "author": {
        "id": 1118500
      },
      "writtenOn": "2022-06-22T14:37:20Z",
      "side": 1,
      "message": "You are right, Fake index just stores the value, returned by the getter as an object.\nLucene only stores bytes, so the implementation is correct: since it does not store protos, the document fields can not be represented as protos.\n[1]https://gerrit.googlesource.com/gerrit/+blame/master/java/com/google/gerrit/index/testing/AbstractFakeIndex.java#220\n[2]https://gerrit.googlesource.com/gerrit/+/master/java/com/google/gerrit/lucene/AbstractLuceneIndex.java#371",
      "parentUuid": "a92cb6e9_0901b273",
      "revId": "197b4333e4fd4983c0e6d6eaadf7e61d07fb0b6f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1ff5ed2a_37941d6e",
        "filename": "java/com/google/gerrit/lucene/LuceneStoredValue.java",
        "patchSetId": 14
      },
      "lineNbr": 87,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-06-22T12:13:39Z",
      "side": 1,
      "message": "nit: store",
      "range": {
        "startLine": 87,
        "startChar": 23,
        "endLine": 87,
        "endChar": 27
      },
      "revId": "197b4333e4fd4983c0e6d6eaadf7e61d07fb0b6f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "11a25d48_5befd1aa",
        "filename": "java/com/google/gerrit/lucene/LuceneStoredValue.java",
        "patchSetId": 14
      },
      "lineNbr": 87,
      "author": {
        "id": 1118500
      },
      "writtenOn": "2022-06-22T14:37:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1ff5ed2a_37941d6e",
      "range": {
        "startLine": 87,
        "startChar": 23,
        "endLine": 87,
        "endChar": 27
      },
      "revId": "197b4333e4fd4983c0e6d6eaadf7e61d07fb0b6f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "79fdb97e_ca4e520c",
        "filename": "java/com/google/gerrit/lucene/LuceneStoredValue.java",
        "patchSetId": 14
      },
      "lineNbr": 87,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-06-22T15:15:23Z",
      "side": 1,
      "message": "optional: giving this a second thought, it could be better to throw an exception; i.e. preventing callers from using this method at all.",
      "parentUuid": "11a25d48_5befd1aa",
      "range": {
        "startLine": 87,
        "startChar": 23,
        "endLine": 87,
        "endChar": 27
      },
      "revId": "197b4333e4fd4983c0e6d6eaadf7e61d07fb0b6f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}