{
  "comments": [
    {
      "key": {
        "uuid": "780cc2ee_3a167baa",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2018-05-11T08:40:45Z",
      "side": 1,
      "message": "secrets\n\nThis is not limited to passwords only. It would also be used to encrypt other\nsecrets like oauth tokens, etc..",
      "range": {
        "startLine": 7,
        "startChar": 57,
        "endLine": 7,
        "endChar": 66
      },
      "revId": "1c03d234aeadb63c0fe2014e9b618e880855cfaa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "664bdccf_ab4c2acc",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1055597
      },
      "writtenOn": "2018-05-11T15:17:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "780cc2ee_3a167baa",
      "range": {
        "startLine": 7,
        "startChar": 57,
        "endLine": 7,
        "endChar": 66
      },
      "revId": "1c03d234aeadb63c0fe2014e9b618e880855cfaa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fbebf909_058725a5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2018-05-11T08:40:45Z",
      "side": 1,
      "message": "Wouldn\u0027t this be a candidate for an init step?",
      "range": {
        "startLine": 20,
        "startChar": 32,
        "endLine": 21,
        "endChar": 33
      },
      "revId": "1c03d234aeadb63c0fe2014e9b618e880855cfaa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a8a49b91_86183aa8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1055597
      },
      "writtenOn": "2018-05-11T15:17:11Z",
      "side": 1,
      "message": "There is one concern with moving it to init step. It will work for users migrating from one release version to another but not for the users working from master to master. Should i move it to another class altogether and still create in at runtime to meet all the use-case\u0027s requirements?",
      "parentUuid": "fbebf909_058725a5",
      "range": {
        "startLine": 20,
        "startChar": 32,
        "endLine": 21,
        "endChar": 33
      },
      "revId": "1c03d234aeadb63c0fe2014e9b618e880855cfaa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e517af59_84875a75",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1004034
      },
      "writtenOn": "2018-05-11T13:56:58Z",
      "side": 1,
      "message": "NSA recommends minimum key length 256 for symmetric encryption, see https://www.keylength.com/en/compare/",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 24,
        "endChar": 3
      },
      "revId": "1c03d234aeadb63c0fe2014e9b618e880855cfaa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8798c113_af11066e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1055597
      },
      "writtenOn": "2018-05-11T15:17:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e517af59_84875a75",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 24,
        "endChar": 3
      },
      "revId": "1c03d234aeadb63c0fe2014e9b618e880855cfaa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2b768c89_dfc9d345",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1055597
      },
      "writtenOn": "2018-05-11T18:47:35Z",
      "side": 1,
      "message": "Actually, I had to revert it back to 128 size because if I use 256, I hit the key size limit in my JRE and need to install the \"JCE Unlimited Strength Jurisdiction Policy Files\" to be able to run AES with 256 size key. I think it will be better to keep it at 128, and given these options are configurable, if one needs bigger key size, can do it with all the other requirements from JRE perspective.\n\nLink showing the default limits on Key sizes:\n\nhttps://docs.oracle.com/javase/7/docs/technotes/guides/security/SunProviders.html#importlimits",
      "parentUuid": "8798c113_af11066e",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 24,
        "endChar": 3
      },
      "revId": "1c03d234aeadb63c0fe2014e9b618e880855cfaa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8eeb6930_b36a4842",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1004034
      },
      "writtenOn": "2018-05-11T20:32:08Z",
      "side": 1,
      "message": "according to [1] the unlimited policy is switched on by default since Java 7u171, Java 8u162 and Java 9 or higher\n\n[1] https://bugs.openjdk.java.net/browse/JDK-8170157",
      "parentUuid": "2b768c89_dfc9d345",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 24,
        "endChar": 3
      },
      "revId": "1c03d234aeadb63c0fe2014e9b618e880855cfaa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "77901326_8fdb893e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1055597
      },
      "writtenOn": "2018-05-11T20:37:41Z",
      "side": 1,
      "message": "Oh alright. Although, we are using Java 8 and I tried it on my local and got the error about \"illegal key length\". I will try and tweak other parameters may the transformation is not compatible with 256 key size. Thanks for the info :)",
      "parentUuid": "8eeb6930_b36a4842",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 24,
        "endChar": 3
      },
      "revId": "1c03d234aeadb63c0fe2014e9b618e880855cfaa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "de8054db_1e12dd56",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2018-05-11T23:33:08Z",
      "side": 1,
      "message": "Key length and algo should not be hardcoded but cinfigurable, will secure defaults, as Matthias suggested, at least 256 bit AES key length.",
      "parentUuid": "77901326_8fdb893e",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 24,
        "endChar": 3
      },
      "revId": "1c03d234aeadb63c0fe2014e9b618e880855cfaa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6aec1c05_a40af5b7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1055597
      },
      "writtenOn": "2018-05-11T23:54:42Z",
      "side": 1,
      "message": "All these parameters are configurable if you see the latest patch set.",
      "parentUuid": "de8054db_1e12dd56",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 24,
        "endChar": 3
      },
      "revId": "1c03d234aeadb63c0fe2014e9b618e880855cfaa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9fef26aa_c4492ba5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2018-05-12T08:30:06Z",
      "side": 1,
      "message": "Sound good! Thanks",
      "parentUuid": "6aec1c05_a40af5b7",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 24,
        "endChar": 3
      },
      "revId": "1c03d234aeadb63c0fe2014e9b618e880855cfaa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cee67bff_f7a08668",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 27,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2018-05-11T08:40:45Z",
      "side": 1,
      "message": "If this is an example of a complete [encryption] section, then it should also contain\na \"key\", like in the line 16.",
      "revId": "1c03d234aeadb63c0fe2014e9b618e880855cfaa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "343efaca_79d636cb",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 27,
      "author": {
        "id": 1055597
      },
      "writtenOn": "2018-05-11T15:17:11Z",
      "side": 1,
      "message": "The key will be the result of using all these configurable parameters and will be stored in secure.config.So, the parameters needed to generate the key are available for custom configuration in gerrit.config but not the key.",
      "parentUuid": "cee67bff_f7a08668",
      "revId": "1c03d234aeadb63c0fe2014e9b618e880855cfaa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "28fcb9e5_a77a5c67",
        "filename": "java/com/google/gerrit/server/api/config/EncryptionConfig.java",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2018-05-11T08:40:45Z",
      "side": 1,
      "message": "Missing license header",
      "revId": "1c03d234aeadb63c0fe2014e9b618e880855cfaa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1d232b3f_d0716d7c",
        "filename": "java/com/google/gerrit/server/api/config/EncryptionConfig.java",
        "patchSetId": 2
      },
      "lineNbr": 31,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2018-05-11T08:40:45Z",
      "side": 1,
      "message": "This pattern is occurring several times in this file. Why not use the Config.getInt\nand provide defaultValue to it:\n\n  gerritConfig.getInt(SECTION, null, \"keyLength\", KEY_LENGTH;",
      "range": {
        "startLine": 27,
        "startChar": 0,
        "endLine": 31,
        "endChar": 33
      },
      "revId": "1c03d234aeadb63c0fe2014e9b618e880855cfaa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6a50c7b1_b99c25ae",
        "filename": "java/com/google/gerrit/server/api/config/PasswordEncryption.java",
        "patchSetId": 2
      },
      "lineNbr": 41,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2018-05-11T08:40:45Z",
      "side": 1,
      "message": "As said, there is nothing in this change that restricts it to password encryption.\nThis class will encrypt any string provided to it, therefore I propose to name it:\n\n  StringEncryption",
      "range": {
        "startLine": 41,
        "startChar": 13,
        "endLine": 41,
        "endChar": 21
      },
      "revId": "1c03d234aeadb63c0fe2014e9b618e880855cfaa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c3adc94b_98c9fe7a",
        "filename": "java/com/google/gerrit/server/api/config/PasswordEncryption.java",
        "patchSetId": 2
      },
      "lineNbr": 41,
      "author": {
        "id": 1055597
      },
      "writtenOn": "2018-05-11T15:17:11Z",
      "side": 1,
      "message": "Done, I changed it to StringEncryptor, please let me know if you have any preference for StringEncryption.",
      "parentUuid": "6a50c7b1_b99c25ae",
      "range": {
        "startLine": 41,
        "startChar": 13,
        "endLine": 41,
        "endChar": 21
      },
      "revId": "1c03d234aeadb63c0fe2014e9b618e880855cfaa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dcf1ce35_9f9d014d",
        "filename": "java/com/google/gerrit/server/api/config/PasswordEncryption.java",
        "patchSetId": 2
      },
      "lineNbr": 56,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2018-05-11T08:40:45Z",
      "side": 1,
      "message": "Do this once, from an init step?",
      "revId": "1c03d234aeadb63c0fe2014e9b618e880855cfaa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "da96ad98_aa9d56fb",
        "filename": "java/com/google/gerrit/server/api/config/PasswordEncryption.java",
        "patchSetId": 2
      },
      "lineNbr": 56,
      "author": {
        "id": 1004034
      },
      "writtenOn": "2018-05-11T13:56:58Z",
      "side": 1,
      "message": "Would it make sense to allow defining more than one encryption key identified by a name ?\n\nDo we want to support re-encrypting with a new key ?",
      "parentUuid": "dcf1ce35_9f9d014d",
      "revId": "1c03d234aeadb63c0fe2014e9b618e880855cfaa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "08ad46c2_c025f900",
        "filename": "java/com/google/gerrit/server/api/config/PasswordEncryption.java",
        "patchSetId": 2
      },
      "lineNbr": 56,
      "author": {
        "id": 1055597
      },
      "writtenOn": "2018-05-11T15:17:11Z",
      "side": 1,
      "message": "@Sasa, please see my comment above in the commit message reply.\n\n@Matthias - currently, I do not think there is a need for this feature. May be, we can add it in future :)",
      "parentUuid": "da96ad98_aa9d56fb",
      "revId": "1c03d234aeadb63c0fe2014e9b618e880855cfaa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}