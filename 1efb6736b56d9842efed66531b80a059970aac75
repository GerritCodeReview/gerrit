{
  "comments": [
    {
      "key": {
        "uuid": "db3cfeb3_41d101a6",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/MergeUtil.java",
        "patchSetId": 2
      },
      "lineNbr": 671,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-06-22T14:00:07Z",
      "side": 1,
      "message": "I kind of thought this was already the case for merges, it shouldn\u0027t be copying the author date from one of the parents.\n\nBut, as a slight aside, I think we currently have a bug where we\u0027re not reusing timestamps properly:\n\n commit f63ad229a8637eea0aa5a2e6b7dc23b7f616dd88\n Merge: 45fba4cb6f 168bbc96a4\n Author:     Viktar Donich \u003cviktard@google.com\u003e\n AuthorDate: Tue Jun 20 21:05:10 2017 +0000\n Commit:     Gerrit Code Review \u003cnoreply-gerritcodereview@google.com\u003e\n CommitDate: Tue Jun 20 21:05:11 2017 +0000\n \n     Merge \"Add a setting to disable diff panel floating\"",
      "revId": "1efb6736b56d9842efed66531b80a059970aac75",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4113415c_2dc3ec4b",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/MergeUtil.java",
        "patchSetId": 2
      },
      "lineNbr": 671,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-06-22T16:25:17Z",
      "side": 1,
      "message": "Unresolved: it\u0027s not clear to me why this is necessary.",
      "parentUuid": "db3cfeb3_41d101a6",
      "revId": "1efb6736b56d9842efed66531b80a059970aac75",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "18087be9_d0f0066c",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/MergeUtil.java",
        "patchSetId": 2
      },
      "lineNbr": 671,
      "author": {
        "id": 1014502
      },
      "writtenOn": "2017-06-22T16:36:26Z",
      "side": 1,
      "message": "writeMergeCommit() is called only by mergeOneCommit(), which in turn is called by strategy/CherryPick.java:CherryPickMultipleParentsOp, strategy/RebaseSubmitStrategy.java:RebaseMultipleParentsOp, and strategy/MergeOneOp.java in their code for handling the submission of a change which itself is a merge commit. So I think this code is less about the merge commit automatically created by one of the Merge strategies, and more about someone trying to land a merge commit using one of the other strategies. If someone has uploaded a merge commit for review, but the submit strategy is \"Rebase Always\", I\u0027d expect that merge commit to have its Author Timestamp overwritten when it gets submitted.",
      "parentUuid": "4113415c_2dc3ec4b",
      "revId": "1efb6736b56d9842efed66531b80a059970aac75",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5397eb7f_4fdb9c9e",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/MergeUtil.java",
        "patchSetId": 2
      },
      "lineNbr": 671,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2017-06-23T07:00:21Z",
      "side": 1,
      "message": "I can only second what Aaron said, when this is removed, tests start failing because the timestamps are different.",
      "parentUuid": "18087be9_d0f0066c",
      "revId": "1efb6736b56d9842efed66531b80a059970aac75",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e838db7f_8a1cd744",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/MergeUtil.java",
        "patchSetId": 2
      },
      "lineNbr": 671,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-06-23T12:15:54Z",
      "side": 1,
      "message": "\u003e MergeOneOp.java in their code for handling the submission of a change which itself is a merge commit.\n\u003e ...\n\u003e So I think this code is less about the merge commit automatically created by one of the Merge strategies\n\nNot true: MergeOneOp is the op used by Merge{Always,IfNecessary}.\n\nSo the behavior before this change is that we call writeMergeCommit with the author and commiter PersonIdent instances always having different timestamps.\n\nThe behavior after this change is that we continue to do that wrong thing, then paper over it, but only paper over it in the case that the MatchAuthorToCommitterDate bit is set.\n\nThis is suboptimal. There\u0027s a point at which it is too much unrelated digging to fix the underlying problem, but please take a few minutes.",
      "parentUuid": "5397eb7f_4fdb9c9e",
      "revId": "1efb6736b56d9842efed66531b80a059970aac75",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}