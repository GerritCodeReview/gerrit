{
  "comments": [
    {
      "key": {
        "uuid": "67e056e1_9e04dd60",
        "filename": "polygerrit-ui/app/elements/gr-avatar.html",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1021482
      },
      "writtenOn": "2016-01-12T20:11:06Z",
      "side": 1,
      "message": "What are you getting out of having it be inline-flex?",
      "revId": "1f3f71e3ee271ab1f880f86fb04d2e8b4f7e9f1d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e79a8677_32edd0e1",
        "filename": "polygerrit-ui/app/elements/gr-avatar.html",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1013702
      },
      "writtenOn": "2016-01-12T20:32:55Z",
      "side": 1,
      "message": "It does not resize to outer element size when using \u0027inline\u0027 (since we are using avatar image sizes bigger than the resulting img-element). I have tried a lot of things here, but is the only solution I have found.",
      "parentUuid": "67e056e1_9e04dd60",
      "revId": "1f3f71e3ee271ab1f880f86fb04d2e8b4f7e9f1d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "47db5239_1d27f3f4",
        "filename": "polygerrit-ui/app/elements/gr-avatar.html",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1021482
      },
      "writtenOn": "2016-01-13T14:43:32Z",
      "side": 1,
      "message": "I think inline-block will work with what you want. You can then set the size of the element via the stylesheet of the parent element (negating the need for the size attribute, then use a background-image with background-size: cover to ensure that it displays correctly within the element. That will handle the high dpi issue you’re talking about below and you don’t have to use an image tag.",
      "parentUuid": "e79a8677_32edd0e1",
      "revId": "1f3f71e3ee271ab1f880f86fb04d2e8b4f7e9f1d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c79bc28b_019aca88",
        "filename": "polygerrit-ui/app/elements/gr-avatar.html",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1013702
      },
      "writtenOn": "2016-01-13T20:20:40Z",
      "side": 1,
      "message": "Seems to work this way, thanks.\n\nOne thing: the \u0027size\u0027 property is used for loading the best image size. When not having this property, we need to calculate the size from element size. Do you think I should get the element size with \u0027clientHeight\u0027?\n\nhttps://developer.mozilla.org/en-US/docs/Web/API/Element/clientHeight",
      "parentUuid": "47db5239_1d27f3f4",
      "revId": "1f3f71e3ee271ab1f880f86fb04d2e8b4f7e9f1d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "474352e2_7d38370f",
        "filename": "polygerrit-ui/app/elements/gr-avatar.html",
        "patchSetId": 1
      },
      "lineNbr": 23,
      "author": {
        "id": 1021482
      },
      "writtenOn": "2016-01-14T21:13:18Z",
      "side": 1,
      "message": "Hm. Rather than querying for the offsetHeight or clientHeight let’s rename size to imageSize so that it’s more explicit and use that to retrieve the image.",
      "parentUuid": "c79bc28b_019aca88",
      "revId": "1f3f71e3ee271ab1f880f86fb04d2e8b4f7e9f1d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "67e056e1_fefb218f",
        "filename": "polygerrit-ui/app/elements/gr-avatar.html",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1021482
      },
      "writtenOn": "2016-01-12T20:11:06Z",
      "side": 1,
      "message": "In gr-message you hide the gr-avatar based on logic outside this element. I would do the same for gr-account-link. It seems weird to have the image hide itself depending on a global config. I’d rather have the config passed through to the enclosing element and then hide it there.",
      "revId": "1f3f71e3ee271ab1f880f86fb04d2e8b4f7e9f1d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e79a8677_52f254c4",
        "filename": "polygerrit-ui/app/elements/gr-avatar.html",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1013702
      },
      "writtenOn": "2016-01-12T20:32:55Z",
      "side": 1,
      "message": "In \u0027gr-message\u0027 I need to hide it for one some special case (when server supports avatars, but no account is attached to message (which is the case for change submit/merge messages)).\n\nI think it\u0027s quite handy when you can place an avatar at any place and you do not need to care if server supports avatars. I see a lot more places where we can display avatars (e.g. account-dropdown top-right and add-reviewer-dropdown in change-view).",
      "parentUuid": "67e056e1_fefb218f",
      "revId": "1f3f71e3ee271ab1f880f86fb04d2e8b4f7e9f1d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "47db5239_3d2cafd4",
        "filename": "polygerrit-ui/app/elements/gr-avatar.html",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1021482
      },
      "writtenOn": "2016-01-13T14:43:32Z",
      "side": 1,
      "message": "While I was the one who wrote the accountReady stuff, I have to admit I don’t like how a seemingly benign element that is meant to display an image requires the use of what is essentially a global var and server state to display or not display itself.\n\nIf possible I’d like to reduce the usage of accountReady and configReady to be on the outskirts of the elements (within gr-app) with only the relevant data passed to each child element. This makes it more explicit what the element API is expecting while also allowing the it to more easily stand alone (and be tested) if need be.",
      "parentUuid": "e79a8677_52f254c4",
      "revId": "1f3f71e3ee271ab1f880f86fb04d2e8b4f7e9f1d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a7a24ebd_009ac688",
        "filename": "polygerrit-ui/app/elements/gr-avatar.html",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1013702
      },
      "writtenOn": "2016-01-13T20:20:40Z",
      "side": 1,
      "message": "If I understand correctly, you prefer to pass the property from \u0027gr-app\u0027 as property through all elements until \u0027gr-avatar\u0027?\n\nIn case of the change message author on change-view, this would be:\ngr-app -\u003e gr-change-view -\u003e gr-messages-list -\u003e gr-message -\u003e gr-avatar\n(which means adding the the \u0027showAvatar\u0027 property on three other elements).",
      "parentUuid": "47db5239_3d2cafd4",
      "revId": "1f3f71e3ee271ab1f880f86fb04d2e8b4f7e9f1d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "474352e2_dd8b8b09",
        "filename": "polygerrit-ui/app/elements/gr-avatar.html",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1021482
      },
      "writtenOn": "2016-01-14T21:13:18Z",
      "side": 1,
      "message": "It doesn’t mean adding the showAvatar property to all those elements. It means passing the appConfig to the view, which then will pass the appropriate config options to the necessary elements. The app config will need to be used in the change-view anyways because it specifies how many characters are typed before it will show a result.\n\nLet\u0027s punt on this for now and address it later.",
      "parentUuid": "a7a24ebd_009ac688",
      "revId": "1f3f71e3ee271ab1f880f86fb04d2e8b4f7e9f1d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "67e056e1_be01994f",
        "filename": "polygerrit-ui/app/elements/gr-avatar.html",
        "patchSetId": 1
      },
      "lineNbr": 32,
      "author": {
        "id": 1021482
      },
      "writtenOn": "2016-01-12T20:11:06Z",
      "side": 1,
      "message": "instead of having it be an img tag, why not have an inline-block with the background set?",
      "revId": "1f3f71e3ee271ab1f880f86fb04d2e8b4f7e9f1d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "87a70abf_0f1185a4",
        "filename": "polygerrit-ui/app/elements/gr-avatar.html",
        "patchSetId": 1
      },
      "lineNbr": 32,
      "author": {
        "id": 1013702
      },
      "writtenOn": "2016-01-12T20:32:55Z",
      "side": 1,
      "message": "See comment above. It\u0027s because we use larger images than img-elements. I think this is a good practice for nicer display on HiDPI displays (thought I have not done this initially - it was there before my refactoring).",
      "parentUuid": "67e056e1_be01994f",
      "revId": "1f3f71e3ee271ab1f880f86fb04d2e8b4f7e9f1d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "87a70abf_afd3192f",
        "filename": "polygerrit-ui/app/elements/gr-avatar.html",
        "patchSetId": 1
      },
      "lineNbr": 61,
      "author": {
        "id": 1013702
      },
      "writtenOn": "2016-01-12T19:37:47Z",
      "side": 1,
      "message": "Both \u0027hidden\u0027 and \u0027showAvatar\u0027 are required because I cannot use \u0027hidden\u0027 in the \u0027dom-if\u0027 template element if-binding.",
      "range": {
        "startLine": 60,
        "startChar": 0,
        "endLine": 61,
        "endChar": 41
      },
      "revId": "1f3f71e3ee271ab1f880f86fb04d2e8b4f7e9f1d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "67e056e1_defe6582",
        "filename": "polygerrit-ui/app/elements/gr-avatar.html",
        "patchSetId": 1
      },
      "lineNbr": 61,
      "author": {
        "id": 1021482
      },
      "writtenOn": "2016-01-12T20:11:06Z",
      "side": 1,
      "message": "Could you explain this a bit more?",
      "parentUuid": "87a70abf_afd3192f",
      "revId": "1f3f71e3ee271ab1f880f86fb04d2e8b4f7e9f1d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e79a8677_72f758b3",
        "filename": "polygerrit-ui/app/elements/gr-avatar.html",
        "patchSetId": 1
      },
      "lineNbr": 61,
      "author": {
        "id": 1013702
      },
      "writtenOn": "2016-01-12T20:32:55Z",
      "side": 1,
      "message": "See \u003c\u0027template is\u003d\"dom-if\" if\u003d\"[[showAvatar]]\"\u003e above. There I cannot write \u0027...if\u003d\"[[hidden]]\"...\u0027.",
      "parentUuid": "67e056e1_defe6582",
      "revId": "1f3f71e3ee271ab1f880f86fb04d2e8b4f7e9f1d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}