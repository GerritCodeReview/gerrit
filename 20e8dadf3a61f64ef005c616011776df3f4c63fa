{
  "comments": [
    {
      "key": {
        "uuid": "aed8553b_bfe43718",
        "filename": "gerrit-acceptance-tests/BUCK",
        "patchSetId": 6
      },
      "lineNbr": 33,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-09-24T14:09:51Z",
      "side": 1,
      "message": "Untested, but have you tried a non-intrusive change, like letting all as is and only move the bouncy castle libraries from exported_deps to provided_deps set, e.g.:\n\n    [...]\n    \u0027//lib/log:log4j\u0027,\n    \u0027//lib/mina:sshd\u0027,\n  ],\n  provided_eps \u003d [\n    \u0027//lib/bouncycastle:bcpg\u0027,\n    \u0027//lib/bouncycastle:bcprov\u0027,\n  ],\n  [...]\n\n? If the tests are still successful, the plugin-api shouldn\u0027t contain the bouncy castle libraries any more; still, acceptance-framework can be split further, but this can be done in a follow-up change.",
      "range": {
        "startLine": 32,
        "startChar": 4,
        "endLine": 33,
        "endChar": 32
      },
      "revId": "20e8dadf3a61f64ef005c616011776df3f4c63fa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ced58901_40d98e5c",
        "filename": "gerrit-acceptance-tests/BUCK",
        "patchSetId": 6
      },
      "lineNbr": 33,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2015-09-24T14:29:51Z",
      "side": 1,
      "message": "Those libs were added by DaveB for his GPG support in Gerrit for signed commits. They aren\u0027t provided at runtime as they are needed for his integration tests.\n\nBut it is worth trying it :-)",
      "parentUuid": "aed8553b_bfe43718",
      "range": {
        "startLine": 32,
        "startChar": 4,
        "endLine": 33,
        "endChar": 32
      },
      "revId": "20e8dadf3a61f64ef005c616011776df3f4c63fa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ced58901_80d3963a",
        "filename": "gerrit-acceptance-tests/BUCK",
        "patchSetId": 6
      },
      "lineNbr": 33,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2015-09-24T14:43:08Z",
      "side": 1,
      "message": "BouncyCastle is directly referenced in Dave\u0027s tests:\n\nSee:\ngerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/api/accounts/AccountIT.java\n\nI believe then we need to keep where it is now :-(",
      "parentUuid": "ced58901_40d98e5c",
      "range": {
        "startLine": 32,
        "startChar": 4,
        "endLine": 33,
        "endChar": 32
      },
      "revId": "20e8dadf3a61f64ef005c616011776df3f4c63fa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aed8553b_ffdebf3f",
        "filename": "gerrit-acceptance-tests/BUCK",
        "patchSetId": 6
      },
      "lineNbr": 33,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-09-24T19:31:04Z",
      "side": 1,
      "message": "I\u0027m working on fixing it: The idea is to split the current gerrit-acceptance-tests in two parts and will propose a change in a moment:\n\n* framework + some needed deps, that is exposed as additional plugin artifact in addition to currently available plugin-api and plugin-gwtui\n* rest of the gerrit-acceptance-test project\n\nWith this in place we would be able to seamlessly support unit testing in three build modes:\n\n* Buck in tree build mode: new variable will be definded in bucklets/gerrit_plugin.bucklet, say: GERRIT_TESTS that will point to: //gerrit-acceptance-framework:lib\n* Buck standalone build mode: the same variable GERRIT_TESTS would be defined in bucklets/gerrit_plugin.bucklet that will poipnt to //lib/gerrit:acceptance-framework. This new artifact would need to be added in already existing file //lib/gerrit/BUCK in plugins, that support standalone build mode\n* Maven build: just add a dependency on new exposed gerrit-acceptance-framework artifact when new release is published",
      "parentUuid": "ced58901_80d3963a",
      "range": {
        "startLine": 32,
        "startChar": 4,
        "endLine": 33,
        "endChar": 32
      },
      "revId": "20e8dadf3a61f64ef005c616011776df3f4c63fa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}