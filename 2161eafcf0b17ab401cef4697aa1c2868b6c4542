{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "171d91fd_fb25a449",
        "filename": "Documentation/config-accounts.txt",
        "patchSetId": 1
      },
      "lineNbr": 386,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-03-06T11:39:26Z",
      "side": 1,
      "message": "This must be configurable because it may have security implications.\nSomeone may not want to reuse the same identity.",
      "range": {
        "startLine": 385,
        "startChar": 64,
        "endLine": 386,
        "endChar": 55
      },
      "revId": "2161eafcf0b17ab401cef4697aa1c2868b6c4542",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a92de6ef_1ef871b9",
        "filename": "Documentation/config-accounts.txt",
        "patchSetId": 1
      },
      "lineNbr": 386,
      "author": {
        "id": 1153585
      },
      "writtenOn": "2023-03-06T11:47:33Z",
      "side": 1,
      "message": "The alternative here is the user will not be able to login as gerrit will try to create a new external ID but the e-mail will already be in use. This seems like it would be desirable to all users transitioning from LDAP to Google OAuth. The security implications should be mitigated here as it only links the account ID\u0027s if the google OAuth email matches the LDAP e-mail, I am not aware of any means of spoofing google e-mail ownership.",
      "parentUuid": "171d91fd_fb25a449",
      "range": {
        "startLine": 385,
        "startChar": 64,
        "endLine": 386,
        "endChar": 55
      },
      "revId": "2161eafcf0b17ab401cef4697aa1c2868b6c4542",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c6de85b8_17411e42",
        "filename": "Documentation/config-accounts.txt",
        "patchSetId": 1
      },
      "lineNbr": 386,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-03-06T11:59:27Z",
      "side": 1,
      "message": "\u003e The alternative here is the user will not be able to login as gerrit will try to create a new external ID but the e-mail will already be in use. \n\nThis *could* be sometimes what you want: NOT allowing people to login with OAuth if they already have an existing LDAP identity.\n\n\u003e This seems like it would be desirable to all users transitioning from LDAP to Google OAuth.\n\nSure, and if your company is willing to make that transition and is using the e-mail for the association of accounts (very likely to be the case) then this change looks a good way of doing it.\n\nI would just say that the Gerrit admin *should make* a conscious decision on this matching. Also, this shouldn\u0027t be limited to OAuth but to any other authentication system (e.g. GitHub\u0027s OAuth, SAML ..)\n\n\u003e The security implications should be mitigated here as it only links the account ID\u0027s if the google OAuth email matches the LDAP e-mail, I am not aware of any means of spoofing google e-mail ownership.\n\nSure, but still need to be an explicit will of using that matching and accepting the associated security.",
      "parentUuid": "a92de6ef_1ef871b9",
      "range": {
        "startLine": 385,
        "startChar": 64,
        "endLine": 386,
        "endChar": 55
      },
      "revId": "2161eafcf0b17ab401cef4697aa1c2868b6c4542",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}