{
  "comments": [
    {
      "key": {
        "uuid": "f62c2246_99062648",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 23,
      "author": {
        "id": 1030207
      },
      "writtenOn": "2017-07-05T15:57:22Z",
      "side": 1,
      "message": "Are these guaranteed to be in order?",
      "range": {
        "startLine": 19,
        "startChar": 6,
        "endLine": 23,
        "endChar": 42
      },
      "revId": "22f277467052f15692a8717e499028e9d9814d62",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6f758a7c_175518a1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 23,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2017-07-05T16:29:43Z",
      "side": 1,
      "message": "JSON dictionaries don\u0027t have order, do they?\n\nI changed it to hashmap, so the order will be arbitrary.",
      "parentUuid": "f62c2246_99062648",
      "range": {
        "startLine": 19,
        "startChar": 6,
        "endLine": 23,
        "endChar": 42
      },
      "revId": "22f277467052f15692a8717e499028e9d9814d62",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "52c537b3_ee091622",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 23,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-07-06T08:13:00Z",
      "side": 1,
      "message": "Becky, is this an issue?",
      "parentUuid": "6f758a7c_175518a1",
      "range": {
        "startLine": 19,
        "startChar": 6,
        "endLine": 23,
        "endChar": 42
      },
      "revId": "22f277467052f15692a8717e499028e9d9814d62",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "228b6f85_71c5f334",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 23,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2017-07-06T09:47:36Z",
      "side": 1,
      "message": "I got confused. The ordering is determined by whatever the streams call\n\n labelInfo.values \u003d\n          t.getValues()\n              .stream()\n              .collect(Collectors.toMap(LabelValue::formatValue, LabelValue::getText));\n\ndoes.",
      "parentUuid": "52c537b3_ee091622",
      "range": {
        "startLine": 19,
        "startChar": 6,
        "endLine": 23,
        "endChar": 42
      },
      "revId": "22f277467052f15692a8717e499028e9d9814d62",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25ed8954_a8311e14",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 23,
      "author": {
        "id": 1030207
      },
      "writtenOn": "2017-07-06T20:35:46Z",
      "side": 1,
      "message": "Since we care about the highest and the lowest value, it means we\u0027ll have to get the keys of this object, (if we don\u0027t know about order, sort) and then take the first and last. It\u0027s not a problem, but if it\u0027s guaranteed then that means we don\u0027t have to sort :)",
      "parentUuid": "228b6f85_71c5f334",
      "range": {
        "startLine": 19,
        "startChar": 6,
        "endLine": 23,
        "endChar": 42
      },
      "revId": "22f277467052f15692a8717e499028e9d9814d62",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fe981dbc_6fd24e55",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 23,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-07-07T08:39:30Z",
      "side": 1,
      "message": "I think that we could guarantee the order. The JSON serialization seems to insert elements into the resulting JSON object in the iteration order of the map. So, if we manage to get the iteration order correct, we should end up with ordered label values in the JSON response.\n\nHan-Wen, what\u0027s your opinion on it? Do you want to adjust the implementation?\nIf so, please cover this aspect by a test and mention it in the documentation.\n\nSome hints for the implementation:\nCollectors#toMap uses a HashMap and hence the order is neither deterministic nor sorted. Even if we used a TreeMap or an ImmutableSortedMap instead, we wouldn\u0027t get the desired ordering as \" 0\", \"+1\", \"+2\", \"-1\", \"-2\" is the natural order. I assume that the label values should rather be ordered as \"-2\", \"-1\", \" 0\", \"+1\", \"+2\" to easily retrieve the highest/lowest value.\nTo achieve that, we could simply use the ImmutableMap#toImmutableMap collector. LabelType already sorts its values from low to high. So, we only have to keep the same order, which ImmutableMap does.",
      "parentUuid": "25ed8954_a8311e14",
      "range": {
        "startLine": 19,
        "startChar": 6,
        "endLine": 23,
        "endChar": 42
      },
      "revId": "22f277467052f15692a8717e499028e9d9814d62",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}