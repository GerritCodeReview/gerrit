{
  "comments": [
    {
      "key": {
        "uuid": "24f6469e_2b5459c7",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/mail/AddKeySender.java",
        "patchSetId": 14
      },
      "lineNbr": 108,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2015-09-08T04:39:59Z",
      "side": 1,
      "message": "[optional] Also check for empty list?",
      "range": {
        "startLine": 108,
        "startChar": 8,
        "endLine": 108,
        "endChar": 23
      },
      "revId": "251b1574d203b64ccb3fa6851fffed2c7f296921",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "84dff222_1e4b6da0",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/mail/AddKeySender.java",
        "patchSetId": 14
      },
      "lineNbr": 108,
      "author": {
        "id": 1012612
      },
      "writtenOn": "2015-09-08T11:32:04Z",
      "side": 1,
      "message": "We should never get there because shouldSendMessage() would\u0027ve returned false.  The side effect would be Joiner returning an empty string, right?",
      "parentUuid": "24f6469e_2b5459c7",
      "range": {
        "startLine": 108,
        "startChar": 8,
        "endLine": 108,
        "endChar": 23
      },
      "revId": "251b1574d203b64ccb3fa6851fffed2c7f296921",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04fea26f_12854cf9",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/mail/AddKeySender.java",
        "patchSetId": 14
      },
      "lineNbr": 108,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2015-09-08T12:45:42Z",
      "side": 1,
      "message": "1. I think that David\u0027s comment makes sense because this is a public method... so, in the long run, you never know about all the usages.\n\n2. I don\u0027t see any usage of this method?\n\n $ git grep -i getgpgkeys\ngerrit-server/src/main/java/com/google/gerrit/server/mail/AddKeySender.java:  public String getGpgKeys() {\n\nOnly this single place is found.",
      "parentUuid": "84dff222_1e4b6da0",
      "range": {
        "startLine": 108,
        "startChar": 8,
        "endLine": 108,
        "endChar": 23
      },
      "revId": "251b1574d203b64ccb3fa6851fffed2c7f296921",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "046dc2ec_faccc94b",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/mail/AddKeySender.java",
        "patchSetId": 14
      },
      "lineNbr": 108,
      "author": {
        "id": 1012612
      },
      "writtenOn": "2015-09-08T12:55:35Z",
      "side": 1,
      "message": "Yes, this is the Velocity template magic:  For example, looking at getEmailRegistrationToken() from RegisterNewEmail, there\u0027s only one definition of it (note: AuthConfig has its own method that returns a SignedToken -- the RegisterNewEmailSender returns a String).  Similar thing happens with getInlineComments().\n\nSpecifically, this page provides the rationale of how this works with VTL:\nhttps://velocity.apache.org/engine/releases/velocity-1.5/user-guide.html#methods",
      "parentUuid": "04fea26f_12854cf9",
      "range": {
        "startLine": 108,
        "startChar": 8,
        "endLine": 108,
        "endChar": 23
      },
      "revId": "251b1574d203b64ccb3fa6851fffed2c7f296921",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04fea26f_527fd4a6",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/mail/AddKeySender.java",
        "patchSetId": 14
      },
      "lineNbr": 108,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2015-09-08T13:20:41Z",
      "side": 1,
      "message": "I see, thanks.\n\nWhat\u0027s the difference (for the velocity template) between returning an empty string (when gpgKeys is an non-null but empty list) and returning a null (when the gpgKeys is null)?",
      "parentUuid": "046dc2ec_faccc94b",
      "range": {
        "startLine": 108,
        "startChar": 8,
        "endLine": 108,
        "endChar": 23
      },
      "revId": "251b1574d203b64ccb3fa6851fffed2c7f296921",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c4a3aab1_10afe4b8",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/mail/AddKeySender.java",
        "patchSetId": 14
      },
      "lineNbr": 108,
      "author": {
        "id": 1012612
      },
      "writtenOn": "2015-09-08T13:56:08Z",
      "side": 1,
      "message": "It could cause a NPE if unchecked and included as a string I think, but the template does explicitly check for null (it uses it as a conditional for including content).",
      "parentUuid": "04fea26f_527fd4a6",
      "range": {
        "startLine": 108,
        "startChar": 8,
        "endLine": 108,
        "endChar": 23
      },
      "revId": "251b1574d203b64ccb3fa6851fffed2c7f296921",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04fea26f_92701cd4",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/mail/AddKeySender.java",
        "patchSetId": 14
      },
      "lineNbr": 108,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2015-09-08T14:26:55Z",
      "side": 1,
      "message": "Since the assumption in this class is that when gpgKeys !\u003d null then also gpgKeys.size() \u003e 0, this code can be left as is.",
      "parentUuid": "c4a3aab1_10afe4b8",
      "range": {
        "startLine": 108,
        "startChar": 8,
        "endLine": 108,
        "endChar": 23
      },
      "revId": "251b1574d203b64ccb3fa6851fffed2c7f296921",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a4f236e4_efd58124",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/mail/AddKeySender.java",
        "patchSetId": 14
      },
      "lineNbr": 108,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2015-09-09T00:21:03Z",
      "side": 1,
      "message": "OK.",
      "parentUuid": "04fea26f_92701cd4",
      "range": {
        "startLine": 108,
        "startChar": 8,
        "endLine": 108,
        "endChar": 23
      },
      "revId": "251b1574d203b64ccb3fa6851fffed2c7f296921",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}