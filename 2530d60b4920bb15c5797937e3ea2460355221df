{
  "comments": [
    {
      "key": {
        "uuid": "a9f45250_79b24ca5",
        "filename": "java/com/google/gerrit/server/restapi/account/GetDetail.java",
        "patchSetId": 2
      },
      "lineNbr": 65,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2018-07-11T08:32:04Z",
      "side": 1,
      "message": "Why was this changed to \u0027check\u0027?\n\nIf a user without Modify Account capability requests details of another account, this check will fail and we return the account details without secondary emails. But if I understood this correctly failed permission checks by the \u0027check\u0027 method will trigger an audit log, for \"a user attempted to access a resource to which he didn\u0027t have permissions\". I think in this case we don\u0027t want such an audit log and hence using \u0027test\u0027 was correct here?",
      "revId": "2530d60b4920bb15c5797937e3ea2460355221df",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "335cb31a_01cb4865",
        "filename": "java/com/google/gerrit/server/restapi/account/GetDetail.java",
        "patchSetId": 2
      },
      "lineNbr": 65,
      "author": {
        "id": 1031898
      },
      "writtenOn": "2018-07-11T09:47:27Z",
      "side": 1,
      "message": "Agree that we don\u0027t want audit log like this. But the result of \"test\" is just a hint, it could be more permissive than reality. We don\u0027t want a leak here so \"check\" is required.",
      "parentUuid": "a9f45250_79b24ca5",
      "revId": "2530d60b4920bb15c5797937e3ea2460355221df",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bc6a9295_eb2ab207",
        "filename": "java/com/google/gerrit/server/restapi/project/ListDashboards.java",
        "patchSetId": 2
      },
      "lineNbr": 111,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2018-07-17T20:59:46Z",
      "side": 1,
      "message": "What you have here is logically equivalent to the LHS, but this formulation makes it more obvious that the whole method should just return an empty list early when the project is not readable. No need to do the permission check or open the repository.",
      "range": {
        "startLine": 108,
        "startChar": 8,
        "endLine": 111,
        "endChar": 0
      },
      "revId": "2530d60b4920bb15c5797937e3ea2460355221df",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "49408bb0_f80c1051",
        "filename": "java/com/google/gerrit/server/restapi/project/ListDashboards.java",
        "patchSetId": 2
      },
      "lineNbr": 111,
      "author": {
        "id": 1031898
      },
      "writtenOn": "2018-07-18T07:53:03Z",
      "side": 1,
      "message": "right. done in \nhttps://gerrit-review.googlesource.com/c/gerrit/+/189510",
      "parentUuid": "bc6a9295_eb2ab207",
      "range": {
        "startLine": 108,
        "startChar": 8,
        "endLine": 111,
        "endChar": 0
      },
      "revId": "2530d60b4920bb15c5797937e3ea2460355221df",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}