{
  "comments": [
    {
      "key": {
        "uuid": "b67f6bf9_1bdd17d7",
        "filename": "java/com/google/gerrit/elasticsearch/ElasticChangeIndex.java",
        "patchSetId": 20
      },
      "lineNbr": 216,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2019-10-07T18:31:55Z",
      "side": 1,
      "message": "Partially duplicates lines 173-175 above; refactor for reuse? -Wondering if this could be done elsewhere in this change, overall. Such checks are done very often, even if only temporary.",
      "range": {
        "startLine": 216,
        "startChar": 8,
        "endLine": 216,
        "endChar": 88
      },
      "revId": "266257cf2649b062ab6ab7f19ab5123ec79aaa6b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cde394ca_4438cb01",
        "filename": "java/com/google/gerrit/elasticsearch/ElasticChangeIndex.java",
        "patchSetId": 20
      },
      "lineNbr": 216,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2019-10-08T15:50:37Z",
      "side": 1,
      "message": "I agree with Marco here. The schema field is immutable and schema.useLegacyNumericFields()\nis (or should be) also immutable. Therefore, we do not need to check that value every time\nthis method (and other methods) is called. Ideally, the decision which code to use\nshould be made already in the constructor.",
      "parentUuid": "b67f6bf9_1bdd17d7",
      "range": {
        "startLine": 216,
        "startChar": 8,
        "endLine": 216,
        "endChar": 88
      },
      "revId": "266257cf2649b062ab6ab7f19ab5123ec79aaa6b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8c887d39_73236a1b",
        "filename": "java/com/google/gerrit/index/Schema.java",
        "patchSetId": 20
      },
      "lineNbr": 93,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2019-10-08T15:50:37Z",
      "side": 1,
      "message": "final?",
      "revId": "266257cf2649b062ab6ab7f19ab5123ec79aaa6b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ddb41937_861c4571",
        "filename": "java/com/google/gerrit/index/SchemaUtil.java",
        "patchSetId": 20
      },
      "lineNbr": 69,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2019-10-07T18:31:55Z",
      "side": 1,
      "message": "useLegacyNumericFields, rather?",
      "range": {
        "startLine": 69,
        "startChar": 45,
        "endLine": 69,
        "endChar": 50
      },
      "revId": "266257cf2649b062ab6ab7f19ab5123ec79aaa6b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9ac8695b_80c0701b",
        "filename": "java/com/google/gerrit/index/SchemaUtil.java",
        "patchSetId": 20
      },
      "lineNbr": 71,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2019-10-07T18:31:55Z",
      "side": 1,
      "message": "This method is only called at line 96 below; can merge?",
      "revId": "266257cf2649b062ab6ab7f19ab5123ec79aaa6b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fd27ddc7_d9f1395d",
        "filename": "java/com/google/gerrit/index/SchemaUtil.java",
        "patchSetId": 20
      },
      "lineNbr": 76,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2019-10-07T18:31:55Z",
      "side": 1,
      "message": "Again wondering if this could be made default through one of Schema\u0027s constructors.",
      "range": {
        "startLine": 76,
        "startChar": 8,
        "endLine": 76,
        "endChar": 13
      },
      "revId": "266257cf2649b062ab6ab7f19ab5123ec79aaa6b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e4e04992_a5418e45",
        "filename": "java/com/google/gerrit/index/SchemaUtil.java",
        "patchSetId": 20
      },
      "lineNbr": 85,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2019-10-07T18:31:55Z",
      "side": 1,
      "message": "AFAIK, this is always true at calling sites.",
      "range": {
        "startLine": 85,
        "startChar": 32,
        "endLine": 85,
        "endChar": 54
      },
      "revId": "266257cf2649b062ab6ab7f19ab5123ec79aaa6b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "acec7dc6_ab2a28c0",
        "filename": "java/com/google/gerrit/index/SchemaUtil.java",
        "patchSetId": 20
      },
      "lineNbr": 95,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2019-10-07T18:31:55Z",
      "side": 1,
      "message": "Same here (always true), but I may be missing something.",
      "range": {
        "startLine": 95,
        "startChar": 45,
        "endLine": 95,
        "endChar": 67
      },
      "revId": "266257cf2649b062ab6ab7f19ab5123ec79aaa6b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9b153251_ed4a942e",
        "filename": "java/com/google/gerrit/index/project/ProjectSchemaDefinitions.java",
        "patchSetId": 20
      },
      "lineNbr": 27,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2019-10-07T18:31:55Z",
      "side": 1,
      "message": "Add a \u0027schema\u0027 factory method prototype that assumes this by default?",
      "range": {
        "startLine": 27,
        "startChar": 10,
        "endLine": 27,
        "endChar": 15
      },
      "revId": "266257cf2649b062ab6ab7f19ab5123ec79aaa6b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d6f25be8_f4655b28",
        "filename": "java/com/google/gerrit/lucene/QueryBuilder.java",
        "patchSetId": 20
      },
      "lineNbr": 212,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2019-10-08T15:50:37Z",
      "side": 1,
      "message": "Same as already commented in the other place: this value never changes for the given\nschema instance. Can we already make all decisions which depend on this flag in the constructor?\nFor example, we could have a helper class/interface with two subclasses for each case\nof this flag and instantiate on of them in the constructor?",
      "revId": "266257cf2649b062ab6ab7f19ab5123ec79aaa6b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3aded02b_f8a9311c",
        "filename": "java/com/google/gerrit/lucene/QueryBuilder.java",
        "patchSetId": 20
      },
      "lineNbr": 212,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2019-10-08T15:56:53Z",
      "side": 1,
      "message": "May be it was not clear from the commit message, but all this is temporary, and only needed for online reindex, to support both index state, with old and new types. All alternative code paths are removed in the end of this series, see: [1].\n\n* [1] https://gerrit-review.googlesource.com/c/gerrit/+/239832",
      "parentUuid": "d6f25be8_f4655b28",
      "revId": "266257cf2649b062ab6ab7f19ab5123ec79aaa6b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bcc8a9e9_16db7c95",
        "filename": "java/com/google/gerrit/server/change/AbandonUtil.java",
        "patchSetId": 20
      },
      "lineNbr": 134,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2019-10-07T18:31:55Z",
      "side": 1,
      "message": "Not sure how this changed class relates to the overall change. If related, maybe briefly explain in the commit message?",
      "revId": "266257cf2649b062ab6ab7f19ab5123ec79aaa6b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0ec5edf0_f524a3d4",
        "filename": "java/com/google/gerrit/server/change/AbandonUtil.java",
        "patchSetId": 20
      },
      "lineNbr": 134,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2019-10-08T15:56:53Z",
      "side": 1,
      "message": "Good point. I have added the comment on line 43/44 above. But I could also add the explanation in the commit message. Now, that you noticed that, I realized that I wanted to remove the provider change in the class where I removed the whole code paths: [1].\n\n* [1] https://gerrit-review.googlesource.com/c/gerrit/+/239832",
      "parentUuid": "bcc8a9e9_16db7c95",
      "revId": "266257cf2649b062ab6ab7f19ab5123ec79aaa6b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a3059980_3131df93",
        "filename": "java/com/google/gerrit/server/index/account/AccountSchemaDefinitions.java",
        "patchSetId": 20
      },
      "lineNbr": 27,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2019-10-07T18:31:55Z",
      "side": 1,
      "message": "Similar comment as previous one; make this an implicit default?",
      "range": {
        "startLine": 27,
        "startChar": 10,
        "endLine": 27,
        "endChar": 15
      },
      "revId": "266257cf2649b062ab6ab7f19ab5123ec79aaa6b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e9238bdb_8754052c",
        "filename": "java/com/google/gerrit/server/index/change/ChangeSchemaDefinitions.java",
        "patchSetId": 20
      },
      "lineNbr": 27,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2019-10-07T18:31:55Z",
      "side": 1,
      "message": "(Same.)",
      "range": {
        "startLine": 27,
        "startChar": 10,
        "endLine": 27,
        "endChar": 15
      },
      "revId": "266257cf2649b062ab6ab7f19ab5123ec79aaa6b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2c33b485_8c8b839c",
        "filename": "java/com/google/gerrit/server/index/change/ChangeSchemaDefinitions.java",
        "patchSetId": 20
      },
      "lineNbr": 79,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2019-10-07T18:31:55Z",
      "side": 1,
      "message": "I believe there is already a \u0027schema\u0027 factory method prototype that assumes useLegacyNumericFields set as true. Then this currently used one might not be needed. Would apply elsewhere in this file.",
      "range": {
        "startLine": 74,
        "startChar": 64,
        "endLine": 79,
        "endChar": 68
      },
      "revId": "266257cf2649b062ab6ab7f19ab5123ec79aaa6b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25c8ca03_bb5d2c4b",
        "filename": "java/com/google/gerrit/server/index/change/ChangeSchemaDefinitions.java",
        "patchSetId": 20
      },
      "lineNbr": 122,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2019-10-07T18:31:55Z",
      "side": 1,
      "message": "In general, I would revise the different \u0027schema\u0027 factory method prototypes, so that \u0027true\u0027 is assumed by default, thus not passed explicitly that often. Possible and \"future-proof\"?",
      "revId": "266257cf2649b062ab6ab7f19ab5123ec79aaa6b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6e882c12_46e3c8fc",
        "filename": "java/com/google/gerrit/server/query/change/ChangeQueryBuilder.java",
        "patchSetId": 20
      },
      "lineNbr": 464,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2019-10-07T18:31:55Z",
      "side": 1,
      "message": "Extra blank line?",
      "revId": "266257cf2649b062ab6ab7f19ab5123ec79aaa6b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "230d9a38_97562148",
        "filename": "java/com/google/gerrit/server/query/change/InternalChangeQuery.java",
        "patchSetId": 20
      },
      "lineNbr": 115,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2019-10-07T18:31:55Z",
      "side": 1,
      "message": "In-line within line 119 below instead? Consistent with line 107 above.",
      "range": {
        "startLine": 115,
        "startChar": 37,
        "endLine": 115,
        "endChar": 68
      },
      "revId": "266257cf2649b062ab6ab7f19ab5123ec79aaa6b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}