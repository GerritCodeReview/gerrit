{
  "comments": [
    {
      "key": {
        "uuid": "3f3d4c4d_40f22e79",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-05T10:38:21Z",
      "side": 1,
      "message": "Provide this feature for all Gerrit users, without needing to fork Gerrit?",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 55
      },
      "revId": "2871f63b6436489d6caf96e3e064629788d7ab58",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9f4d5812_1bd7bbf5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-06-05T11:47:16Z",
      "side": 1,
      "message": "Why would you want this? \n\nThe functionality is already available over SSH, why should it not be available via REST?",
      "parentUuid": "3f3d4c4d_40f22e79",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 55
      },
      "revId": "2871f63b6436489d6caf96e3e064629788d7ab58",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3f3d4c4d_6012d2e8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-06-05T11:50:18Z",
      "side": 1,
      "message": "I believe Shawn\u0027s setup is wrong. If you don\u0027t want people to be administrator then don\u0027t grant them the \u0027Administrate Server\u0027 capability but only those capabilities and permissions that they should have. It doesn\u0027t make sense to make people administrator and then configure that some things can\u0027t be done by an administrator. Then as a next thing you will ask if we can have a super-administrator which again can do everything?",
      "parentUuid": "9f4d5812_1bd7bbf5",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 55
      },
      "revId": "2871f63b6436489d6caf96e3e064629788d7ab58",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9f4d5812_db9f1352",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-05T11:59:37Z",
      "side": 1,
      "message": "I would also want to disable this from remote HOST per SSH. Exact as it is the case with remote plugin commands: You can disable remotePluginConfiguration.\n\nThat means: you cannot install/reinstall/uninstall plugins per SSH/Rest API, but only when you have direct access to the machine.\n\nDue to organization of big open source projects, it is common case, that the whole Infrastructure team (\u003e10) get administrator right. However only very small group (\u003c5) get direct access to the Gerrit machine.\n\nI would like to restrict very sensible actions like Database, Git, Plugins, Caches managements to the small subset of administrator group that have direct access to the production machine.\n\nAnother approach to my suggestion would be to do the same as with plugin remote configuration option:\n\nAlways bind the endpoints/SSH commands, but add a \n\n\n  checkRemoteCacheConfiguraionEnabled()\n\nguard. Exact like it is already today the case with remotePluginConfiguration().",
      "parentUuid": "9f4d5812_1bd7bbf5",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 55
      },
      "revId": "2871f63b6436489d6caf96e3e064629788d7ab58",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3f3d4c4d_4009ceb8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-05T12:02:51Z",
      "side": 1,
      "message": "If that doesn\u0027t make sense, why do we have enabledRemotePluginConfiguration option [1]? You even +1 that change.\n\n [1] https://gerrit-review.googlesource.com/54650",
      "parentUuid": "3f3d4c4d_6012d2e8",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 55
      },
      "revId": "2871f63b6436489d6caf96e3e064629788d7ab58",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3f3d4c4d_e04022c6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-06-05T12:05:41Z",
      "side": 1,
      "message": "\u003e I would also want to disable this from remote HOST per SSH.\n\nBut then this is unrelated to this change. If you want this, please upload an own change for this.\n\n\n \u003e I would like to restrict very sensible actions like \n \u003e Database, Git, Plugins, Caches managements to the small \n \u003e subset of administrator group that have direct access to \n \u003e the production machine.\n\nHow would this \"small subset of administrators\" be able to flush the caches if this functionality is disabled on the server?",
      "parentUuid": "9f4d5812_db9f1352",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 55
      },
      "revId": "2871f63b6436489d6caf96e3e064629788d7ab58",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3f3d4c4d_a04a1ae2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-05T12:11:32Z",
      "side": 1,
      "message": "As per my comment above: \"I would also want to disable this from remote HOST per SSH.\"\n\nSo this should still work from the same machine, where Gerrit is installed. Exact the same, like this works now with plugins, when remote plugin configuration option is disabled.",
      "parentUuid": "3f3d4c4d_e04022c6",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 55
      },
      "revId": "2871f63b6436489d6caf96e3e064629788d7ab58",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9f4d5812_bb9ec752",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-06-05T12:20:50Z",
      "side": 1,
      "message": "Ok, I\u0027m not against you implementing this. I don\u0027t find this useful, so I will not spent time on it. We have fine-grained capabilities that allow you to exactly assign the needed permissions. I think we don\u0027t need a second possibility to do the same, by saying you are administrator, but minus the following capabilities. Just don\u0027t be lazy and make not everyone an administrator if they should not have all capabilities.\n\n \u003e So this should still work from the same machine, where Gerrit is installed.\n\nAFAIK for the plugins the functionality in Gerrit to install/disable plugins via REST/SSH is completely disabled, no matter from which machine you come. It only works being on the machine by copying/deleting the plugin jars in the $review_site/plugins folder.\n\nSo flushing caches was maybe a bad example, since you can flush the caches by deleting the corresponding folder in $review_site/cache if the functionality is disabled in Gerrit.\n\nBut how would you get this summary data if the functionality is disabled in Gerrit?",
      "parentUuid": "3f3d4c4d_a04a1ae2",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 55
      },
      "revId": "2871f63b6436489d6caf96e3e064629788d7ab58",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9f4d5812_fbbd2fc6",
        "filename": "gerrit-war/src/main/java/com/google/gerrit/httpd/WebAppInitializer.java",
        "patchSetId": 1
      },
      "lineNbr": 288,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-05T10:38:21Z",
      "side": 1,
      "message": "The appropriate way to do that is per configuration and not per commenting out the code. In very big organization (big open source projects) there are too many administrators, and i afraid, that such organization may also want that feature. And no, to fork Gerrit is not really an option there.\n\nThat why i would suggest to introduce new configuration option:\n\n  cache.remoteConfiguration: allow to configure caches remotely.\n\nand may be even disable it per default.",
      "range": {
        "startLine": 288,
        "startChar": 4,
        "endLine": 288,
        "endChar": 46
      },
      "revId": "2871f63b6436489d6caf96e3e064629788d7ab58",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}