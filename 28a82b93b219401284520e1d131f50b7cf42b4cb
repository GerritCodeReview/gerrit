{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "91f8cad0_4ff40dd0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2023-06-28T12:16:27Z",
      "side": 1,
      "message": "You\u0027ll need to add the reverse of this patch to the import, or else this won\u0027t build against the current (0.50) version of flexmark in google3.",
      "revId": "28a82b93b219401284520e1d131f50b7cf42b4cb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c40f77c6_789ed8ed",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2023-06-28T12:18:18Z",
      "side": 1,
      "message": "not sure if maven_jar changes should propagate somewhere else. David?",
      "revId": "28a82b93b219401284520e1d131f50b7cf42b4cb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bbbe60a0_f3eac4b2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2023-06-28T12:20:50Z",
      "side": 1,
      "message": "Looking...",
      "parentUuid": "c40f77c6_789ed8ed",
      "revId": "28a82b93b219401284520e1d131f50b7cf42b4cb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5b767cdf_14bc3b1c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2023-06-28T12:21:35Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "bbbe60a0_f3eac4b2",
      "revId": "28a82b93b219401284520e1d131f50b7cf42b4cb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "859f397d_bb6c0201",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2023-06-28T12:21:35Z",
      "side": 1,
      "message": "(resolving.)",
      "revId": "28a82b93b219401284520e1d131f50b7cf42b4cb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b9e569fc_eb63cfef",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1146706
      },
      "writtenOn": "2023-06-29T07:43:31Z",
      "side": 1,
      "message": "Ack.\nThough I think the change mentioned in the bug gives an easier solution.",
      "parentUuid": "91f8cad0_4ff40dd0",
      "revId": "28a82b93b219401284520e1d131f50b7cf42b4cb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3a924442_f37229ce",
        "filename": "lib/BUILD",
        "patchSetId": 4
      },
      "lineNbr": 374,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2023-06-28T13:39:09Z",
      "side": 1,
      "message": "Nit: remove empty `runtime_deps`.",
      "range": {
        "startLine": 373,
        "startChar": 4,
        "endLine": 374,
        "endChar": 6
      },
      "revId": "28a82b93b219401284520e1d131f50b7cf42b4cb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b07a0e8d_5c1c5c36",
        "filename": "lib/BUILD",
        "patchSetId": 4
      },
      "lineNbr": 374,
      "author": {
        "id": 1146706
      },
      "writtenOn": "2023-06-29T07:43:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3a924442_f37229ce",
      "range": {
        "startLine": 373,
        "startChar": 4,
        "endLine": 374,
        "endChar": 6
      },
      "revId": "28a82b93b219401284520e1d131f50b7cf42b4cb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "71a9768c_77e1fd11",
        "filename": "tools/deps.bzl",
        "patchSetId": 4
      },
      "lineNbr": 330,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2023-06-28T13:39:09Z",
      "side": 1,
      "message": "I wouldn\u0027t do it for two reasons:\n\n1. `maven_jar` is our custom Bazel macro migrated from `buck`, one day we could migrate standard dependency bazel library, like `rules_jvm_external`:[1].\n2. Patch single artifacts: who is saying that the library-compsite artifact would be released?\n\nI went ahead and specified the single transitive dependencies, that are specified in `pom.xml` anyway: [2]. That should be the way to go: [3].\n\n\n[1]: https://github.com/bazelbuild/rules_jvm_external\n[2]: https://repo1.maven.org/maven2/com/vladsch/flexmark/flexmark-util/0.64.0/flexmark-util-0.64.0.pom\n[3]: https://paste.opendev.org/show/bSuNw7dXdhRU9JzDvsiL",
      "range": {
        "startLine": 324,
        "startChar": 0,
        "endLine": 330,
        "endChar": 5
      },
      "revId": "28a82b93b219401284520e1d131f50b7cf42b4cb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8a854240_dc9b1367",
        "filename": "tools/deps.bzl",
        "patchSetId": 4
      },
      "lineNbr": 330,
      "author": {
        "id": 1146706
      },
      "writtenOn": "2023-06-29T07:43:31Z",
      "side": 1,
      "message": "Many thanks, David!",
      "parentUuid": "71a9768c_77e1fd11",
      "range": {
        "startLine": 324,
        "startChar": 0,
        "endLine": 330,
        "endChar": 5
      },
      "revId": "28a82b93b219401284520e1d131f50b7cf42b4cb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "705d0dcf_8daf24d1",
        "filename": "tools/deps.bzl",
        "patchSetId": 4
      },
      "lineNbr": 330,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2023-06-29T08:27:47Z",
      "side": 1,
      "message": "Why this comment was resolved?\n\nI suggested to specify the transitive dependencies as own dependencies:\n\n```\ndiff --git a/lib/BUILD b/lib/BUILD\nindex 19dfeb2bb6..81178af8b0 100644\n--- a/lib/BUILD\n+++ b/lib/BUILD\n@@ -388,7 +388,16 @@ java_library(\n     name \u003d \"flexmark-util\",\n     data \u003d [\"//lib:LICENSE-flexmark\"],\n     visibility \u003d [\"//visibility:public\"],\n-    exports \u003d [\"@flexmark-util//jar\"],\n+    exports \u003d [\n+        \"@flexmark-util-ast//jar\",\n+        \"@flexmark-util-builder//jar\",\n+        \"@flexmark-util-data//jar\",\n+        \"@flexmark-util-html//jar\",\n+        \"@flexmark-util-misc//jar\",\n+        \"@flexmark-util-sequence//jar\",\n+        \"@flexmark-util-visitor//jar\",\n+        \"@flexmark-util//jar\",\n+    ],\n )\n \n java_library(\ndiff --git a/tools/deps.bzl b/tools/deps.bzl\nindex f58594ff5f..49b9252950 100644\n--- a/tools/deps.bzl\n+++ b/tools/deps.bzl\n@@ -324,9 +324,57 @@ def java_dependencies():\n     maven_jar(\n         name \u003d \"flexmark-util\",\n         artifact \u003d \"com.vladsch.flexmark:flexmark-util:\" + FLEXMARK_VERS,\n-        bin_url_suffix \u003d \"-lib\",\n-        sha1 \u003d \"108bb4a0be43b289bc9075509e276506ccd53e82\",\n         attach_source \u003d False,\n+        sha1 \u003d \"54fc812a9fdeee63d15853dde2720c113e96de81\",\n+    )\n+\n+    maven_jar(\n+        name \u003d \"flexmark-util-data\",\n+        artifact \u003d \"com.vladsch.flexmark:flexmark-util-data:\" + FLEXMARK_VERS,\n+        attach_source \u003d False,\n+        sha1 \u003d \"63162607faa7c98f6e50a9d1e826004c5475841d\",\n+    )\n+\n+    maven_jar(\n+        name \u003d \"flexmark-util-ast\",\n+        artifact \u003d \"com.vladsch.flexmark:flexmark-util-ast:\" + FLEXMARK_VERS,\n+        attach_source \u003d False,\n+        sha1 \u003d \"10fff87e61b7c3bb12afddf7b418977cd02acdc8\",\n+    )\n+\n+    maven_jar(\n+        name \u003d \"flexmark-util-misc\",\n+        artifact \u003d \"com.vladsch.flexmark:flexmark-util-misc:\" + FLEXMARK_VERS,\n+        attach_source \u003d False,\n+        sha1 \u003d \"d2129f4f2b55fbf645e3499c7b0cdddcfef81112\",\n+    )\n+\n+    maven_jar(\n+        name \u003d \"flexmark-util-visitor\",\n+        artifact \u003d \"com.vladsch.flexmark:flexmark-util-visitor:\" + FLEXMARK_VERS,\n+        attach_source \u003d False,\n+        sha1 \u003d \"7eb0030ae2a2eec80d74790caeb4cdb6b4bf8e17\",\n+    )\n+\n+    maven_jar(\n+        name \u003d \"flexmark-util-builder\",\n+        artifact \u003d \"com.vladsch.flexmark:flexmark-util-builder:\" + FLEXMARK_VERS,\n+        attach_source \u003d False,\n+        sha1 \u003d \"2d6adaf6053f72de86a050fe6967049f7c2d3500\",\n+    )\n+\n+    maven_jar(\n+        name \u003d \"flexmark-util-sequence\",\n+        artifact \u003d \"com.vladsch.flexmark:flexmark-util-sequence:\" + FLEXMARK_VERS,\n+        attach_source \u003d False,\n+        sha1 \u003d \"299e3b4a4272ba9dcd6b9081b8d24d1a672a0921\",\n+    )\n+\n+    maven_jar(\n+        name \u003d \"flexmark-util-html\",\n+        artifact \u003d \"com.vladsch.flexmark:flexmark-util-html:\" + FLEXMARK_VERS,\n+        attach_source \u003d False,\n+        sha1 \u003d \"fc52f860cf45f57468d8f14ee63c1e6469ee3f47\",\n     )\n \n     # Transitive dependency of flexmark and gitiles\n```",
      "parentUuid": "8a854240_dc9b1367",
      "range": {
        "startLine": 324,
        "startChar": 0,
        "endLine": 330,
        "endChar": 5
      },
      "revId": "28a82b93b219401284520e1d131f50b7cf42b4cb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c0fd3a89_bcddd64a",
        "filename": "tools/deps.bzl",
        "patchSetId": 4
      },
      "lineNbr": 330,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2023-06-29T08:30:02Z",
      "side": 1,
      "message": "This approach would also ensure, that the new dependencies are gathered and reported by License pipeline and would report the License for those libraries as well.",
      "parentUuid": "705d0dcf_8daf24d1",
      "range": {
        "startLine": 324,
        "startChar": 0,
        "endLine": 330,
        "endChar": 5
      },
      "revId": "28a82b93b219401284520e1d131f50b7cf42b4cb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9fc0e892_f9aaee9b",
        "filename": "tools/deps.bzl",
        "patchSetId": 4
      },
      "lineNbr": 330,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2023-06-29T08:38:10Z",
      "side": 1,
      "message": "\u003e I suggested to specify the transitive dependencies as own dependencies:\n\nI don\u0027t quite follow what you mean.\n\nFlexmark is a single project, https://github.com/vsch/flexmark-java, with one license file, there are no separate licenses.",
      "parentUuid": "c0fd3a89_bcddd64a",
      "range": {
        "startLine": 324,
        "startChar": 0,
        "endLine": 330,
        "endChar": 5
      },
      "revId": "28a82b93b219401284520e1d131f50b7cf42b4cb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c8c707b0_e9b63e44",
        "filename": "tools/deps.bzl",
        "patchSetId": 4
      },
      "lineNbr": 330,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2023-06-29T08:53:08Z",
      "side": 1,
      "message": "License aspect is only one argument in the case that the license for one of the dependent projects would change or dependent project would need to be patched and would need to be updated.\n\nWe have to consume `flexmark-util` library that depends on 8 other libraries. I suggest to not artificially consume composite library even though it is provided (for what reasons exactly?) on maven Central. But to go the usual way, and list/specify each and every dependency explicitly, as it was the case before this commit.\n\nIn case you insist on this hack, could you explain, why should we do it in the commit message and also leave a comment in `flexmark-util` maven_jar definition.\n\nIs it easier for you to upload one single JAR to your Gerrit\u0027s fork, in `third_party` directory (or is this JAR already there?), instead of explicitly upload 8 JARs:\n\n```\n      \"flexmark-util-ast.jar\"\n      \"flexmark-util-builder.jar\"\n      \"flexmark-util-data.jar\"\n      \"flexmark-util-html.jar\"\n      \"flexmark-util-misc.jar\"\n      \"flexmark-util-sequence.jar\"\n      \"flexmark-util-visitor.jar\"\n      \"flexmark-util.jar\"\n```\n\n?",
      "parentUuid": "9fc0e892_f9aaee9b",
      "range": {
        "startLine": 324,
        "startChar": 0,
        "endLine": 330,
        "endChar": 5
      },
      "revId": "28a82b93b219401284520e1d131f50b7cf42b4cb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "625aa0d3_2c2148f1",
        "filename": "tools/deps.bzl",
        "patchSetId": 4
      },
      "lineNbr": 330,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2023-06-29T10:24:17Z",
      "side": 1,
      "message": "I think the flexmark folks are going overboard with their split up of the library, and we don\u0027t have other libraries like that under lib/. I would actually suggest to put all the flexmark jars into a single target under lib. It\u0027s used in only one place in the source code (see https://gerrit-review.git.corp.google.com/c/gerrit/+/378494), so we don\u0027t get anything out of depending on each jar separately.",
      "parentUuid": "c8c707b0_e9b63e44",
      "range": {
        "startLine": 324,
        "startChar": 0,
        "endLine": 330,
        "endChar": 5
      },
      "revId": "28a82b93b219401284520e1d131f50b7cf42b4cb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e71c74ac_e9ea7967",
        "filename": "tools/deps.bzl",
        "patchSetId": 4
      },
      "lineNbr": 330,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2023-06-29T12:25:41Z",
      "side": 1,
      "message": "I think the current change is fine as-is, though. IMO It\u0027s not strictly necessary to move all the targets together in this change.",
      "parentUuid": "625aa0d3_2c2148f1",
      "range": {
        "startLine": 324,
        "startChar": 0,
        "endLine": 330,
        "endChar": 5
      },
      "revId": "28a82b93b219401284520e1d131f50b7cf42b4cb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2c1b8c92_ab915ac0",
        "filename": "tools/deps.bzl",
        "patchSetId": 4
      },
      "lineNbr": 330,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2023-06-30T05:19:16Z",
      "side": 1,
      "message": "\u003e I think the current change is fine as-is, though.\n\nIt should be mentioned in the commit message, why we deviate from the standard of consuming transitive dependencies as a separate JARs for `flexmark-util` artifact.\n\nAlso can you add any reference in flexmark project wheee it mentioning that this particular artifact also distributed with \"-lib\" Classifier? T make it easier discoverable?\n\n\u003e IMO It\u0027s not strictly necessary to move all the targets together in this change.\n\nAgreed.",
      "parentUuid": "e71c74ac_e9ea7967",
      "range": {
        "startLine": 324,
        "startChar": 0,
        "endLine": 330,
        "endChar": 5
      },
      "revId": "28a82b93b219401284520e1d131f50b7cf42b4cb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}