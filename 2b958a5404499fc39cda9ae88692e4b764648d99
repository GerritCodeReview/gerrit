{
  "comments": [
    {
      "key": {
        "uuid": "d5457692_ec93bd0f",
        "filename": "polygerrit-ui/app/elements/change/gr-file-list-header/gr-file-list-header.js",
        "patchSetId": 2
      },
      "lineNbr": 245,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-06-15T21:07:21Z",
      "side": 1,
      "message": "Maybe report when the event is fired in gr-patch-range-select.js and not when it is handled in two different places?",
      "revId": "2b958a5404499fc39cda9ae88692e4b764648d99",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "440f6b72_1514b032",
        "filename": "polygerrit-ui/app/elements/change/gr-file-list-header/gr-file-list-header.js",
        "patchSetId": 2
      },
      "lineNbr": 245,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2020-06-16T12:20:21Z",
      "side": 1,
      "message": "the event is unfortunately fired when the page is loading which is why I could not add it to gr-patch-range-select.",
      "parentUuid": "d5457692_ec93bd0f",
      "revId": "2b958a5404499fc39cda9ae88692e4b764648d99",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5ea78263_371a23bc",
        "filename": "polygerrit-ui/app/elements/change/gr-file-list-header/gr-file-list-header.js",
        "patchSetId": 2
      },
      "lineNbr": 245,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-06-16T12:50:31Z",
      "side": 1,
      "message": "Sorry, I don\u0027t understand this reply.\n\nI am recommending to call reportInteraction() here: https://gerrit.googlesource.com/gerrit/+/e1f4fee1f3ce674f44cb9788e6798ff8522bb876/polygerrit-ui/app/elements/diff/gr-patch-range-select/gr-patch-range-select.js#293\n\nAre you saying that this does not work, because it would be triggered more often or less often?",
      "parentUuid": "440f6b72_1514b032",
      "revId": "2b958a5404499fc39cda9ae88692e4b764648d99",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "39355e91_886c670d",
        "filename": "polygerrit-ui/app/elements/change/gr-file-list-header/gr-file-list-header.js",
        "patchSetId": 2
      },
      "lineNbr": 245,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2020-06-16T12:52:19Z",
      "side": 1,
      "message": "Yeah the event is fired when the page is initially loaded(even if the user has not actually made any selection at all).\n\nTherefore, we would get extra events in our metric if we do the reporting here.",
      "parentUuid": "5ea78263_371a23bc",
      "revId": "2b958a5404499fc39cda9ae88692e4b764648d99",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "11cf7e5c_e6378a86",
        "filename": "polygerrit-ui/app/elements/change/gr-file-list-header/gr-file-list-header.js",
        "patchSetId": 2
      },
      "lineNbr": 245,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-06-16T13:49:48Z",
      "side": 1,
      "message": "The event is fired and processed the same amount of times. If it is fired, then it is also caught and processed in two places.\n\nThe only reason why this leads to different behavior is that gr-patch-range-select.js fires an event even if the patch range does not actually change. I would consider that a bug. This should fix it:\n\n    if (target \u003d\u003d\u003d this.$.patchNumDropdown) {\n      if (detail.patchNum \u003d\u003d\u003d e.detail.value) return;\n      detail.patchNum \u003d e.detail.value;\n    } else {\n      if (detail.basePatchNum \u003d\u003d\u003d e.detail.value) return;\n      detail.basePatchNum \u003d e.detail.value;\n    }\n\nAnd then you can also move the reporting to when the event is fired.",
      "parentUuid": "39355e91_886c670d",
      "revId": "2b958a5404499fc39cda9ae88692e4b764648d99",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "941da958_623b37cd",
        "filename": "polygerrit-ui/app/elements/change/gr-file-list-header/gr-file-list-header.js",
        "patchSetId": 2
      },
      "lineNbr": 245,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2020-06-16T15:43:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "11cf7e5c_e6378a86",
      "revId": "2b958a5404499fc39cda9ae88692e4b764648d99",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}