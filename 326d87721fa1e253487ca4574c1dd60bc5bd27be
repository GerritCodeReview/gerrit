{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "1012d484_62ad6bd1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2023-10-30T17:38:08Z",
      "side": 1,
      "message": "Thanks a lot for the refactor!\nðŸ˜Š",
      "revId": "326d87721fa1e253487ca4574c1dd60bc5bd27be",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ea028997_d3c3a302",
        "filename": "polygerrit-ui/app/embed/diff/gr-diff/gr-diff.ts",
        "patchSetId": 1
      },
      "lineNbr": 395,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2023-10-30T17:38:08Z",
      "side": 1,
      "message": "GrDiff updating this state seems a bit strange to me.\nThis seems like this info should be requested by the model from the API and then stored, GrDiff should only request this data.\nWDYT?\n\nIt looks like the data is loaded by GrDiffHost instead of DiffModel\nhttps://cs.opensource.google/gerrit/gerrit/gerrit/+/master:polygerrit-ui/app/elements/diff/gr-diff-host/gr-diff-host.ts;l\u003d839?q\u003d%22loadBlame():%20Promise%3CBlameInfo%22\u0026sq\u003d\n\nIf we can move this to the model as well, then the state can be maintained by the model and GrDiff can just subscribe to it instead of getting it via a property and then updating the model",
      "range": {
        "startLine": 395,
        "startChar": 6,
        "endLine": 395,
        "endChar": 32
      },
      "revId": "326d87721fa1e253487ca4574c1dd60bc5bd27be",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "442738fe_088dfcf9",
        "filename": "polygerrit-ui/app/embed/diff/gr-diff/gr-diff.ts",
        "patchSetId": 1
      },
      "lineNbr": 395,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2023-10-30T20:39:30Z",
      "side": 1,
      "message": "You have to take into account that \u003cgr-diff\u003e is a re-usable standalone component also used by other products. \u003cgr-diff-host\u003e is a Gerrit only component that only *uses* \u003cgr-diff\u003e. Currently the \"API\" of \u003cgr-diff\u003e are 100% just its component properties. gr-diff-model is not known to anything outside of \u003cgr-diff\u003e.\n\nReceiving properties from the outside and pushing this data into the model is the primary purpose of \u003cgr-diff\u003e. Everything else (for example actually rendering a diff table, etc.) is wrapped one level deeper in \u003cgr-diff-element\u003e.\n\nSo I think given the current architecture this model update makes perfect sense. And loading data must be done outside of \u003cgr-diff\u003e and its model.\n\nMakes sense?",
      "parentUuid": "ea028997_d3c3a302",
      "range": {
        "startLine": 395,
        "startChar": 6,
        "endLine": 395,
        "endChar": 32
      },
      "revId": "326d87721fa1e253487ca4574c1dd60bc5bd27be",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}