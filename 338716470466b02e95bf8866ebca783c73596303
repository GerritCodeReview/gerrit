{
  "comments": [
    {
      "key": {
        "uuid": "6728e3ac_e399bd7a",
        "filename": "polygerrit-ui/app/elements/shared/gr-storage/gr-storage.js",
        "patchSetId": 2
      },
      "lineNbr": 105,
      "author": {
        "id": 1027267
      },
      "writtenOn": "2017-03-17T17:48:32Z",
      "side": 1,
      "message": "Could use a // QuotaExceededError, and local explanation as to why this method disables itself.",
      "revId": "338716470466b02e95bf8866ebca783c73596303",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5d4f73eb_a177f265",
        "filename": "polygerrit-ui/app/elements/shared/gr-storage/gr-storage.js",
        "patchSetId": 2
      },
      "lineNbr": 105,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-03-17T20:05:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6728e3ac_e399bd7a",
      "revId": "338716470466b02e95bf8866ebca783c73596303",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7e9befa5_aa566271",
        "filename": "polygerrit-ui/app/elements/shared/gr-storage/gr-storage.js",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2017-03-17T18:22:02Z",
      "side": 1,
      "message": "If a user gets into such a state, what\u0027ll break?",
      "revId": "338716470466b02e95bf8866ebca783c73596303",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c6cbb3f_12ba7d47",
        "filename": "polygerrit-ui/app/elements/shared/gr-storage/gr-storage.js",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-03-17T20:05:14Z",
      "side": 1,
      "message": "Good question.\n\nCurrently, localStorage is used for unsaved drafts of top-level and inline comments. If localStorage is disabled, the draft will not be invisibly saved.\n\nCurrently, the only way I know of to end up with a zero-quota is by creating a private tab in Safari. I argue this is reasonable, because a user in a private tab would not expect/wish for their unsaved draft comments to persist anyway.",
      "parentUuid": "7e9befa5_aa566271",
      "revId": "338716470466b02e95bf8866ebca783c73596303",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d0651c3a_f69b280f",
        "filename": "polygerrit-ui/app/elements/shared/gr-storage/gr-storage.js",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2017-03-17T21:02:58Z",
      "side": 1,
      "message": "\u003e the only way I know of to end up with a zero-quota\n\nFYI: https://demo.agektmr.com/storage/\n\nSo it seems the effects are invisible, so that\u0027s probably not severe.\n\nWhat probably worth investigating, is how to recover from that state - if, say, browser is out of quota, should we show a toast stating that so user could clear it?",
      "parentUuid": "7c6cbb3f_12ba7d47",
      "revId": "338716470466b02e95bf8866ebca783c73596303",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "77e81127_552756f0",
        "filename": "polygerrit-ui/app/elements/shared/gr-storage/gr-storage.js",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-03-20T16:48:46Z",
      "side": 1,
      "message": "\u003e \u003e the only way I know of to end up with a zero-quota\n\u003e \n\u003e FYI: https://demo.agektmr.com/storage/\n\nThat\u0027s a great tool!\n\n\u003e What probably worth investigating, is how to recover from that state - if, say, browser is out of quota, should we show a toast stating that so user could clear it?\n\nI agree that we should add such a signal if we end up relying-on or requiring localStorage for critical features. It might be weird and distracting to always show the alert in a Safari private tab, though.",
      "parentUuid": "d0651c3a_f69b280f",
      "revId": "338716470466b02e95bf8866ebca783c73596303",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}