{
  "comments": [
    {
      "key": {
        "uuid": "OWuhAkzM",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/ReceiveCommits.java",
        "patchSetId": 7
      },
      "lineNbr": 763,
      "author": {
        "id": 1006454
      },
      "writtenOn": "2013-01-16T09:18:09Z",
      "side": 1,
      "message": "Does this not mean ReceiveCommits can accept pushes to refs/changes/32/5432/1 ?\n\nNot sure here.. Should ReceiveCommits accept replace requests that has PatchSet specified in the ref?",
      "revId": "344b3313bae7b7585ab92aa9cabad9d43eec0be7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "OWqhd.xQ",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/ReceiveCommits.java",
        "patchSetId": 7
      },
      "lineNbr": 763,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2013-01-16T10:19:56Z",
      "side": 1,
      "message": "I think Gustaf is right. We shouldn\u0027t extend the set of matched refs which ReceiveCommits will accept.\nSo, ReceiveCommits.NEW_PATCHSET probably shouldn\u0027t be touched by this change.",
      "parentUuid": "OWuhAkzM",
      "revId": "344b3313bae7b7585ab92aa9cabad9d43eec0be7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "OWAo.u44",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/ReceiveCommits.java",
        "patchSetId": 7
      },
      "lineNbr": 763,
      "author": {
        "id": 1010015
      },
      "writtenOn": "2013-01-16T15:12:59Z",
      "side": 1,
      "message": "yes . we find a good reason of do not refactor ReceiveCommits.NEW_PATCHSET now :)",
      "parentUuid": "OWqhd.xQ",
      "revId": "344b3313bae7b7585ab92aa9cabad9d43eec0be7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "OWuhX8.4",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/validators/CommitValidators.java",
        "patchSetId": 7
      },
      "lineNbr": 60,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2013-01-16T10:19:56Z",
      "side": 1,
      "message": "The more I look at the code in this class I wonder if we need this regex at all?\n\nIt is only used from the ChangeIdValidator.onCommitReceived. The purpose of the ChangeIdValidator is to check the presence of the change-id in the commit message. Why should it check the ref?\nPut it other way: if ChangeIdValidator.onCommitReceived is invoked for a commit without change-id in the commit message and for refs/heads/master then it will not throw the CommitValidationException because NEW_PATCH set will not match this ref. This seems wrong.\n\nMy proposal: remove the NEW_PATCH set regex and remove the if-check at the line 170 completely.",
      "revId": "344b3313bae7b7585ab92aa9cabad9d43eec0be7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "OZB7xrSU",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/validators/CommitValidators.java",
        "patchSetId": 7
      },
      "lineNbr": 60,
      "author": {
        "id": 1006818
      },
      "writtenOn": "2013-01-16T13:22:54Z",
      "side": 1,
      "message": "do you mean keep ReceiveCommits.NEW_PATCHSET without touch and remove this NEW_PATCHSET and line 170?\nthis is a good idea to check the  change-id anyway.",
      "parentUuid": "OWuhX8.4",
      "revId": "344b3313bae7b7585ab92aa9cabad9d43eec0be7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "OWGpD9xI",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/validators/CommitValidators.java",
        "patchSetId": 7
      },
      "lineNbr": 60,
      "author": {
        "id": 1010015
      },
      "writtenOn": "2013-01-16T15:12:59Z",
      "side": 1,
      "message": "\"Why should it check the ref?..... seems wrong\"\n\nsounds reasonable! it is strange for me too that it want just check the presence of the change-id only for those new changes and patchset  which  need review and can be recognized by \nrefs  : \n\n refs/for\n refs/publish\n refs/drafts\n refs/changes\n\n------------------------------\n\n\"My proposal: remove the NEW_PATCH set regex and remove the if-check at the line 170 completely.\"\n\nhow about let it be there before we make sure we need not these logic, at least it is not this patch\u0027s objective and we can carry them out in another feature",
      "parentUuid": "OZB7xrSU",
      "revId": "344b3313bae7b7585ab92aa9cabad9d43eec0be7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "OWsjhTyI",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/validators/CommitValidators.java",
        "patchSetId": 7
      },
      "lineNbr": 60,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2013-01-16T15:21:55Z",
      "side": 1,
      "message": "The real objective of this change is to fix the ChangeIdValidator so it doesn\u0027t skip change-id checks for certain refs.\n\nThis can also be achieved by removing the NEW_PATCHSET regex instead of trying to improve it.\n\nSo, I don\u0027t agree that we should ignore the fact that NEW_PATCHSET regex is unnecessary because it is directly related to the objective of this change.",
      "parentUuid": "OWGpD9xI",
      "revId": "344b3313bae7b7585ab92aa9cabad9d43eec0be7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "OWIpJCzI",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/validators/CommitValidators.java",
        "patchSetId": 7
      },
      "lineNbr": 60,
      "author": {
        "id": 1010015
      },
      "writtenOn": "2013-01-16T15:59:17Z",
      "side": 1,
      "message": ":) Ok  !  that would be neat!",
      "parentUuid": "OWsjhTyI",
      "revId": "344b3313bae7b7585ab92aa9cabad9d43eec0be7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}