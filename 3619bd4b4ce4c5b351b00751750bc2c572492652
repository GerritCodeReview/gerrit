{
  "comments": [
    {
      "key": {
        "uuid": "8afa6180_2ce91339",
        "filename": "gerrit-lucene/BUCK",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2013-06-18T16:58:43Z",
      "side": 1,
      "message": "What is the issue here? It builds fine for me from master, and the following produces no output:\n$ for c in $(find gerrit-reviewdb/ -name \\*.java | grep /server/ | sed -e \u0027s|.*/\\(\\w\\+\\)\\.java$|\\1|\u0027); do find gerrit-lucene -name \\*.java | xargs grep $c; done",
      "revId": "3619bd4b4ce4c5b351b00751750bc2c572492652",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "caf0d9a0_0eeecb40",
        "filename": "gerrit-lucene/BUCK",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1012155
      },
      "writtenOn": "2013-06-18T17:18:08Z",
      "side": 1,
      "message": "The problem seems to be that when other projects depend on both\ngerrit-lucene and some other project gerrit-X that depends on\ngerrit-reviewdb:server. Then files from gerrit-reviewdb:client (e.g.: com/google/gerrit/reviewdb/client/CurrentSchemaVersion$Key) get\npulled in twice.\n\n* One time from gerrit-client (through gerrit-lucene).\n* One time from gerrit-server (through gerrit-X ).\n\nThis problem hit me when trying to add gerrit-pgm (which depends on\ngerrit-lucene) again to gerrit-plugin-api in change 47063:\nhttps://gerrit-review.googlesource.com/#/c/47063",
      "parentUuid": "8afa6180_2ce91339",
      "revId": "3619bd4b4ce4c5b351b00751750bc2c572492652",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6af7ed99_0beebd40",
        "filename": "gerrit-lucene/BUCK",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2013-06-18T17:20:38Z",
      "side": 1,
      "message": "This may be a buck bug but if anything it raises more questions than it answers. If that\u0027s the case, why don\u0027t we have this issue with every single gerrit-* library that can be reached by multiple paths in the dependency DAG? Surely there are many of those.",
      "parentUuid": "caf0d9a0_0eeecb40",
      "revId": "3619bd4b4ce4c5b351b00751750bc2c572492652",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "caf0d9a0_4ef8d3ff",
        "filename": "gerrit-lucene/BUCK",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1012155
      },
      "writtenOn": "2013-06-18T17:54:26Z",
      "side": 1,
      "message": "\u003e This may be a buck bug [...]\n\nMaybe it is. But this change helps right now :-) ... even if the\npotential Buck bug does not get fixed.\n\n\u003e If that\u0027s the case, why don\u0027t we have this issue with every single\n\u003e gerrit-* library that can be reached by multiple paths in the\n\u003e dependency DAG?\n\nAs you know, I am a total Buck noob, so I might be completely off the\ntrack here. But to me it seems that change 47063 patch set 1 would be\nthe only place where a java_binary (not library!) would get the same\nfiles from two different dependencies.\n\nFor change 47063 patch set 1, building the plugin /library/\n(//:plugin-lib) is not the issue. It\u0027s when putting that library into\na java_binary.\n\nYMMV, but there, the error message is \"duplicate entry\", and the\nproblematic file is\n\"com/google/gerrit/reviewdb/client/CurrentSchemaVersion$Key.class\"",
      "parentUuid": "6af7ed99_0beebd40",
      "revId": "3619bd4b4ce4c5b351b00751750bc2c572492652",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}