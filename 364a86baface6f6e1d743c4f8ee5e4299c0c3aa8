{
  "pushCert": "certificate version 0.1\npusher A0D0EF51 1494321260 +0200\nnonce APbwY4qwbuxmp8hjuY67ZDRW5v8ydMza3UggW9tVdpmeGrgePdRYAYGj03FTw3PdIYSF6wD37UzP\n\n0000000000000000000000000000000000000000 364a86baface6f6e1d743c4f8ee5e4299c0c3aa8 refs/for/master\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQEcBAABAgAGBQJZEYhsAAoJEFG1/Zeg0O9RU1gIAMNeKk9KFowtMASKfLlsWZu2\n/dmvLKtNH3eGoVAgleeQm2iWiyUIzjWB1HBIembGfSdacwGmcAl7h1h98BsqFcBS\nC0jml0mwopFm6IBbgysviS7JuKF6/3jmz3cfByJ0mOqLwl5krx4Pio88/m3IxNRy\nFSVvRM2Cc93PY4PxDpDuv4KlMt7a02z/8HJUum/AX79zzSv3IahXAHc5BEu3lYKs\njmj+MTKaYd9HJw7wPjVM3im+1nMyN1nth9XJmGFaKZ9pdzg5Hsy5/crr4y+ma8v9\nQkva2kcpy7NmzH1tXsUPNN9MCv5PbaVAs/ChyT5DSEWQBvD2aiyv7/pHJ5/lQwY\u003d\n\u003dD63H\n-----END PGP SIGNATURE-----\n",
  "comments": [
    {
      "key": {
        "uuid": "e0ec19cd_8828c633",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/changes/ChangeApi.java",
        "patchSetId": 9
      },
      "lineNbr": 129,
      "author": {
        "id": 1029953
      },
      "writtenOn": "2017-05-10T10:57:14Z",
      "side": 1,
      "message": "You did not document this change for unmarking privates. So i thought that you could still DELETE /changes/2/private",
      "range": {
        "startLine": 129,
        "startChar": 4,
        "endLine": 129,
        "endChar": 70
      },
      "revId": "364a86baface6f6e1d743c4f8ee5e4299c0c3aa8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "181afaa8_07be0582",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/changes/ChangeApi.java",
        "patchSetId": 9
      },
      "lineNbr": 129,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2017-05-10T11:04:23Z",
      "side": 1,
      "message": "\u003e You did not document this change for unmarking privates\n\nIt\u0027s documented here:\n  https://gerrit-review.googlesource.com/#/c/104872/9/Documentation/rest-api-changes.txt@2223\n\n\u003e So i thought that you could still DELETE /changes/2/private\n\nYes, you can still do this.",
      "parentUuid": "e0ec19cd_8828c633",
      "range": {
        "startLine": 129,
        "startChar": 4,
        "endLine": 129,
        "endChar": 70
      },
      "revId": "364a86baface6f6e1d743c4f8ee5e4299c0c3aa8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eab084c8_6e87c967",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/changes/ChangeApi.java",
        "patchSetId": 9
      },
      "lineNbr": 129,
      "author": {
        "id": 1029953
      },
      "writtenOn": "2017-05-10T11:08:35Z",
      "side": 1,
      "message": "Oh, it is saying this Could not perform action: Internal server error for me in polygerrit.",
      "parentUuid": "181afaa8_07be0582",
      "range": {
        "startLine": 129,
        "startChar": 4,
        "endLine": 129,
        "endChar": 70
      },
      "revId": "364a86baface6f6e1d743c4f8ee5e4299c0c3aa8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "53712ff3_5684e94e",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/changes/ChangeApi.java",
        "patchSetId": 9
      },
      "lineNbr": 129,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2017-05-10T11:12:29Z",
      "side": 1,
      "message": "What\u0027s the stacktrace of that internal server error?",
      "parentUuid": "eab084c8_6e87c967",
      "range": {
        "startLine": 129,
        "startChar": 4,
        "endLine": 129,
        "endChar": 70
      },
      "revId": "364a86baface6f6e1d743c4f8ee5e4299c0c3aa8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d8ebc394_76105552",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/changes/ChangeApi.java",
        "patchSetId": 9
      },
      "lineNbr": 129,
      "author": {
        "id": 1029953
      },
      "writtenOn": "2017-05-10T11:15:42Z",
      "side": 1,
      "message": "It dosen\u0027t show a stack trace.",
      "parentUuid": "53712ff3_5684e94e",
      "range": {
        "startLine": 129,
        "startChar": 4,
        "endLine": 129,
        "endChar": 70
      },
      "revId": "364a86baface6f6e1d743c4f8ee5e4299c0c3aa8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0fab034_dedbeba4",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/changes/ChangeApi.java",
        "patchSetId": 9
      },
      "lineNbr": 129,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2017-05-10T11:16:34Z",
      "side": 1,
      "message": "Look in the server logs...",
      "parentUuid": "d8ebc394_76105552",
      "range": {
        "startLine": 129,
        "startChar": 4,
        "endLine": 129,
        "endChar": 70
      },
      "revId": "364a86baface6f6e1d743c4f8ee5e4299c0c3aa8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "66aa09d4_a92608b0",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/changes/ChangeApi.java",
        "patchSetId": 9
      },
      "lineNbr": 129,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2017-05-10T11:17:26Z",
      "side": 1,
      "message": "Or run it in Eclipse and look in the debug console.",
      "parentUuid": "f0fab034_dedbeba4",
      "range": {
        "startLine": 129,
        "startChar": 4,
        "endLine": 129,
        "endChar": 70
      },
      "revId": "364a86baface6f6e1d743c4f8ee5e4299c0c3aa8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "29a2991b_eb304a78",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/changes/ChangeApi.java",
        "patchSetId": 9
      },
      "lineNbr": 129,
      "author": {
        "id": 1029953
      },
      "writtenOn": "2017-05-10T11:18:46Z",
      "side": 1,
      "message": "Thanks, heres the log\n\n2017-05-10 12:14:38,423] [HTTP-69] ERROR com.google.gerrit.httpd.restapi.RestApiServlet : Error in DELETE /r/changes/2/private\ncom.google.gerrit.server.update.UpdateException: java.util.concurrent.ExecutionException: java.lang.NullPointerException\n\tat com.google.gerrit.server.update.ReviewDbBatchUpdate.executeChangeOps(ReviewDbBatchUpdate.java:490)\n\tat com.google.gerrit.server.update.ReviewDbBatchUpdate.execute(ReviewDbBatchUpdate.java:269)\n\tat com.google.gerrit.server.update.ReviewDbBatchUpdate.execute(ReviewDbBatchUpdate.java:364)\n\tat com.google.gerrit.server.update.BatchUpdate.execute(BatchUpdate.java:296)\n\tat com.google.gerrit.server.change.DeletePrivate.applyImpl(DeletePrivate.java:68)\n\tat com.google.gerrit.server.change.DeletePrivate.applyImpl(DeletePrivate.java:34)\n\tat com.google.gerrit.server.update.RetryingRestModifyView.lambda$apply$0(RetryingRestModifyView.java:30)\n\tat com.google.gerrit.server.update.RetryHelper.lambda$execute$0(RetryHelper.java:63)\n\tat com.github.rholder.retry.AttemptTimeLimiters$NoAttemptTimeLimit.call(AttemptTimeLimiters.java:78)\n\tat com.github.rholder.retry.Retryer.call(Retryer.java:160)\n\tat com.google.gerrit.server.update.RetryHelper.execute(RetryHelper.java:63)\n\tat com.google.gerrit.server.update.RetryingRestModifyView.apply(RetryingRestModifyView.java:30)\n\tat com.google.gerrit.httpd.restapi.RestApiServlet.service(RestApiServlet.java:388)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\n\tat com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:286)\n\tat com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:276)\n\tat com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:181)\n\tat com.google.inject.servlet.ManagedServletPipeline.service(ManagedServletPipeline.java:91)\n\tat com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85)\n\tat com.google.gerrit.httpd.raw.StaticModule$PolyGerritFilter.doFilter(StaticModule.java:483)\n\tat com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82)\n\tat com.google.gerrit.httpd.GetUserFilter.doFilter(GetUserFilter.java:75)\n\tat com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82)\n\tat com.google.gerrit.httpd.RunAsFilter.doFilter(RunAsFilter.java:126)\n\tat com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82)\n\tat com.google.gwtexpui.server.CacheControlFilter.doFilter(CacheControlFilter.java:70)\n\tat com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82)\n\tat com.google.gerrit.httpd.RequestMetricsFilter.doFilter(RequestMetricsFilter.java:57)\n\tat com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82)\n\tat com.google.gerrit.httpd.AllRequestFilter$FilterProxy$1.doFilter(AllRequestFilter.java:133)\n\tat com.google.gerrit.httpd.AllRequestFilter$FilterProxy.doFilter(AllRequestFilter.java:135)\n\tat com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82)\n\tat com.google.gerrit.httpd.RequestContextFilter.doFilter(RequestContextFilter.java:72)\n\tat com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82)\n\tat com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120)\n\tat com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:135)\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1759)\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:582)\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:224)\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1180)\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:512)\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1112)\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\n\tat org.eclipse.jetty.server.Server.handle(Server.java:534)\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:320)\n\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:251)\n\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:283)\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:108)\n\tat org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:93)\n\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.executeProduceConsume(ExecuteProduceConsume.java:303)\n\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:148)\n\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:136)\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:671)\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:589)\n\tat java.lang.Thread.run(Thread.java:745)\nCaused by: java.util.concurrent.ExecutionException: java.lang.NullPointerException\n\tat com.google.common.util.concurrent.AbstractFuture.getDoneValue(AbstractFuture.java:502)\n\tat com.google.common.util.concurrent.AbstractFuture.get(AbstractFuture.java:461)\n\tat com.google.common.util.concurrent.AbstractFuture$TrustedFuture.get(AbstractFuture.java:78)\n\tat com.google.gerrit.server.update.ReviewDbBatchUpdate.executeChangeOps(ReviewDbBatchUpdate.java:479)\n\t... 56 more\nCaused by: java.lang.NullPointerException\n\tat com.google.gerrit.server.change.SetPrivateOp.addMessage(SetPrivateOp.java:66)\n\tat com.google.gerrit.server.change.SetPrivateOp.updateChange(SetPrivateOp.java:58)\n\tat com.google.gerrit.server.update.ReviewDbBatchUpdate$ChangeTask.call(ReviewDbBatchUpdate.java:674)\n\tat com.google.gerrit.server.update.ReviewDbBatchUpdate$ChangeTask.call(ReviewDbBatchUpdate.java:638)\n\tat com.google.gerrit.server.update.ReviewDbBatchUpdate$ChangeTask.call(ReviewDbBatchUpdate.java:611)\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:111)\n\tat com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:58)\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:75)\n\tat com.google.common.util.concurrent.MoreExecutors$DirectExecutorService.execute(MoreExecutors.java:260)\n\tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:134)\n\tat com.google.common.util.concurrent.AbstractListeningExecutorService.submit(AbstractListeningExecutorService.java:66)\n\tat com.google.gerrit.server.update.ReviewDbBatchUpdate.executeChangeOps(ReviewDbBatchUpdate.java:473)\n\t... 56 more",
      "parentUuid": "66aa09d4_a92608b0",
      "range": {
        "startLine": 129,
        "startChar": 4,
        "endLine": 129,
        "endChar": 70
      },
      "revId": "364a86baface6f6e1d743c4f8ee5e4299c0c3aa8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a202116e_870aaa18",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/changes/ChangeApi.java",
        "patchSetId": 9
      },
      "lineNbr": 129,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2017-05-10T11:36:00Z",
      "side": 1,
      "message": "Should get fixed by [1]. Can you please verify?\n\n[1] https://gerrit-review.googlesource.com/106455",
      "parentUuid": "29a2991b_eb304a78",
      "range": {
        "startLine": 129,
        "startChar": 4,
        "endLine": 129,
        "endChar": 70
      },
      "revId": "364a86baface6f6e1d743c4f8ee5e4299c0c3aa8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "961bf8ac_e42a8c88",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/changes/ChangeApi.java",
        "patchSetId": 9
      },
      "lineNbr": 129,
      "author": {
        "id": 1029953
      },
      "writtenOn": "2017-05-10T11:41:26Z",
      "side": 1,
      "message": "Thanks yep I can test later (not near a pc now), but that change can be merged when ever as it looks correct :)",
      "parentUuid": "a202116e_870aaa18",
      "range": {
        "startLine": 129,
        "startChar": 4,
        "endLine": 129,
        "endChar": 70
      },
      "revId": "364a86baface6f6e1d743c4f8ee5e4299c0c3aa8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ec6ffc3_7132e9cf",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/changes/ChangeApi.java",
        "patchSetId": 9
      },
      "lineNbr": 129,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2017-05-10T11:43:27Z",
      "side": 1,
      "message": "FWIW I see the double \"unmark private\" buttons, but they still work (as does the private button) and I don\u0027t get any internal server errors.",
      "parentUuid": "961bf8ac_e42a8c88",
      "range": {
        "startLine": 129,
        "startChar": 4,
        "endLine": 129,
        "endChar": 70
      },
      "revId": "364a86baface6f6e1d743c4f8ee5e4299c0c3aa8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e8e328b7_82b3d41f",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/changes/ChangeApi.java",
        "patchSetId": 9
      },
      "lineNbr": 129,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2017-05-10T11:44:55Z",
      "side": 1,
      "message": "I believe the NPE occurs only when PolyGerrit is used, since with PolyGerrit we get null as input, while with GWT we get an empty input.",
      "parentUuid": "8ec6ffc3_7132e9cf",
      "range": {
        "startLine": 129,
        "startChar": 4,
        "endLine": 129,
        "endChar": 70
      },
      "revId": "364a86baface6f6e1d743c4f8ee5e4299c0c3aa8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "52778fc3_d058fb75",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/changes/ChangeApi.java",
        "patchSetId": 9
      },
      "lineNbr": 129,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2017-05-10T11:54:48Z",
      "side": 1,
      "message": "OK.  I realised that one of the errors was on the browser console rather than server side, so I could reproduce that and verify the fix.\n\nThe private changes implementation for polygerrit is not merged yet, so I haven\u0027t explicitly tested that.",
      "parentUuid": "e8e328b7_82b3d41f",
      "range": {
        "startLine": 129,
        "startChar": 4,
        "endLine": 129,
        "endChar": 70
      },
      "revId": "364a86baface6f6e1d743c4f8ee5e4299c0c3aa8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}