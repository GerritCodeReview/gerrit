{
  "comments": [
    {
      "key": {
        "uuid": "2469c174_a74d4a82",
        "filename": "Documentation/rest-api-config.txt",
        "patchSetId": 15
      },
      "lineNbr": 321,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2014-07-01T12:13:33Z",
      "side": 1,
      "message": "Why?",
      "range": {
        "startLine": 318,
        "startChar": 0,
        "endLine": 321,
        "endChar": 19
      },
      "revId": "37cc41a9304de0801dc7e96bacb1d068eca15dff",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e4716954_cd72e967",
        "filename": "Documentation/rest-api-config.txt",
        "patchSetId": 15
      },
      "lineNbr": 321,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-07-01T12:47:22Z",
      "side": 1,
      "message": "This is how it was implemented in the flush-caches SSH command. This change is just making the existing SSH functionality available via REST and doesn\u0027t want to change the exiting behaviour.\n\nEver since the \u0027Flush Caches\u0027 capability exists it never allowed flushing the web_sessions cache, see [1,2]. I believe this was intentional although the commit message doesn\u0027t explain the reasons. If I should guess I would say, flushing the other caches is relatively harmless, they just get populated again and nobody will be affected by this. Flushing the web_sessions cache effects every user. All web sessions are terminated and users must relogin into the web UI. I believe this is why flushing the web_sessions cache is extra protected and requires the \u0027Administrate Server\u0027 capability.\n\n[1] https://gerrit-review.googlesource.com/23841\n\n[2] https://gerrit-review.googlesource.com/#/c/23841/2/gerrit-sshd/src/main/java/com/google/gerrit/sshd/commands/FlushCaches.java",
      "parentUuid": "2469c174_a74d4a82",
      "range": {
        "startLine": 318,
        "startChar": 0,
        "endLine": 321,
        "endChar": 19
      },
      "revId": "37cc41a9304de0801dc7e96bacb1d068eca15dff",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e4716954_ad719d61",
        "filename": "Documentation/rest-api-config.txt",
        "patchSetId": 15
      },
      "lineNbr": 321,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-07-01T12:53:28Z",
      "side": 1,
      "message": "So what is then the real use case when an administrator would need to flush web_sessions cache? If it doesn\u0027t exist, what i assume from you description, then we may want to consider to remove it altogether, to make the code simpler.",
      "parentUuid": "e4716954_cd72e967",
      "range": {
        "startLine": 318,
        "startChar": 0,
        "endLine": 321,
        "endChar": 19
      },
      "revId": "37cc41a9304de0801dc7e96bacb1d068eca15dff",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e4716954_6d6415a0",
        "filename": "Documentation/rest-api-config.txt",
        "patchSetId": 15
      },
      "lineNbr": 321,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-07-01T13:00:07Z",
      "side": 1,
      "message": "\u003e So what is then the real use case when an administrator\n \u003e would need to flush web_sessions cache?\n\nDon\u0027t know, maybe it could be inconsistent due to a bug and then you really want to flush it?\n\n \u003e If it doesn\u0027t exist, what i assume from you description, \n \u003e then we may want to consider to remove it altogether, to \n \u003e make the code simpler.\n\nCould be done in an own change. But I\u0027m not worrying too much about this special case. Removing one if-case wouldn\u0027t make the code much simpler.",
      "parentUuid": "e4716954_ad719d61",
      "range": {
        "startLine": 318,
        "startChar": 0,
        "endLine": 321,
        "endChar": 19
      },
      "revId": "37cc41a9304de0801dc7e96bacb1d068eca15dff",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}