{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "54c1f0c8_975526c7",
        "filename": "polygerrit-ui/app/elements/shared/gr-formatted-text/gr-formatted-text.ts",
        "patchSetId": 3
      },
      "lineNbr": 35,
      "author": {
        "id": 1119195
      },
      "writtenOn": "2021-08-20T19:57:05Z",
      "side": 1,
      "message": "This lets typescript knows what fields will be set based on the block type. This means we only need to narrow on .type instead of handling all the possibly undefined field cases that are actually not possible.\n\n```\nif (block.type \u003d\u003d\u003d \u0027list\u0027) {\n  block.items; // known to exist\n  block.blocks; // Error, known to not exist\n}\n```",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 35,
        "endChar": 15
      },
      "revId": "38cde7652c2c1108e1201c9079575cd3043e6566",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7a1b149a_21193eb5",
        "filename": "polygerrit-ui/app/elements/shared/gr-formatted-text/gr-formatted-text.ts",
        "patchSetId": 3
      },
      "lineNbr": 35,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2021-08-20T22:20:24Z",
      "side": 1,
      "message": "Oh nice!",
      "parentUuid": "54c1f0c8_975526c7",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 35,
        "endChar": 15
      },
      "revId": "38cde7652c2c1108e1201c9079575cd3043e6566",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d08553fc_470c1065",
        "filename": "polygerrit-ui/app/elements/shared/gr-formatted-text/gr-formatted-text.ts",
        "patchSetId": 3
      },
      "lineNbr": 108,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2021-08-20T22:20:24Z",
      "side": 1,
      "message": "Why the leading and trailing whitespace?",
      "revId": "38cde7652c2c1108e1201c9079575cd3043e6566",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bbbe69b2_2d2a7675",
        "filename": "polygerrit-ui/app/elements/shared/gr-formatted-text/gr-formatted-text.ts",
        "patchSetId": 3
      },
      "lineNbr": 108,
      "author": {
        "id": 1119195
      },
      "writtenOn": "2021-08-25T14:44:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d08553fc_470c1065",
      "revId": "38cde7652c2c1108e1201c9079575cd3043e6566",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "da99e209_bb18c091",
        "filename": "polygerrit-ui/app/elements/shared/gr-formatted-text/gr-formatted-text.ts",
        "patchSetId": 3
      },
      "lineNbr": 131,
      "author": {
        "id": 1119195
      },
      "writtenOn": "2021-08-20T19:57:05Z",
      "side": 1,
      "message": "this is still public with _ prefix because it\u0027s used for all the tests",
      "range": {
        "startLine": 131,
        "startChar": 2,
        "endLine": 131,
        "endChar": 16
      },
      "revId": "38cde7652c2c1108e1201c9079575cd3043e6566",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d6aa2ae5_992df845",
        "filename": "polygerrit-ui/app/elements/shared/gr-formatted-text/gr-formatted-text.ts",
        "patchSetId": 3
      },
      "lineNbr": 141,
      "author": {
        "id": 1119195
      },
      "writtenOn": "2021-08-20T19:57:05Z",
      "side": 1,
      "message": "For some reason the nextI logic in all these cases was very confusing for me, I hope this extracted method helps even though it\u0027s not functionally very different from the previous.",
      "range": {
        "startLine": 141,
        "startChar": 0,
        "endLine": 141,
        "endChar": 56
      },
      "revId": "38cde7652c2c1108e1201c9079575cd3043e6566",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a2ca086c_05c51638",
        "filename": "polygerrit-ui/app/elements/shared/gr-formatted-text/gr-formatted-text.ts",
        "patchSetId": 3
      },
      "lineNbr": 212,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2021-08-20T22:20:24Z",
      "side": 1,
      "message": "Consider using:\n\n  const index \u003d lines.slice(startIndex).findIndex(line \u003d\u003e !predicate(line));\n  return index \u003d\u003d\u003d -1 ? -1 : index + startIndex;",
      "revId": "38cde7652c2c1108e1201c9079575cd3043e6566",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "449f6665_6865060e",
        "filename": "polygerrit-ui/app/elements/shared/gr-formatted-text/gr-formatted-text.ts",
        "patchSetId": 3
      },
      "lineNbr": 212,
      "author": {
        "id": 1119195
      },
      "writtenOn": "2021-08-25T14:44:12Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "a2ca086c_05c51638",
      "revId": "38cde7652c2c1108e1201c9079575cd3043e6566",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aa4db8fe_a5b2ba46",
        "filename": "polygerrit-ui/app/elements/shared/gr-formatted-text/gr-formatted-text.ts",
        "patchSetId": 3
      },
      "lineNbr": 219,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2021-08-20T22:20:24Z",
      "side": 1,
      "message": "Have you considered seeing whether the index \u003c lines.length?",
      "revId": "38cde7652c2c1108e1201c9079575cd3043e6566",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "055350a9_313a94c1",
        "filename": "polygerrit-ui/app/elements/shared/gr-formatted-text/gr-formatted-text.ts",
        "patchSetId": 3
      },
      "lineNbr": 219,
      "author": {
        "id": 1119195
      },
      "writtenOn": "2021-08-25T14:44:12Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "aa4db8fe_a5b2ba46",
      "revId": "38cde7652c2c1108e1201c9079575cd3043e6566",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "296cc34f_eba3780b",
        "filename": "polygerrit-ui/app/elements/shared/gr-formatted-text/gr-formatted-text.ts",
        "patchSetId": 3
      },
      "lineNbr": 223,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2021-08-20T22:20:24Z",
      "side": 1,
      "message": "Considering how the result is used, maybe consider returning index and have this method be:\n\ngetFirstNonMatchingIndex\n\nIt feels cleaner because it\u0027s easier to reason about half-open ranges.",
      "revId": "38cde7652c2c1108e1201c9079575cd3043e6566",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d56b5f2b_039ae164",
        "filename": "polygerrit-ui/app/elements/shared/gr-formatted-text/gr-formatted-text.ts",
        "patchSetId": 3
      },
      "lineNbr": 223,
      "author": {
        "id": 1119195
      },
      "writtenOn": "2021-08-25T14:44:12Z",
      "side": 1,
      "message": "This is reasonable to me even though it doesn\u0027t really reduce the +1, -1 adjustments in the main logic.\nHowever if all lines match then I want to return lines.length instead of -1 since although it\u0027s not a valid index, it is a valid end of the half-open range. For this reason I\u0027m trying the name getEndOfSection. WDYT?",
      "parentUuid": "296cc34f_eba3780b",
      "revId": "38cde7652c2c1108e1201c9079575cd3043e6566",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dfd8fda2_9f15411e",
        "filename": "polygerrit-ui/app/elements/shared/gr-formatted-text/gr-formatted-text.ts",
        "patchSetId": 3
      },
      "lineNbr": 223,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2021-08-26T19:50:00Z",
      "side": 1,
      "message": "SGTM",
      "parentUuid": "d56b5f2b_039ae164",
      "revId": "38cde7652c2c1108e1201c9079575cd3043e6566",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "30bff2b9_3b2635a1",
        "filename": "polygerrit-ui/app/elements/shared/gr-formatted-text/gr-formatted-text_test.ts",
        "patchSetId": 3
      },
      "lineNbr": 33,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2021-08-20T22:20:24Z",
      "side": 1,
      "message": "assertTextBlock?",
      "revId": "38cde7652c2c1108e1201c9079575cd3043e6566",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0658ab18_d550087f",
        "filename": "polygerrit-ui/app/elements/shared/gr-formatted-text/gr-formatted-text_test.ts",
        "patchSetId": 3
      },
      "lineNbr": 33,
      "author": {
        "id": 1119195
      },
      "writtenOn": "2021-08-25T14:44:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "30bff2b9_3b2635a1",
      "revId": "38cde7652c2c1108e1201c9079575cd3043e6566",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cbb95e79_73f11498",
        "filename": "polygerrit-ui/app/elements/shared/gr-formatted-text/gr-formatted-text_test.ts",
        "patchSetId": 3
      },
      "lineNbr": 39,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2021-08-20T22:20:24Z",
      "side": 1,
      "message": "assertListBlock?",
      "revId": "38cde7652c2c1108e1201c9079575cd3043e6566",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4e3a24c1_0a0402f3",
        "filename": "polygerrit-ui/app/elements/shared/gr-formatted-text/gr-formatted-text_test.ts",
        "patchSetId": 3
      },
      "lineNbr": 39,
      "author": {
        "id": 1119195
      },
      "writtenOn": "2021-08-25T14:44:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cbb95e79_73f11498",
      "revId": "38cde7652c2c1108e1201c9079575cd3043e6566",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}