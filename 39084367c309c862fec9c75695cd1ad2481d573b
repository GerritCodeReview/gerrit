{
  "comments": [
    {
      "key": {
        "uuid": "849e1f9f_6c16ef24",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ChangeControl.java",
        "patchSetId": 79
      },
      "lineNbr": 95,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2017-09-18T07:54:28Z",
      "side": 1,
      "message": "These have been removed, please don\u0027t add them again as ChangeControl will be package-private soon",
      "range": {
        "startLine": 95,
        "startChar": 4,
        "endLine": 95,
        "endChar": 10
      },
      "revId": "39084367c309c862fec9c75695cd1ad2481d573b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7d953e9_32258d81",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ChangeControl.java",
        "patchSetId": 79
      },
      "lineNbr": 190,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2017-09-18T07:54:28Z",
      "side": 1,
      "message": "This needs to be private and checked using the PermissionBackend instead",
      "range": {
        "startLine": 190,
        "startChar": 2,
        "endLine": 190,
        "endChar": 8
      },
      "revId": "39084367c309c862fec9c75695cd1ad2481d573b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fb8926bd_5055944f",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ChangeControl.java",
        "patchSetId": 79
      },
      "lineNbr": 190,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-09-18T08:12:48Z",
      "side": 1,
      "message": "The current code on master was calling isPatchVisible(ps, db). The previous 70 patch sets were replacing this invocation with isVisible(db). After rebasing, i noticed that the scope was changed form public to private for isVisisble, but, the call to isPatchVisible(ps, db), was stil keeper in place. Is there already replacement in  PermissionBackend for isVisible(db)?",
      "parentUuid": "c7d953e9_32258d81",
      "range": {
        "startLine": 190,
        "startChar": 2,
        "endLine": 190,
        "endChar": 8
      },
      "revId": "39084367c309c862fec9c75695cd1ad2481d573b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "952e6428_b0c440f1",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ChangeControl.java",
        "patchSetId": 79
      },
      "lineNbr": 190,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2017-09-18T08:15:18Z",
      "side": 1,
      "message": "Yes, there is (it is just calling isVisible through the indirection of Permission Backend): \n\n  permissionBackend.user(user).change(notes).database(db).check(ChangePermission.READ); // use check() or test() depending on intent",
      "parentUuid": "fb8926bd_5055944f",
      "range": {
        "startLine": 190,
        "startChar": 2,
        "endLine": 190,
        "endChar": 8
      },
      "revId": "39084367c309c862fec9c75695cd1ad2481d573b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "74433623_3ba1f012",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ChangeControl.java",
        "patchSetId": 79
      },
      "lineNbr": 190,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-09-18T08:22:45Z",
      "side": 1,
      "message": "Thanks, should be trivial to fix then. But, I wonder if we could somehow split this activities in multiple changes. because this one is more or less noon-reviewable already, with 2K+ change LoC? One option, that i don\u0027t really like is, to leave this change still use isPrivate(), make it public, but document in the commit message, that this is \"do-it-wrong-way\" thing and would be \"fixed\" in a follow-up change. Then we could split the activities and simplify review process.",
      "parentUuid": "952e6428_b0c440f1",
      "range": {
        "startLine": 190,
        "startChar": 2,
        "endLine": 190,
        "endChar": 8
      },
      "revId": "39084367c309c862fec9c75695cd1ad2481d573b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9a6d6009_76c9c465",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ChangeControl.java",
        "patchSetId": 79
      },
      "lineNbr": 190,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2017-09-18T13:22:00Z",
      "side": 1,
      "message": "Sure, we can do a follow-up change for that and be explicit in the commit message. Some of the permission backend refactorings are gated on the deprecation of drafts anyway, so I can\u0027t complete it all upfront.",
      "parentUuid": "74433623_3ba1f012",
      "range": {
        "startLine": 190,
        "startChar": 2,
        "endLine": 190,
        "endChar": 8
      },
      "revId": "39084367c309c862fec9c75695cd1ad2481d573b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ceb5c39a_fdb05ca6",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ChangeControl.java",
        "patchSetId": 79
      },
      "lineNbr": 203,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2017-09-18T07:54:28Z",
      "side": 1,
      "message": "This needs to be private",
      "range": {
        "startLine": 203,
        "startChar": 2,
        "endLine": 203,
        "endChar": 8
      },
      "revId": "39084367c309c862fec9c75695cd1ad2481d573b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0b10a6c2_38e971c9",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ChangeControl.java",
        "patchSetId": 79
      },
      "lineNbr": 226,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2017-09-18T07:54:28Z",
      "side": 1,
      "message": "This needs to be private and checked through PermissionBackend instead",
      "range": {
        "startLine": 226,
        "startChar": 2,
        "endLine": 226,
        "endChar": 8
      },
      "revId": "39084367c309c862fec9c75695cd1ad2481d573b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}