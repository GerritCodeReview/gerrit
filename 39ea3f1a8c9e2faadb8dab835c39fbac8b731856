{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "17572c5f_836094e7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1083042
      },
      "writtenOn": "2021-09-30T12:35:06Z",
      "side": 1,
      "message": "Didn\u0027t we first want to check if we the accounts cache is simply disabled/set to zero and we can enable it?",
      "revId": "39ea3f1a8c9e2faadb8dab835c39fbac8b731856",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e81578b3_71b06730",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1118500
      },
      "writtenOn": "2021-09-30T12:48:14Z",
      "side": 1,
      "message": "Even if it is the case, the AccountCache still fetches from All-Users on each request, for default preferences and per-user ref tip [1].\n\nI would like to have this option, to compare to be able to compare the results of different configuration runs. I want to add this first to finally have a dry run result on the stuck hosts and see if there are other blockers.\n\nhttps://gerrit.googlesource.com/gerrit/+/refs/heads/master/java/com/google/gerrit/server/account/AccountCacheImpl.java#111",
      "parentUuid": "17572c5f_836094e7",
      "revId": "39ea3f1a8c9e2faadb8dab835c39fbac8b731856",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "409d597e_515be734",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1083042
      },
      "writtenOn": "2021-10-01T07:06:03Z",
      "side": 1,
      "message": "I don\u0027t think reading All-Users takes very long, because the Wipeout Flume does this too and it finishes in ~1h very consistently. I\u0027m a bit concerned that this change is complex and it wouldn\u0027t be needed if either the cache works effectively or you prefetch all users.\n\nWouldn\u0027t it be just a few lines to enable the cache?",
      "parentUuid": "e81578b3_71b06730",
      "revId": "39ea3f1a8c9e2faadb8dab835c39fbac8b731856",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ef8ca576_031055e5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1118500
      },
      "writtenOn": "2021-10-01T09:01:58Z",
      "side": 1,
      "message": "I think the difference is that the Wipeout Flume is doing it once, on sturtup. Here it would happen on each request to account\u0027s cache, which is multiple times per change, per project. That is why my next step is side-loading accounts instead of using accounts cache.",
      "parentUuid": "409d597e_515be734",
      "revId": "39ea3f1a8c9e2faadb8dab835c39fbac8b731856",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fd84a5e3_74b55b08",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1118500
      },
      "writtenOn": "2021-10-01T09:04:40Z",
      "side": 1,
      "message": "Just to be clear: I am not opposed to the idea to enable the cache. I just don\u0027t think it will add much of improvement.\n\nIs the a reason why I can\u0027t both have this option and enable cache to compare the results?",
      "parentUuid": "ef8ca576_031055e5",
      "revId": "39ea3f1a8c9e2faadb8dab835c39fbac8b731856",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3fb6f1f5_4b133bca",
        "filename": "java/com/google/gerrit/server/notedb/CommitRewriter.java",
        "patchSetId": 3
      },
      "lineNbr": 632,
      "author": {
        "id": 1083042
      },
      "writtenOn": "2021-10-01T07:06:03Z",
      "side": 1,
      "message": "I\u0027m not sure if \"Removed A by B\" is correct, but \"A removed by B\" is.",
      "revId": "39ea3f1a8c9e2faadb8dab835c39fbac8b731856",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d19b3ad1_af81adb1",
        "filename": "java/com/google/gerrit/server/notedb/CommitRewriter.java",
        "patchSetId": 3
      },
      "lineNbr": 632,
      "author": {
        "id": 1118500
      },
      "writtenOn": "2021-10-01T09:01:58Z",
      "side": 1,
      "message": "I would prefer to keep messages close to the originals.\n\nThey have formats:\nRemoved Verified-1 by User Account\n\nThis will either replace with\n\nRemoved Verified-1 by \u003cGERRIT_ACCOUNT_2\u003e\nor\nRemoved Verified-1\n\nSee the tests.",
      "parentUuid": "3fb6f1f5_4b133bca",
      "revId": "39ea3f1a8c9e2faadb8dab835c39fbac8b731856",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}