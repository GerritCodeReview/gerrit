{
  "comments": [
    {
      "key": {
        "uuid": "f654d1b2_a3c21a09",
        "filename": "/COMMIT_MSG",
        "patchSetId": 34
      },
      "lineNbr": 32,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-02-13T14:09:15Z",
      "side": 1,
      "message": "Is this correct? Follow-up change introduced switching of SecureStore implementation. There are number of steps that must be accomplished in order to switch to different secure store implementation. This section implies that secure store switch can be already done with this change, by running re-init with different secure-store-lib parameters, so that new SwitchSecureStore pgm isn\u0027t needed?\n\n  java -jar gerrit.war SwitchSecureStore --new-secure-store-lib $path -d\n$site",
      "range": {
        "startLine": 30,
        "startChar": 22,
        "endLine": 32,
        "endChar": 38
      },
      "revId": "3d4b1228c2ee72f6ee7d6aaeb57fec2e14cd42eb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d6dfcd7d_829fba3b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 34
      },
      "lineNbr": 32,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2015-02-13T14:17:36Z",
      "side": 1,
      "message": "I am not absolutely sure if this is correct but it at least tries to address the question on using the --secure-store-lib option on an existing site which already has a custom secure store defined. This is NOT a fully implemented switching as any existing \"old\" secure store will be simply ignored.\n\nAnyway, this may not be the best decision. However, we must do something in this case:\n* do what I implemented in this PS\n* write an error and fail the init\n\nI am also OK with the second option.",
      "parentUuid": "f654d1b2_a3c21a09",
      "range": {
        "startLine": 30,
        "startChar": 22,
        "endLine": 32,
        "endChar": 38
      },
      "revId": "3d4b1228c2ee72f6ee7d6aaeb57fec2e14cd42eb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d6dfcd7d_a27e3e47",
        "filename": "/COMMIT_MSG",
        "patchSetId": 34
      },
      "lineNbr": 32,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-02-13T14:34:25Z",
      "side": 1,
      "message": "I agree that when --secure-store-lib option wasn\u0027t provided during re-init step for a secure-store aware site, that then the existing secure-store-lib from gerrit config is used.\n\nHowever, in case when different --secure-store-lib option is provided (the use case that secure-store-switch is care about), we should fail and dump the secure-store-lib name that is currently used and reference gerrit administrator to SwitchSecureStore pgm, when that\u0027s really what she meant to do.",
      "parentUuid": "d6dfcd7d_829fba3b",
      "range": {
        "startLine": 30,
        "startChar": 22,
        "endLine": 32,
        "endChar": 38
      },
      "revId": "3d4b1228c2ee72f6ee7d6aaeb57fec2e14cd42eb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d6dfcd7d_426e5299",
        "filename": "/COMMIT_MSG",
        "patchSetId": 34
      },
      "lineNbr": 32,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2015-02-13T15:03:51Z",
      "side": 1,
      "message": "I agree to fail. However, at this step we cannot yet write, in the error message, to use the SwitchSecureStore program as, at this stage, it doesn\u0027t exist yet.",
      "parentUuid": "d6dfcd7d_a27e3e47",
      "range": {
        "startLine": 30,
        "startChar": 22,
        "endLine": 32,
        "endChar": 38
      },
      "revId": "3d4b1228c2ee72f6ee7d6aaeb57fec2e14cd42eb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f654d1b2_e3e1f2a4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 34
      },
      "lineNbr": 32,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2015-02-13T15:05:26Z",
      "side": 1,
      "message": "For now we can just fail with message that different secure store was previously configured.",
      "parentUuid": "d6dfcd7d_426e5299",
      "range": {
        "startLine": 30,
        "startChar": 22,
        "endLine": 32,
        "endChar": 38
      },
      "revId": "3d4b1228c2ee72f6ee7d6aaeb57fec2e14cd42eb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f654d1b2_83d6fec3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 34
      },
      "lineNbr": 32,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2015-02-13T15:10:31Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "f654d1b2_e3e1f2a4",
      "range": {
        "startLine": 30,
        "startChar": 22,
        "endLine": 32,
        "endChar": 38
      },
      "revId": "3d4b1228c2ee72f6ee7d6aaeb57fec2e14cd42eb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f654d1b2_83bd9e95",
        "filename": "gerrit-pgm/src/main/java/com/google/gerrit/pgm/init/BaseInit.java",
        "patchSetId": 34
      },
      "lineNbr": 229,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-02-13T14:09:15Z",
      "side": 1,
      "message": "Move this binding to other on line 239. This way we have all binding sin one place.",
      "range": {
        "startLine": 228,
        "startChar": 8,
        "endLine": 229,
        "endChar": 47
      },
      "revId": "3d4b1228c2ee72f6ee7d6aaeb57fec2e14cd42eb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d6dfcd7d_629c3647",
        "filename": "gerrit-pgm/src/main/java/com/google/gerrit/pgm/init/BaseInit.java",
        "patchSetId": 34
      },
      "lineNbr": 229,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2015-02-13T14:17:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f654d1b2_83bd9e95",
      "range": {
        "startLine": 228,
        "startChar": 8,
        "endLine": 229,
        "endChar": 47
      },
      "revId": "3d4b1228c2ee72f6ee7d6aaeb57fec2e14cd42eb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}