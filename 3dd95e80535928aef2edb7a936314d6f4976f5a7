{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "edb2ba6d_00f1d4ad",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2023-10-23T07:15:37Z",
      "side": 1,
      "message": "Why?",
      "revId": "3dd95e80535928aef2edb7a936314d6f4976f5a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8fe5465d_81eb0cae",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-10-26T23:07:07Z",
      "side": 1,
      "message": "The CI images have been upgraded to Debian/Bullseye. RBE is still behind though :-( that\u0027s a Google hosted Bazel executor service.",
      "parentUuid": "edb2ba6d_00f1d4ad",
      "revId": "3dd95e80535928aef2edb7a936314d6f4976f5a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c38f138c_b6c55131",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2023-10-27T10:03:50Z",
      "side": 1,
      "message": "Answering myself: We need node 18 for being able to upgrade our typescript dep to something \u003e\u003d5.",
      "parentUuid": "8fe5465d_81eb0cae",
      "revId": "3dd95e80535928aef2edb7a936314d6f4976f5a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3f25f34e_9e83dabe",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1170270
      },
      "writtenOn": "2023-11-13T18:14:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c38f138c_b6c55131",
      "revId": "3dd95e80535928aef2edb7a936314d6f4976f5a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9efa6835_d2ef1aa8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2023-11-13T19:22:54Z",
      "side": 1,
      "message": "\u003e The CI images have been upgraded to Debian/Bullseye. RBE is still behind though :-(\n\nI have created already custom RBE docker image for Gerrit project, for Git protocol v2 tests in this CL: [1].\n\nI\u0027ve created issue 310680007 \"Update RBE docker image\", and started to work on it.\n\n[1]: https://gerrit-review.googlesource.com/c/gerrit/+/264178",
      "parentUuid": "3f25f34e_9e83dabe",
      "revId": "3dd95e80535928aef2edb7a936314d6f4976f5a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "78c1ea80_93e8b920",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2023-10-23T07:15:37Z",
      "side": 1,
      "message": "CI is failing.",
      "revId": "3dd95e80535928aef2edb7a936314d6f4976f5a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a7d1cf88_c369eed0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-10-26T23:07:07Z",
      "side": 1,
      "message": "The CI images have been upgraded to Debian/Bullseye. RBE is still behind though :-( that\u0027s a Google hosted Bazel executor service.",
      "parentUuid": "78c1ea80_93e8b920",
      "revId": "3dd95e80535928aef2edb7a936314d6f4976f5a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "71a6b7f3_64e03a3c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-10-26T23:07:07Z",
      "side": 1,
      "message": "I am trying to disable the PolyGerrit validations / builds on RBE, so that this test can pass.\n\nRBE is behind :-(",
      "revId": "3dd95e80535928aef2edb7a936314d6f4976f5a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "51f94b07_8ed23bf7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2023-10-27T10:03:50Z",
      "side": 1,
      "message": "I have asked Milutin to update RBE.",
      "parentUuid": "a7d1cf88_c369eed0",
      "revId": "3dd95e80535928aef2edb7a936314d6f4976f5a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c6fc91e8_ed7e3dde",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1085182
      },
      "writtenOn": "2023-10-27T10:38:22Z",
      "side": 1,
      "message": "@Luca how do you update RBE? Can you give me example?",
      "parentUuid": "51f94b07_8ed23bf7",
      "revId": "3dd95e80535928aef2edb7a936314d6f4976f5a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ea9e296_7086dda9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-10-27T10:54:52Z",
      "side": 1,
      "message": "\u003e @Luca how do you update RBE? Can you give me example?\n\nI do not have access to Google\u0027s RBE, that was provided by Han-Wen and is a Google Cloud service for Bazel Remote Build Execution.\n\nIt is hosted and managed by Google :-(\n\nIs anyone taking over from Han-Wen?",
      "parentUuid": "c6fc91e8_ed7e3dde",
      "revId": "3dd95e80535928aef2edb7a936314d6f4976f5a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "76ee8e80_276fcfed",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-10-27T16:58:20Z",
      "side": 1,
      "message": "Even disabling the build on RBE would still break the backend tests. That is strange though because it doesn\u0027t make sense for the backend tests to depend from the frontend Node version.\n\nLet me dig deeper if there is a bug somewhere in our BUILD files, but I\u0027m not a Bazel expert here :-(\n\nIn the meantime, if some Googler can look at the Google Cloud RBE config if they can change the distribution to Bullseye, that would be awesome !\n(I do not have permissions to access the Google-owned RBE settings)",
      "revId": "3dd95e80535928aef2edb7a936314d6f4976f5a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d4596483_75362856",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-10-27T17:37:01Z",
      "side": 1,
      "message": "It looks like it would have worked also with Debian:buster image from our CI, the issue is really RBE then.\n\nIf I disable completely RBE, the builds will jump to 1h each :-(\n@milutin@google.com can help with this? Do you have access permissions to RBE?",
      "parentUuid": "5ea9e296_7086dda9",
      "revId": "3dd95e80535928aef2edb7a936314d6f4976f5a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b180dcb1_df2ff412",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1085182
      },
      "writtenOn": "2023-11-02T09:06:18Z",
      "side": 1,
      "message": "Sorry for late reply, I was on vacation.\n\nI haven\u0027t been able to find access to RBE. I asked in out team chat and nobody have any context into this. So I don\u0027t have any timeframe when this can be resolved. We might to disable RBE for now if it is your blocker.",
      "parentUuid": "d4596483_75362856",
      "revId": "3dd95e80535928aef2edb7a936314d6f4976f5a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2ac1b481_631f8df0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1029953
      },
      "writtenOn": "2023-11-13T17:09:48Z",
      "side": 1,
      "message": "@luca.milanesio@gmail.com ^, i guess we should disable it for now?",
      "parentUuid": "b180dcb1_df2ff412",
      "revId": "3dd95e80535928aef2edb7a936314d6f4976f5a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "60de8d7c_c0b8fbe2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-11-13T17:25:18Z",
      "side": 1,
      "message": "\u003e @luca.milanesio@gmail.com ^, i guess we should disable it for now?\n\nWe could, but is everyone happy to have a CI validation that takes 1h? (this is how much it did take before moving to RBE)\n\nI am also exploring the BuildBuddy option (see https://www.buildbuddy.io/) which would allow to have our on-prem instance to be used as RBE. I did a quick test yesterday and the build (with tests) took just 7 mins, vs. 13 mins of Google\u0027s current RBE. That would also allow me to upgrade the Docker image used for the builds and therefore be compatible with the new Node version.\n\nI\u0027ve asked @alvaro.vilaplana@gmail.com to look into it, but also @david.ostrovsky@gmail.com \u0027s help would be appreciated.",
      "parentUuid": "2ac1b481_631f8df0",
      "revId": "3dd95e80535928aef2edb7a936314d6f4976f5a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dd7d0ff9_9847b804",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2023-11-13T17:47:02Z",
      "side": 1,
      "message": "Before even looking into fixing the RBE, we could exclude PolyGerrit related build from RBE e.g. bazel build :headless.\n\nI will look into it, though.",
      "parentUuid": "60de8d7c_c0b8fbe2",
      "revId": "3dd95e80535928aef2edb7a936314d6f4976f5a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "46a5f46a_27fd346c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1170270
      },
      "writtenOn": "2023-11-13T18:14:15Z",
      "side": 1,
      "message": "https://gerrit-review.googlesource.com/c/gerrit/+/390494",
      "revId": "3dd95e80535928aef2edb7a936314d6f4976f5a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "de67eb70_5b6ff8e9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2023-11-13T21:31:42Z",
      "side": 1,
      "message": "\u003e I will look into it, though.\n\nDone in change 392679.\n\n\u003e @Luca how do you update RBE? Can you give me example?\n\nWe can have a call, so that I can demonstrate how to update RBE docker image and generate `rbe_configuration` and upload it to Google storage bucket and update the reference in `WORKSPACE` file. See also the issue 310680007 that linked to my change. I put all the required information there.",
      "parentUuid": "dd7d0ff9_9847b804",
      "revId": "3dd95e80535928aef2edb7a936314d6f4976f5a7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}