{
  "pushCert": "certificate version 0.1\npusher A0D0EF51 1449243652 +0100\nnonce AFd3BxtY52HQds2AIegITkCjNBoHKKBl27OqHqTMloEyTYWFHnUnweEE/gOCdqVQcOxLlFUhYQND\n\n0000000000000000000000000000000000000000 5d10baa4f0673b81aa0f86113edde7c0adf32c5b refs/for/master\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQEcBAABAgAGBQJWYbQEAAoJEFG1/Zeg0O9RXEoH/0Apq2UmMf5LG6nyR29sqTxn\nAKUo69mQrhvG6bbn2Bz7jFC3nJJaxixBRNeh7TcLcvm9+o/ZyOpTXNlBjT0KW2fo\nPvJUGrA5ynYQ+vgpZ+gBpQ4DkRE7GmrDhnW1E1DKslvFxc9T3CWEcvXBzSHCIy7+\nENNg3vqUzRU0Up0poZO01WJ4AfMWRIsEIl7dL8tfF9BqyWW2Qkn7pxbmTKL+XAIo\nFK0lvowhk/2QDOD8LtQLFan/dLw29N5mw+iP44JnMHicv3cKng5ohWzEvEJt0s7f\nujOmdBiZ0MNkQd6e5xi5nMMOS70zLypV2z+EETqdoeIx/Z4AMGHi+ZZbMVBLp+E\u003d\n\u003dCw7M\n-----END PGP SIGNATURE-----\n",
  "comments": [
    {
      "key": {
        "uuid": "403fb8e8_5dacfbb1",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/StarredChangesCacheImpl.java",
        "patchSetId": 6
      },
      "lineNbr": 108,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-12-04T15:43:15Z",
      "side": 1,
      "message": "Copy of Dave\u0027s comment from patch set 4:\n\"This doesn\u0027t work though: writes to the in-memory HashMultimapPair aren\u0027t written through to the persistent cache.\"\n\nI still need to address this.",
      "range": {
        "startLine": 107,
        "startChar": 2,
        "endLine": 108,
        "endChar": 53
      },
      "revId": "3df9cb13105d090d1bf479decbf95a0fc844ee89",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c0cf2871_01cf8a7f",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/StarredChangesCacheImpl.java",
        "patchSetId": 6
      },
      "lineNbr": 108,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-12-07T11:24:38Z",
      "side": 1,
      "message": "As suggested by Dave before (see patch set 4), this is now only an in-memory cache that is lazily initialized (no persistent Guava cache anymore).\n\nDone",
      "parentUuid": "403fb8e8_5dacfbb1",
      "range": {
        "startLine": 107,
        "startChar": 2,
        "endLine": 108,
        "endChar": 53
      },
      "revId": "3df9cb13105d090d1bf479decbf95a0fc844ee89",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "403fb8e8_bdb09f02",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/StarredChangesCacheImpl.java",
        "patchSetId": 6
      },
      "lineNbr": 113,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-12-04T15:47:49Z",
      "side": 1,
      "message": "I\u0027m not convinced, that all these levels of indirections in injector injections only for that exotic case, that plugin is loaded during Gerrit start up time that expose own StarredChangesCache implementation?",
      "range": {
        "startLine": 64,
        "startChar": 2,
        "endLine": 113,
        "endChar": 3
      },
      "revId": "3df9cb13105d090d1bf479decbf95a0fc844ee89",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c033a81e_c1b02204",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/StarredChangesCacheImpl.java",
        "patchSetId": 6
      },
      "lineNbr": 113,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-12-04T16:01:47Z",
      "side": 1,
      "message": "The initialization of the StarredChangesCacheImpl class would already create the cache in the file system. Once it is initialized there is a danger that the cache is also loaded (normally the plugin implementation would load before the cache is used, but who knows). Loading the cache when it is not used would be bad, because it means scanning all refs/starred-changes/ refs and loading this info into memory. As said in the commit message, one reason for a plugin to implement such a cache would be to avoid having this info in memory and it would defeat the purpose of the plugin cache if it\u0027s anyway loaded into memory.\n\nBut let\u0027s see. To address the other comment, I may abandon the idea of having this as Guava cache and then the code above should get cleaner.",
      "parentUuid": "403fb8e8_bdb09f02",
      "range": {
        "startLine": 64,
        "startChar": 2,
        "endLine": 113,
        "endChar": 3
      },
      "revId": "3df9cb13105d090d1bf479decbf95a0fc844ee89",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c033a81e_e1b726f6",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/StarredChangesCacheImpl.java",
        "patchSetId": 6
      },
      "lineNbr": 113,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-12-04T16:45:16Z",
      "side": 1,
      "message": "Thanks. I somehow missed one important difference between websession cache and starred changes cache. While former is pure database backed, the later is scanning Git repository and thus needs more resources and time for initialization.",
      "parentUuid": "c033a81e_c1b02204",
      "range": {
        "startLine": 64,
        "startChar": 2,
        "endLine": 113,
        "endChar": 3
      },
      "revId": "3df9cb13105d090d1bf479decbf95a0fc844ee89",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}