{
  "pushCert": "certificate version 0.1\npusher A0D0EF51 1531907723 +0200\nnonce APISObRvT2cN2PYR9DDZVQNpNQ71P8YG0fPyM4oPnsI+hlRVLuZfzgkDf8E/JiEzwR3JYkVC0QVP\n\n0000000000000000000000000000000000000000 a9843595c8ad524aa4476a39d21841895d116e3a refs/for/master\n-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCgAdFiEEjcOJ9ZBmQPrFqZA3UbX9l6DQ71EFAltPDosACgkQUbX9l6DQ\n71FJMwf9Hh4Xf5eXstw/z7eMwNEvaMtEXACsnFC/pzgIBHQ12FTkob4Ml23dKraJ\n8IubWT919TdBsznj8IwecX/m5gxYJHVhr6XbuOfGEZXfG3S6py4U2CfaXro1Yz5h\n8lWm8Yp+pDaL3kQHuJHsIu95QbyuS2tIonawjRTwpVSPP9U3gC2Jch1NcYsPcXDs\nK7mVSyg2pW5ekY/jLXuDOig4zygyn4Dj1+B/XBSU/CjEqDd9FUmLfdH0pcvWdBze\namXq+vUGYU5lMUhFq+E4iqTjuDjpk8wqSTYF2HJPrSCQtoq/VFeuzY+DxlmPmOWK\nt0CtKXEVaegxvL5C4L27ipOczMqb+g\u003d\u003d\n\u003dxCU7\n-----END PGP SIGNATURE-----\n",
  "comments": [
    {
      "key": {
        "uuid": "447d967f_9361c137",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2018-07-18T14:29:46Z",
      "side": 1,
      "message": "Maybe your answer to my question on the previous change will make this clearer, but I am having a hard time imagining *any* use case for this. What would \"DELETE /changes/\" or \"DELETE /projects/\" even mean? Delete all the data on the server?",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 37
      },
      "revId": "4093d3e4189b400c1fe5fbeb4c73f12c626038f6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "721ccecd_bf72ce30",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2018-07-18T14:53:54Z",
      "side": 1,
      "message": "I don\u0027t have any use-case for this, but when I was looking at this I was pretty confused that DELETE on a child collection works, but DELETE on a root collection is not supported. Since this is like 6 lines of extra code, I thought it\u0027s better to make this work and have all code for DELETE and CREATE on collections consistent.",
      "parentUuid": "447d967f_9361c137",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 37
      },
      "revId": "4093d3e4189b400c1fe5fbeb4c73f12c626038f6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "35f51d3f_6566b146",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2018-07-18T22:49:06Z",
      "side": 1,
      "message": "Even given that I now agree with the preceding change, I\u0027m not convinced here. \"Delete all entities of type X on the server\" just really doesn\u0027t sound like something we would want to support.\n\nWhat place in the code were you looking at when you became confused? Would it help if instead we added a comment at that place? If the choice is between adding a comment and adding code that is only ever exercised in tests, I would prefer the comment.",
      "parentUuid": "721ccecd_bf72ce30",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 37
      },
      "revId": "4093d3e4189b400c1fe5fbeb4c73f12c626038f6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7090afb4_b86962ec",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2018-07-19T07:13:51Z",
      "side": 1,
      "message": "\u003e What place in the code were you looking at when you became confused? \n\nI thought to support DELETE on a REST collection all what was needed is to make the REST collection implement AcceptsDelete, but this only worked if the REST collection was not a root collection. This is why in [1] I changed the JavaDoc of AcceptsDelete to mention this fact (and clarify other confusion).\n\nSince AcceptsDelete is gone now, you can have the same confusion by adding something like\n\n  deleteOnCollection(PROJECT_KIND).to(Foo.class)\n\nin your REST API module class and then be confused why this doesn\u0027t work while\n\n  deleteOnCollection(BRANCH_KIND).to(Bar.class)\n\njust works.\n\n\u003e  If the choice is between adding a comment and adding code that is\n\u003e only ever exercised in tests, I would prefer the comment.\n\nAgreed. Having comments in the right places will likely be as good (not sure if you see those comments when you look at your code in the REST API module).\n\nIt\u0027s already mentioned in the class JavaDoc of RestCollectionView (soon RestCollectionModifyView), but I think we should also add a comment in RestApiServlet and on RestApiModule#deleteOnCollection. Will push a new change for this.\n\n\u003e \"Delete all entities of type X on the server\" just really doesn\u0027t\n\u003e sound like something we would want to support.\n\nI agree it\u0027s unlikely, maybe\n\n  DELETE /plugins/\n\nwould make sense to disable all plugins (\u0027DELETE /plugins/\u003cplugin-id\u003e\u0027 disables one plugin). E.g. if you have an issue and want to see if it\u0027s caused by a plugin, you could temporarily want to disable all plugins.\n\n[1] https://gerrit-review.googlesource.com/c/gerrit/+/187252",
      "parentUuid": "35f51d3f_6566b146",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 37
      },
      "revId": "4093d3e4189b400c1fe5fbeb4c73f12c626038f6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fc79c30b_5b29a7d6",
        "filename": "javatests/com/google/gerrit/acceptance/rest/DeleteOnCollectionIT.java",
        "patchSetId": 3
      },
      "lineNbr": 40,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2018-07-18T14:29:46Z",
      "side": 1,
      "message": "Lambda?",
      "revId": "4093d3e4189b400c1fe5fbeb4c73f12c626038f6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7bafc095_1ce8b71c",
        "filename": "javatests/com/google/gerrit/acceptance/rest/DeleteOnCollectionIT.java",
        "patchSetId": 3
      },
      "lineNbr": 40,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2018-07-18T15:30:43Z",
      "side": 1,
      "message": "same as on the predecessor change: this does\u0027t seem to work as a lambda,\nsee https://gerrit-review.googlesource.com/c/gerrit/+/189531/3/javatests/com/google/gerrit/acceptance/rest/DeleteOnCollectionIT.java#45",
      "parentUuid": "fc79c30b_5b29a7d6",
      "revId": "4093d3e4189b400c1fe5fbeb4c73f12c626038f6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}