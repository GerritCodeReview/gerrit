{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "e2c19faa_1157289c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 14
      },
      "lineNbr": 0,
      "author": {
        "id": 1119195
      },
      "writtenOn": "2022-08-16T15:14:11Z",
      "side": 1,
      "message": "Before reviewering/submitting this there are a few things left to resolve:\n- Enforce import lit stuff from named export path (ie. .js file extensions) hopefully from some eslint rule.\n- Enforce type-only imports `import type` from an eslint rule / tsconfig setting\n- Sorting out import into google. Our internal version of page.js is causing an issue from my test run.",
      "revId": "42c1a45f81a8c45966b47622fd2dad2f37fc1439",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "93ae3b96_901c5da7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 14
      },
      "lineNbr": 0,
      "author": {
        "id": 1119195
      },
      "writtenOn": "2022-08-16T15:35:50Z",
      "side": 1,
      "message": "The import to google is resolved with some text rewriting. I will add enforcement rules in a separate change, so this change is ready to review",
      "parentUuid": "e2c19faa_1157289c",
      "revId": "42c1a45f81a8c45966b47622fd2dad2f37fc1439",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b889e753_abb665be",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 14
      },
      "lineNbr": 0,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2022-08-16T18:08:49Z",
      "side": 1,
      "message": "Please block submitting this until the google solution is submitted.",
      "revId": "42c1a45f81a8c45966b47622fd2dad2f37fc1439",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d45c5d65_65ed091e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 14
      },
      "lineNbr": 0,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2022-08-17T06:55:00Z",
      "side": 1,
      "message": "Awesome!!",
      "revId": "42c1a45f81a8c45966b47622fd2dad2f37fc1439",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "83e9e536_ba2a34ae",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 14
      },
      "lineNbr": 0,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2022-08-17T07:30:44Z",
      "side": 1,
      "message": "Oh yes, I forgot to add this.\n\nAwesome work! :) I\u0027m very excited to be getting rid of the server.go",
      "parentUuid": "d45c5d65_65ed091e",
      "revId": "42c1a45f81a8c45966b47622fd2dad2f37fc1439",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "aa76a262_43d435a2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 14
      },
      "lineNbr": 0,
      "author": {
        "id": 1119195
      },
      "writtenOn": "2022-08-17T08:44:26Z",
      "side": 1,
      "message": "Ack. It is submitted. I will do a test run before submitting this.",
      "parentUuid": "b889e753_abb665be",
      "revId": "42c1a45f81a8c45966b47622fd2dad2f37fc1439",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "612a47af_0992b037",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 14
      },
      "lineNbr": 0,
      "author": {
        "id": 1119195
      },
      "writtenOn": "2022-08-17T09:45:41Z",
      "side": 1,
      "message": "internal build/tests pass.",
      "parentUuid": "aa76a262_43d435a2",
      "revId": "42c1a45f81a8c45966b47622fd2dad2f37fc1439",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2a787692_5e77a6ec",
        "filename": "web-dev-server.config.mjs",
        "patchSetId": 14
      },
      "lineNbr": 45,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2022-08-17T06:55:00Z",
      "side": 1,
      "message": "Just an idea that could also work and might be simpler:\n\nMaybe Gerrit FE could be configured (by another default rule) to redirect from gr-app.js to a dedicated gr-app.mjs file that we actually keep as a submitted file to the repo instead of creating it on the fly.\n\nNote that we also have a dedicated `gr-app-entry-point.ts` file for creating the rollup bundle. Maybe that can be used/shared?\n\nMaybe it is obvious for you why this does not work, and you have already tried that. :-) Feel free to just close then.",
      "range": {
        "startLine": 21,
        "startChar": 4,
        "endLine": 45,
        "endChar": 6
      },
      "revId": "42c1a45f81a8c45966b47622fd2dad2f37fc1439",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9ad93455_38cbbf5a",
        "filename": "web-dev-server.config.mjs",
        "patchSetId": 14
      },
      "lineNbr": 45,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2022-08-17T07:30:44Z",
      "side": 1,
      "message": "Interesting idea, +1",
      "parentUuid": "2a787692_5e77a6ec",
      "range": {
        "startLine": 21,
        "startChar": 4,
        "endLine": 45,
        "endChar": 6
      },
      "revId": "42c1a45f81a8c45966b47622fd2dad2f37fc1439",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "573eb2a8_e503a1b6",
        "filename": "web-dev-server.config.mjs",
        "patchSetId": 14
      },
      "lineNbr": 45,
      "author": {
        "id": 1119195
      },
      "writtenOn": "2022-08-17T08:43:29Z",
      "side": 1,
      "message": "`gr-app-entry-point.ts` is actually what we bundle via rollup / google-internal build, and that bundle is renamed to `gr-app.js`. So it is more of an accidental connection from the `\u003cscript\u003e` src `gr-app.js` and our `gr-app.ts` source file. If the bundle name was not in conflict with any source file names we could remove this workaround by making a source file that does match the bundle name and contains `import(\u0027./gr-app.mjs\u0027)`. I\u0027m not sure that\u0027s less of a workaround than this though \u003dP\n\nAnother option would be for the bundle output to be in module format and our html files load the bundle as a module just like our source code, but I am not sure how to do that in the google-internal build and it would break our page in IE (not the end of the world but still).\n\nI would prefer to keep this workaround for now since it\u0027s isolated and should be pretty robust.",
      "parentUuid": "9ad93455_38cbbf5a",
      "range": {
        "startLine": 21,
        "startChar": 4,
        "endLine": 45,
        "endChar": 6
      },
      "revId": "42c1a45f81a8c45966b47622fd2dad2f37fc1439",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7205ab62_9d4eaa64",
        "filename": "web-dev-server.config.mjs",
        "patchSetId": 14
      },
      "lineNbr": 45,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2022-08-17T08:44:54Z",
      "side": 1,
      "message": "sgtm",
      "parentUuid": "573eb2a8_e503a1b6",
      "range": {
        "startLine": 21,
        "startChar": 4,
        "endLine": 45,
        "endChar": 6
      },
      "revId": "42c1a45f81a8c45966b47622fd2dad2f37fc1439",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ],
  "submitRequirementResults": [
    {
      "submitRequirement": {
        "name": "Change-Is-Forward-Compatible",
        "description": {
          "value": "Changes to NoteDb or entities packages require careful consideration. \t\t      Make sure your change is forward compatible and add the footer \t\t      \u0027Forward-Compatible: checked\u0027 to your commit message"
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "-branch:refs/meta/config AND (file:\"^java/com/google/gerrit/server/notedb/.*\\\\.java$\" OR file:\"^java/com/google/gerrit/entities/.*\\\\.java$\")"
          }
        },
        "submittabilityExpression": {
          "expressionString": "hasfooter:\"Forward-Compatible\""
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"-branch:refs/meta/config AND (file:\"^java/com/google/gerrit/server/notedb/.*\\\\.java$\" OR file:\"^java/com/google/gerrit/entities/.*\\\\.java$\")"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["branch:refs/meta/config","file:\"^java/com/google/gerrit/server/notedb/.*\\\\.java$\"","file:\"^java/com/google/gerrit/entities/.*\\\\.java$\""]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"hasfooter:\"Forward-Compatible\""},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "42c1a45f81a8c45966b47622fd2dad2f37fc1439",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Code-Review",
        "description": {
          "value": "At least one maximum vote for label \u0027Code-Review\u0027 is required"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Code-Review\u003dMAX,user\u003dnon_uploader AND -label:Code-Review\u003dMIN"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Code-Review=MAX,user=non_uploader AND -label:Code-Review=MIN"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:Code-Review=MAX,user=non_uploader"],"failingAtoms":["label:Code-Review=MIN"]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "42c1a45f81a8c45966b47622fd2dad2f37fc1439",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Code-Style",
        "description": {
          "value": "Code has correct style and format"
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "-branch:refs/meta/config"
          }
        },
        "submittabilityExpression": {
          "expressionString": "label:Code-Style\u003dMAX AND -label:Code-Style\u003dMIN"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"-branch:refs/meta/config"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["branch:refs/meta/config"]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Code-Style=MAX AND -label:Code-Style=MIN"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:Code-Style=MAX"],"failingAtoms":["label:Code-Style=MIN"]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "42c1a45f81a8c45966b47622fd2dad2f37fc1439",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Do-Not-Submit",
        "description": {
          "value": "Changes that have DO NOT SUBMIT in their commit message are not submittable."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "message:\"^.*(D|d)(O|o) (N|n)(O|o)(T|t) (S|s)(U|u)(B|b)(M|m)(I|i)(T|t).*\""
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:false"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"message:\"^.*(D|d)(O|o) (N|n)(O|o)(T|t) (S|s)(U|u)(B|b)(M|m)(I|i)(T|t).*\""},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["message:\"^.*(D|d)(O|o) (N|n)(O|o)(T|t) (S|s)(U|u)(B|b)(M|m)(I|i)(T|t).*\""]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:false"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "42c1a45f81a8c45966b47622fd2dad2f37fc1439",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Library-Compliance",
        "description": {
          "value": "Changes to specific library/metadata files require additional approval"
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "-branch:refs/meta/config AND (file:\"^lib/.*\" OR file:\"^WORKSPACE$\" OR file:\"^.gitmodule$\" OR file:\"^tools/deps.bzl$\")"
          }
        },
        "submittabilityExpression": {
          "expressionString": "label:Library-Compliance\u003dMAX,user\u003dnon_uploader AND -label:Library-Compliance\u003dMIN"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"-branch:refs/meta/config AND (file:\"^lib/.*\" OR file:\"^WORKSPACE$\" OR file:\"^.gitmodule$\" OR file:\"^tools/deps.bzl$\")"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["branch:refs/meta/config","file:\"^lib/.*\"","file:\"^WORKSPACE$\"","file:\"^.gitmodule$\"","file:\"^tools/deps.bzl$\""]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Library-Compliance=MAX,user=non_uploader AND -label:Library-Compliance=MIN"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "42c1a45f81a8c45966b47622fd2dad2f37fc1439",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "No-Unresolved-Comments",
        "description": {
          "value": "Changes that have unresolved comments are not submittable. Unless overriden by adding the hashtag allow-unresolved-comments."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "has:unresolved"
          }
        },
        "submittabilityExpression": {
          "expressionString": "-has:unresolved"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "hashtag:allow-unresolved-comments"
          }
        },
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"has:unresolved"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["has:unresolved"]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"-has:unresolved"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"hashtag:allow-unresolved-comments"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "patchSetCommitId": "42c1a45f81a8c45966b47622fd2dad2f37fc1439",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Release-Notes",
        "description": {
          "value": "Changes must include a \u0027Release-Notes\u0027 footer with a single sentence to mention in the release notes. Changes not worth mentioning in the release notes should put \u0027Release-Notes: skip\u0027"
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "-branch:refs/meta/config AND -hasfooter:\"Release-Notes\""
          }
        },
        "submittabilityExpression": {
          "expressionString": "hasfooter:\"Release-Notes\""
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"-branch:refs/meta/config AND -hasfooter:\"Release-Notes\""},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":["hasfooter:\"Release-Notes\""],"failingAtoms":["branch:refs/meta/config"]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"hasfooter:\"Release-Notes\""},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "42c1a45f81a8c45966b47622fd2dad2f37fc1439",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Review-Enforcement",
        "description": {
          "value": "Two Google employees must approve the change. Uploading the change or voting positively on Code-Review count as approval."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "is:review-enforced_gerrit"
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:review-enforcement-satisfied_gerrit"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["is:review-enforced_gerrit"],"failingAtoms":[]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["is:review-enforcement-satisfied_gerrit"]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "42c1a45f81a8c45966b47622fd2dad2f37fc1439",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {
        "value": true
      }
    },
    {
      "submitRequirement": {
        "name": "Verified",
        "description": {
          "value": "CI result status for build and tests is passing"
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "-branch:refs/meta/config -onlyextensions:txt -onlyextensions:md"
          }
        },
        "submittabilityExpression": {
          "expressionString": "label:Verified\u003dMAX AND -label:Verified\u003dMIN"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"-branch:refs/meta/config -onlyextensions:txt -onlyextensions:md"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["branch:refs/meta/config","onlyextensions:txt","onlyextensions:md"]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Verified=MAX AND -label:Verified=MIN"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:Verified=MAX"],"failingAtoms":["label:Verified=MIN"]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "42c1a45f81a8c45966b47622fd2dad2f37fc1439",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    }
  ]
}