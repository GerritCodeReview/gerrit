{
  "comments": [
    {
      "key": {
        "uuid": "7faeed66_a6baa6ad",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-11-26T15:30:01Z",
      "side": 1,
      "message": "As pointed out in my previous comment, we can easily eliminate the need for two different enums. The dependency between reviewdb.client and extensions.common exists and not the issue here. The right question to ask here is: do we really need the information hiding, that \u0027n\u0027 corresponds to NEW?",
      "range": {
        "startLine": 18,
        "startChar": 0,
        "endLine": 22,
        "endChar": 6
      },
      "revId": "43c96b2b51fcd04f223fd63ae4555fc8f2ba0414",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3fa8f55a_04c4d66d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-11-26T16:59:10Z",
      "side": 1,
      "message": "\u003e do we really need the information hiding, that \u0027n\u0027 corresponds to NEW?\n\nNot quite. The question is: why should we expose an internal implementation detail of the database storage layer to the extension API? The default assumption is still that internal implementation details are not exposed in the public API.\n\n\"To avoid the presence of two similar classes with slightly different implementations and purposes\" is not a sufficient answer. If it were, we would be trying harder to merge com.google.gerrit.reviewdb.client.Change and com.google.gerrit.extensions.common.ChangeInfo, and ditto for all the other reviewdb/extension classes. But that\u0027s simply a non-goal at this stage.\n\n\"To avoid unmaintainably ugly mapping code\" is a stronger argument. But I don\u0027t think maintaining a single bimap of enum values meets the bar of \"unmaintainably ugly.\"",
      "parentUuid": "7faeed66_a6baa6ad",
      "range": {
        "startLine": 18,
        "startChar": 0,
        "endLine": 22,
        "endChar": 6
      },
      "revId": "43c96b2b51fcd04f223fd63ae4555fc8f2ba0414",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7faeed66_06185a16",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-11-27T09:15:44Z",
      "side": 1,
      "message": "| But I don\u0027t think maintaining a single bimap of enum values meets the bar of \"unmaintainably ugly.\"\n\nI tend to agree here. So the above statement should be reworded, to correctly justify the existence for different enums. As it stays, \"two enums must be maintained because two packages don\u0027t have dependencies on each other\" simply not true, as mentioned in my previous comments:\n\n  gwt_module(\n  name \u003d \u0027ui_module\u0027,\n  srcs \u003d glob([\u0027src/main/java/**/*.java\u0027]),\n  gwt_xml \u003d \u0027src/main/java/%s.gwt.xml\u0027 % MODULE.replace(\u0027.\u0027, \u0027/\u0027),\n  resources \u003d glob([\u0027src/main/java/**/*\u0027], excludes \u003d DIFFY),\n  deps \u003d [\n    \u0027:diffy_logo\u0027,\n    \u0027:freebie_application_icon_set\u0027,\n    \u0027//gerrit-gwtexpui:Clippy\u0027,\n    \u0027//gerrit-gwtexpui:GlobalKey\u0027,\n    \u0027//gerrit-gwtexpui:Progress\u0027,\n    \u0027//gerrit-gwtexpui:SafeHtml\u0027,\n    \u0027//gerrit-gwtexpui:UserAgent\u0027,\n    \u0027//gerrit-gwtui-common:client\u0027,\n    \u0027//gerrit-common:client\u0027,\n    \u0027//gerrit-extension-api:client\u0027,\n   [...]",
      "parentUuid": "3fa8f55a_04c4d66d",
      "range": {
        "startLine": 18,
        "startChar": 0,
        "endLine": 22,
        "endChar": 6
      },
      "revId": "43c96b2b51fcd04f223fd63ae4555fc8f2ba0414",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5fabe956_e5fe563d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-11-27T09:34:52Z",
      "side": 1,
      "message": "The right BUCK rule excerpt is these lines from gerrit-reviewdb/BUCK\n\n  SRC \u003d \u0027src/main/java/com/google/gerrit/reviewdb/\u0027\n  gwt_module(\n    name \u003d \u0027client\u0027,\n    srcs \u003d glob([SRC + \u0027client/**/*.java\u0027]),\n    gwt_xml \u003d SRC + \u0027ReviewDB.gwt.xml\u0027,\n    deps \u003d [\n      \u0027//gerrit-extension-api:client\u0027,\n      [...]",
      "parentUuid": "7faeed66_06185a16",
      "range": {
        "startLine": 18,
        "startChar": 0,
        "endLine": 22,
        "endChar": 6
      },
      "revId": "43c96b2b51fcd04f223fd63ae4555fc8f2ba0414",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bfb4e5b0_88d9b701",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2014-11-27T10:15:00Z",
      "side": 1,
      "message": "\u003e  the above statement should be reworded\n\nCan you upload a new PS with edited commit message?\n\n(it\u0027s Thanksgiving in the US; it\u0027s likely Dave will be offline until next week.)",
      "parentUuid": "7faeed66_06185a16",
      "range": {
        "startLine": 18,
        "startChar": 0,
        "endLine": 22,
        "endChar": 6
      },
      "revId": "43c96b2b51fcd04f223fd63ae4555fc8f2ba0414",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5fabe956_e5b096d3",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/common/LabelInfo.java",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-11-26T15:30:01Z",
      "side": 1,
      "message": "Was this change intended?",
      "revId": "43c96b2b51fcd04f223fd63ae4555fc8f2ba0414",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3fa8f55a_e4789ab2",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/common/LabelInfo.java",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-11-26T15:31:43Z",
      "side": 1,
      "message": "Kind of. I copied the contents of LabelInfo from ChangeJson.LabelInfo to ensure they had all the same fields. I figured the fact that it had spaces separating logical groups of fields was a bonus. A small one, though, I\u0027ll admit.",
      "parentUuid": "5fabe956_e5b096d3",
      "revId": "43c96b2b51fcd04f223fd63ae4555fc8f2ba0414",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5fabe956_255a2ef0",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/common/LabelInfo.java",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-11-26T16:10:22Z",
      "side": 1,
      "message": "That\u0027s fine then.",
      "parentUuid": "3fa8f55a_e4789ab2",
      "revId": "43c96b2b51fcd04f223fd63ae4555fc8f2ba0414",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7faeed66_46897206",
        "filename": "gerrit-server/BUCK",
        "patchSetId": 2
      },
      "lineNbr": 69,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-11-26T15:30:01Z",
      "side": 1,
      "message": "We don\u0027t care to do alphabetical sorting and content changes in the same change, do we?",
      "revId": "43c96b2b51fcd04f223fd63ae4555fc8f2ba0414",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}