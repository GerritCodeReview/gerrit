{
  "comments": [
    {
      "key": {
        "uuid": "fc55e7ac_24b872a9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2016-10-20T09:05:59Z",
      "side": 1,
      "message": "and abandoned\n\nor change this to say \"of non-draft changes\"",
      "range": {
        "startLine": 7,
        "startChar": 18,
        "endLine": 7,
        "endChar": 22
      },
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a117c836_b95f5f56",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2016-10-24T14:18:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fc55e7ac_24b872a9",
      "range": {
        "startLine": 7,
        "startChar": 18,
        "endLine": 7,
        "endChar": 22
      },
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1c01db89_053af2e2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2016-10-20T08:58:17Z",
      "side": 1,
      "message": "be specific: ... need to rewrite history",
      "range": {
        "startLine": 12,
        "startChar": 6,
        "endLine": 12,
        "endChar": 39
      },
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c112fc46_5a2395c2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2016-10-24T14:18:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1c01db89_053af2e2",
      "range": {
        "startLine": 12,
        "startChar": 6,
        "endLine": 12,
        "endChar": 39
      },
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1c01db89_e5459662",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 2
      },
      "lineNbr": 1776,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2016-10-20T08:58:17Z",
      "side": 1,
      "message": "(optional) maybe specify that you rewrite the meta history?",
      "range": {
        "startLine": 1776,
        "startChar": 0,
        "endLine": 1776,
        "endChar": 17
      },
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1c01db89_a53f9ece",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 2
      },
      "lineNbr": 1776,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2016-10-20T08:59:16Z",
      "side": 1,
      "message": "given the code, I\u0027m not sure if we actually do this already at this point",
      "parentUuid": "1c01db89_e5459662",
      "range": {
        "startLine": 1776,
        "startChar": 0,
        "endLine": 1776,
        "endChar": 17
      },
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1cc9dbea_c5b53a86",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 2
      },
      "lineNbr": 1776,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2016-10-24T14:18:18Z",
      "side": 1,
      "message": "The history doesn\u0027t seem to be rewritten.",
      "parentUuid": "1c01db89_a53f9ece",
      "range": {
        "startLine": 1776,
        "startChar": 0,
        "endLine": 1776,
        "endChar": 17
      },
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1c01db89_e59356a7",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteChange.java",
        "patchSetId": 2
      },
      "lineNbr": 76,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2016-10-20T11:26:40Z",
      "side": 1,
      "message": "I think an admin should even be able to delete draft changes if allowDrafts \u003d\u003d false.",
      "range": {
        "startLine": 75,
        "startChar": 5,
        "endLine": 76,
        "endChar": 59
      },
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c112fc46_fa314909",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteChange.java",
        "patchSetId": 2
      },
      "lineNbr": 76,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2016-10-24T14:18:18Z",
      "side": 1,
      "message": "I adjusted the code so that admins may delete draft changes even if the draft workflow is disabled provided that they have the permission to view and delete drafts.",
      "parentUuid": "1c01db89_e59356a7",
      "range": {
        "startLine": 75,
        "startChar": 5,
        "endLine": 76,
        "endChar": 59
      },
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3c605f88_06bbfaa8",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteChangeOp.java",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2016-10-20T09:04:31Z",
      "side": 1,
      "message": "Assuming we want a different exception (other than 401) when trying to delete a merged change, we can add a check before this block with a condition like at L110 (but checking for Status.MERGED) and throw the relevant exception.",
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a117c836_792b07b3",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteChangeOp.java",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2016-10-24T14:18:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3c605f88_06bbfaa8",
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3c04df97_66052e2d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteChangeOp.java",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2016-10-20T08:58:17Z",
      "side": 1,
      "message": "\"Deleting change x is not permitted\"\n\n(always mention the change number or any other id that is relevant, makes debugging easier)",
      "range": {
        "startLine": 107,
        "startChar": 31,
        "endLine": 107,
        "endChar": 66
      },
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3c605f88_26b876a9",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteChangeOp.java",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2016-10-20T09:04:31Z",
      "side": 1,
      "message": "FWIW we don\u0027t actually do that in many other places.\n\nAt some point we should go through and make exception messages more consistent.  Another nit is that some begin with upper case, like this one, and some don\u0027t.",
      "parentUuid": "3c04df97_66052e2d",
      "range": {
        "startLine": 107,
        "startChar": 31,
        "endLine": 107,
        "endChar": 66
      },
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c112fc46_ba3bd1e5",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteChangeOp.java",
        "patchSetId": 2
      },
      "lineNbr": 107,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2016-10-24T14:18:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3c04df97_66052e2d",
      "range": {
        "startLine": 107,
        "startChar": 31,
        "endLine": 107,
        "endChar": 66
      },
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1c01db89_c54a9a72",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteDraftPatchSet.java",
        "patchSetId": 2
      },
      "lineNbr": 118,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2016-10-20T08:58:17Z",
      "side": 1,
      "message": "I think we would want to allow people to delete a draft even if the drafts workflow is disabled.\n\nConsider the following: drafts is enabled, user created 10 drafts to sync his changes across machines, admin disables drafts, user is stuck with the 10 changes and can only publish them.",
      "range": {
        "startLine": 116,
        "startChar": 0,
        "endLine": 118,
        "endChar": 7
      },
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3c605f88_c6e3a2c1",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteDraftPatchSet.java",
        "patchSetId": 2
      },
      "lineNbr": 118,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2016-10-20T09:04:31Z",
      "side": 1,
      "message": "If we do that, I think it would be better to do in a separate change.",
      "parentUuid": "1c01db89_c54a9a72",
      "range": {
        "startLine": 116,
        "startChar": 0,
        "endLine": 118,
        "endChar": 7
      },
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1c01db89_857b82a2",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteDraftPatchSet.java",
        "patchSetId": 2
      },
      "lineNbr": 118,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2016-10-20T09:06:33Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "3c605f88_c6e3a2c1",
      "range": {
        "startLine": 116,
        "startChar": 0,
        "endLine": 118,
        "endChar": 7
      },
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a117c836_f93ef7ef",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteDraftPatchSet.java",
        "patchSetId": 2
      },
      "lineNbr": 118,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2016-10-24T14:18:18Z",
      "side": 1,
      "message": "If you were referring to the deletion of a draft change:\nI talked with Edwin about that issue before I created the patch set. Because of the current draft/WIP workflow, we decided to not change that right now. However, admins with the permission to view and delete drafts may now delete draft changes even if the draft workflow is disabled.\n\nIf you were referring to the deletion of a single draft patch set (which is handled by this class):\nI didn\u0027t want to change anything regarding the deletion of a single draft patch set. Issue 4509 is about the deletion of changes, not patch sets.",
      "parentUuid": "1c01db89_857b82a2",
      "range": {
        "startLine": 116,
        "startChar": 0,
        "endLine": 118,
        "endChar": 7
      },
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3c04df97_861f0a82",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteDraftPatchSet.java",
        "patchSetId": 2
      },
      "lineNbr": 119,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2016-10-20T08:58:17Z",
      "side": 1,
      "message": "why is this arg explicit? can\u0027t we do ctx.getChange().getStatus() in the method?",
      "range": {
        "startLine": 119,
        "startChar": 51,
        "endLine": 119,
        "endChar": 72
      },
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a117c836_d93b33fe",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteDraftPatchSet.java",
        "patchSetId": 2
      },
      "lineNbr": 119,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2016-10-24T14:18:18Z",
      "side": 1,
      "message": "Within the method, we don\u0027t know whether the method was called for a change or for a patch set. When the method is called for a patch set (as in this case), calling ctx.getChange().getStatus() might return a wrong status.\n\nFurthermore, this class is limited to draft patch sets. Determining the status from a property of the patch set would only introduce unnecessary code.",
      "parentUuid": "3c04df97_861f0a82",
      "range": {
        "startLine": 119,
        "startChar": 51,
        "endLine": 119,
        "endChar": 72
      },
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3c04df97_26e6166d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ChangeControl.java",
        "patchSetId": 2
      },
      "lineNbr": 276,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2016-10-20T11:26:40Z",
      "side": 1,
      "message": "I\u0027m not sure if we want that change owners are able to delete their non-draft changes, because it includes deleting comments of other users. I would rather allow it only to administrators.\n\nIf we want to enable this later, we may add a DeleteChange permission which is by default assigned to ChangeOwners.",
      "range": {
        "startLine": 276,
        "startChar": 15,
        "endLine": 276,
        "endChar": 28
      },
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a117c836_b9387f02",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ChangeControl.java",
        "patchSetId": 2
      },
      "lineNbr": 276,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2016-10-24T14:18:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3c04df97_26e6166d",
      "range": {
        "startLine": 276,
        "startChar": 15,
        "endLine": 276,
        "endChar": 28
      },
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e1ff0021_7be53fc6",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ChangeControl.java",
        "patchSetId": 2
      },
      "lineNbr": 276,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-10-24T14:20:42Z",
      "side": 1,
      "message": "Either way this restriction should be documented in the REST API docs.",
      "parentUuid": "a117c836_b9387f02",
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a117c836_b9e63f6c",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ChangeControl.java",
        "patchSetId": 2
      },
      "lineNbr": 276,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2016-10-24T15:51:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e1ff0021_7be53fc6",
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3c04df97_a61a0692",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ChangeControl.java",
        "patchSetId": 2
      },
      "lineNbr": 394,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2016-10-20T08:58:17Z",
      "side": 1,
      "message": "needed? I think the latter should be enough. canAbandon() also just uses the latter check",
      "range": {
        "startLine": 394,
        "startChar": 11,
        "endLine": 394,
        "endChar": 39
      },
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c112fc46_1a463d6d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ChangeControl.java",
        "patchSetId": 2
      },
      "lineNbr": 394,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2016-10-24T14:18:18Z",
      "side": 1,
      "message": "I thought this line ensured that the passed credentials of the user are correct. If it isn\u0027t necessary, why is it contained in isReviewer(), isAssignee() and isOwner()?",
      "parentUuid": "3c04df97_a61a0692",
      "range": {
        "startLine": 394,
        "startChar": 11,
        "endLine": 394,
        "endChar": 39
      },
      "revId": "446639e25fd0b974d3c19d3336969bbbc7c0c463",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}