{
  "comments": [
    {
      "key": {
        "uuid": "f2f2fd15_9e6d5dc9",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/ssh/GarbageCollectionIT.java",
        "patchSetId": 1
      },
      "lineNbr": 109,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-09-05T14:22:47Z",
      "side": 1,
      "message": "Is it not plugin owned capability? I would expect that the capability name is prefixed with plugin name then:\n\n \"Capability \"replication-runGC ...\"\n\nThe code that builds the capability name explicitly prefixes plugin-name:\n\n capability \u003d String.format(\"%s-%s\", pluginName, rc.value());\n\nIsn\u0027t this if applies in that test?\n\n if (pluginName !\u003d null \u0026\u0026 !\"gerrit\".equals(pluginName)\n     \u0026\u0026 (rc.scope() \u003d\u003d CapabilityScope.PLUGIN\n     || rc.scope() \u003d\u003d CapabilityScope.CONTEXT)) {\n [...]",
      "revId": "462e5f3f8ad2e412c4f9e3f76ffc66b6df511ff7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f2f2fd15_de67e5e4",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/ssh/GarbageCollectionIT.java",
        "patchSetId": 1
      },
      "lineNbr": 109,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2013-09-05T14:25:18Z",
      "side": 1,
      "message": "The functionality that is tested here is not from a plugin but from Gerrit core.\n\nIt\u0027s testing the garbadge collection and this has nothing to do with replication ;-)",
      "parentUuid": "f2f2fd15_9e6d5dc9",
      "revId": "462e5f3f8ad2e412c4f9e3f76ffc66b6df511ff7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f2f2fd15_3e7d2972",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/ssh/GarbageCollectionIT.java",
        "patchSetId": 1
      },
      "lineNbr": 109,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-09-05T14:27:32Z",
      "side": 1,
      "message": "*lol*\n\nI wonder, how easy/hard would it be to test plugin specific SSH commands, like delete in delete-project plugin?",
      "parentUuid": "f2f2fd15_de67e5e4",
      "revId": "462e5f3f8ad2e412c4f9e3f76ffc66b6df511ff7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "120791cc_37f278cc",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/ssh/GarbageCollectionIT.java",
        "patchSetId": 1
      },
      "lineNbr": 109,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2013-09-05T14:47:47Z",
      "side": 1,
      "message": "I actually was just recently thinking about this.\n\nWith the acceptance test framework we already have much in place: automatic init of review-site, auto start/stop of Gerrit server, comfortable way of testing through APIs (SSH, REST) and access to all Gerrit internals via injection. It would be very cool if a plugin could write own integration tests using the same framework. I think the only thing that is missing is that the plugin would need to be able to reference gerrit-acceptence-tests. An acceptance for a plugin could easily install the plugin into the test site on its own (e.g. just by running the SSH command). Only when doing this, we should think which classes of gerrit-acceptance-tests are really necessary, as they would become API for the plugins and then must not be changed in incompatible ways.\n\nThe huge advantage from having such integration tests for plugins is that it becomes very easy for the plugin author to test his plugin against new Gerrit versions. This could even be automated, so that a plugin author is informed when a change in Gerrit core breaks the plugin test (ideally before that change in Gerrit core is merged so that the plugin author could give a negative vote on it).",
      "parentUuid": "f2f2fd15_3e7d2972",
      "revId": "462e5f3f8ad2e412c4f9e3f76ffc66b6df511ff7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "92a70123_cbf2751c",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/ssh/GarbageCollectionIT.java",
        "patchSetId": 1
      },
      "lineNbr": 109,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-09-05T18:26:21Z",
      "side": 1,
      "message": "\"It would be very cool if a plugin could write own integration tests using the same framework.\"\n\nWe are doing only cool stuff here, aren\u0027t we? ;-)",
      "parentUuid": "120791cc_37f278cc",
      "revId": "462e5f3f8ad2e412c4f9e3f76ffc66b6df511ff7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}