{
  "comments": [
    {
      "key": {
        "uuid": "2481c117_07ab36ad",
        "filename": "Documentation/rest-api-config.txt",
        "patchSetId": 6
      },
      "lineNbr": 345,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-24T13:03:10Z",
      "side": 1,
      "message": "Only justified to start with operation, when you have two (at least). For flush only it is an overkill. KISS. Always.",
      "range": {
        "startLine": 343,
        "startChar": 2,
        "endLine": 345,
        "endChar": 3
      },
      "revId": "49d0701335ba50f9a303315b157f362da3a9f1c9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2481c117_a7b26a20",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/config/PostCaches.java",
        "patchSetId": 6
      },
      "lineNbr": 46,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-24T13:03:10Z",
      "side": 1,
      "message": "Why do you need this now? In first version of this change you had (erroneously) LIST_CACHES option. But now the only operation is to flush all caches and i don\u0027t see a need for another one here.\n\nSo drop it altogether and may be even rename this REST endpoint to just be:\n\n  FlushAllCaches instead of PostCaches.",
      "range": {
        "startLine": 44,
        "startChar": 0,
        "endLine": 46,
        "endChar": 3
      },
      "revId": "49d0701335ba50f9a303315b157f362da3a9f1c9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04767d12_06ab3aad",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/config/PostCaches.java",
        "patchSetId": 6
      },
      "lineNbr": 46,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-24T13:07:17Z",
      "side": 1,
      "message": "OK, it doesn\u0027t hurt to check the follow-up change first ;-) Please ignore this and other comments related to PostCaches REST endpoint.",
      "parentUuid": "2481c117_a7b26a20",
      "range": {
        "startLine": 44,
        "startChar": 0,
        "endLine": 46,
        "endChar": 3
      },
      "revId": "49d0701335ba50f9a303315b157f362da3a9f1c9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2481c117_6744f22e",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/config/PostCaches.java",
        "patchSetId": 6
      },
      "lineNbr": 46,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-06-24T14:51:18Z",
      "side": 1,
      "message": "OK :)",
      "parentUuid": "04767d12_06ab3aad",
      "range": {
        "startLine": 44,
        "startChar": 0,
        "endLine": 46,
        "endChar": 3
      },
      "revId": "49d0701335ba50f9a303315b157f362da3a9f1c9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04767d12_c66682f7",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/config/PostCaches.java",
        "patchSetId": 6
      },
      "lineNbr": 63,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-24T13:03:10Z",
      "side": 1,
      "message": "Unnecessary as you cannot do anything else.",
      "range": {
        "startLine": 61,
        "startChar": 4,
        "endLine": 63,
        "endChar": 5
      },
      "revId": "49d0701335ba50f9a303315b157f362da3a9f1c9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2481c117_8758060f",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/config/PostCaches.java",
        "patchSetId": 6
      },
      "lineNbr": 63,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-06-24T14:51:18Z",
      "side": 1,
      "message": "We check in almost each REST endpoint if input is null. Actually both can be null as the apply method can be invoked programmatically, e.g. by a plugin. I think it\u0027s safer and more consistent to keep this check.",
      "parentUuid": "04767d12_c66682f7",
      "range": {
        "startLine": 61,
        "startChar": 4,
        "endLine": 63,
        "endChar": 5
      },
      "revId": "49d0701335ba50f9a303315b157f362da3a9f1c9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04767d12_e6637ee4",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/config/PostCaches.java",
        "patchSetId": 6
      },
      "lineNbr": 73,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-24T13:03:10Z",
      "side": 1,
      "message": "That\u0027s is unexpected. If i have \"administrateServer\" capability, then i would expect that WEB_SESSIONS cache is also deleted. And you neither mentioned this fact in the commit message nor in the documentation. Just remove that check, because\n\n  flushCache.apply(cacheResource, null);\n\nalready doing the right thing (the check).",
      "range": {
        "startLine": 71,
        "startChar": 10,
        "endLine": 73,
        "endChar": 11
      },
      "revId": "49d0701335ba50f9a303315b157f362da3a9f1c9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04767d12_463ff2a4",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/config/PostCaches.java",
        "patchSetId": 6
      },
      "lineNbr": 73,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-06-24T14:51:18Z",
      "side": 1,
      "message": "The web_sessions cache is skipped intentionally even if you are administrator (see also my other inline comment [1]).\n\nThe behaviour is actually described in the documentation :)\nsee [2].\n\n[1] https://gerrit-review.googlesource.com/#/c/57512/6/gerrit-sshd/src/main/java/com/google/gerrit/sshd/commands/FlushCaches.java\n\n[2] https://gerrit-review.googlesource.com/#/c/57512/6/Documentation/rest-api-config.txt@613",
      "parentUuid": "04767d12_e6637ee4",
      "range": {
        "startLine": 71,
        "startChar": 10,
        "endLine": 73,
        "endChar": 11
      },
      "revId": "49d0701335ba50f9a303315b157f362da3a9f1c9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2481c117_c7bf5ee7",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/config/PostCaches.java",
        "patchSetId": 6
      },
      "lineNbr": 78,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-24T13:03:10Z",
      "side": 1,
      "message": "Not reachable code.",
      "range": {
        "startLine": 77,
        "startChar": 6,
        "endLine": 78,
        "endChar": 83
      },
      "revId": "49d0701335ba50f9a303315b157f362da3a9f1c9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2481c117_a7550ad8",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/config/PostCaches.java",
        "patchSetId": 6
      },
      "lineNbr": 78,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-06-24T14:51:18Z",
      "side": 1,
      "message": "Yes, but if I don\u0027t have it. the Java compiler complains that in this case nothing is returned. Also findbugs would probably complain about the missing \u0027default\u0027 case.",
      "parentUuid": "2481c117_c7bf5ee7",
      "range": {
        "startLine": 77,
        "startChar": 6,
        "endLine": 78,
        "endChar": 83
      },
      "revId": "49d0701335ba50f9a303315b157f362da3a9f1c9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04767d12_66d14e33",
        "filename": "gerrit-sshd/src/main/java/com/google/gerrit/sshd/commands/FlushCaches.java",
        "patchSetId": 6
      },
      "lineNbr": 61,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-24T13:03:10Z",
      "side": 1,
      "message": "No providers on singletons. Here and on line 55.",
      "range": {
        "startLine": 61,
        "startChar": 10,
        "endLine": 61,
        "endChar": 18
      },
      "revId": "49d0701335ba50f9a303315b157f362da3a9f1c9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2481c117_c752feec",
        "filename": "gerrit-sshd/src/main/java/com/google/gerrit/sshd/commands/FlushCaches.java",
        "patchSetId": 6
      },
      "lineNbr": 61,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-06-24T14:51:18Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "04767d12_66d14e33",
      "range": {
        "startLine": 61,
        "startChar": 10,
        "endLine": 61,
        "endChar": 18
      },
      "revId": "49d0701335ba50f9a303315b157f362da3a9f1c9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}