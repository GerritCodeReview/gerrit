{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "b0ffa160_fc0eb218",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 15,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-11-25T10:01:32Z",
      "side": 1,
      "message": "After the latest findings last night, this change isn\u0027t going to mitigate or solve Issue 13544. I still believe it is good to disable autoGc by default, but we shouldn\u0027t correlate it with the issue because isn\u0027t the root-case of it.",
      "revId": "4ba6647fa26b658d7f9255c2ad6c3ee7be52aaf2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "84d04412_02180624",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 15,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-11-27T14:26:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b0ffa160_fc0eb218",
      "revId": "4ba6647fa26b658d7f9255c2ad6c3ee7be52aaf2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3c4725cf_2542638e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-11-24T21:50:16Z",
      "side": 1,
      "message": "I verified this change locally: it works as advertised.\n\nAnother question to ask: should we backport this change to all other supported stable branches (that ship JGit version where this option is activated per default).",
      "revId": "4ba6647fa26b658d7f9255c2ad6c3ee7be52aaf2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ec2b3905_4d507d78",
        "filename": "java/com/google/gerrit/pgm/init/InitJGitConfig.java",
        "patchSetId": 4
      },
      "lineNbr": 63,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-11-24T21:50:16Z",
      "side": 1,
      "message": "Optionally: After showing this scare warning (that I really like), we could allow to flip this setting: e.g.:\n\n  \"Should it be changed to false?\"\n\nOne problem that I see, that gerrit admin could overlook this warning, if the receive.autogc option is set to true.",
      "range": {
        "startLine": 58,
        "startChar": 8,
        "endLine": 63,
        "endChar": 67
      },
      "revId": "4ba6647fa26b658d7f9255c2ad6c3ee7be52aaf2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "70b75069_584bcc49",
        "filename": "java/com/google/gerrit/pgm/init/InitJGitConfig.java",
        "patchSetId": 4
      },
      "lineNbr": 63,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-11-27T20:36:40Z",
      "side": 1,
      "message": "Most of the people would just run the init in batch mode and then just analyse the logs. Your idea makes sense though, follow-up change?",
      "parentUuid": "ec2b3905_4d507d78",
      "range": {
        "startLine": 58,
        "startChar": 8,
        "endLine": 63,
        "endChar": 67
      },
      "revId": "4ba6647fa26b658d7f9255c2ad6c3ee7be52aaf2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cf29f494_df4f6ace",
        "filename": "java/com/google/gerrit/pgm/init/InitJGitConfig.java",
        "patchSetId": 4
      },
      "lineNbr": 63,
      "author": {
        "id": 1004034
      },
      "writtenOn": "2020-11-27T21:19:20Z",
      "side": 1,
      "message": "AFAICS init doesn\u0027t write to a log file but logs to the console and this warning shows up there already when using batch mode:\n\n $ java -jar bazel-bin/release.war init -d ../gerrit-site-3.3 --dev --batch --install-all-plugins\n WARNING: An illegal reflective access operation has occurred\n WARNING: Illegal reflective access by \n com.google.inject.assistedinject.FactoryProvider2 \n (file:/\u003cREDACTED\u003e/.gerritcodereview/tmp/gerrit_15272759799233939265_app/guice-assistedinject-4.2.3.jar) to constructor \n java.lang.invoke.MethodHandles$Lookup(java.lang.Class,int)\n WARNING: Please consider reporting this to the maintainers of com.google.inject.assistedinject.FactoryProvider2\n WARNING: Use --illegal-access\u003dwarn to enable warnings of further illegal reflective access operations\n WARNING: All illegal access operations will be denied in a future release\n WARNING: JGit option \"receive.autogc \u003d true\". This is not recommended in Gerrit.\n git-receive-pack will run auto gc after receiving data from git-push and updating refs.\n Disable this behavior to avoid the additional load it creates: gc should be configured in gc config section or run as a separate process.\n Initialized /\u003cREDACTED\u003e/tmp/gerrit-site-3.3",
      "parentUuid": "70b75069_584bcc49",
      "range": {
        "startLine": 58,
        "startChar": 8,
        "endLine": 63,
        "endChar": 67
      },
      "revId": "4ba6647fa26b658d7f9255c2ad6c3ee7be52aaf2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d20f3e02_0d73de05",
        "filename": "java/com/google/gerrit/pgm/init/InitJGitConfig.java",
        "patchSetId": 4
      },
      "lineNbr": 63,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-11-27T21:30:53Z",
      "side": 1,
      "message": "\u003e AFAICS init doesn\u0027t write to a log file but logs to the console and this warning shows up there already when using batch mode:\n\u003e \n\u003e  $ java -jar bazel-bin/release.war init -d ../gerrit-site-3.3 --dev --batch --install-all-plugins\n\u003e  WARNING: An illegal reflective access operation has occurred\n\u003e  WARNING: Illegal reflective access by \n\u003e  com.google.inject.assistedinject.FactoryProvider2 \n\u003e  (file:/\u003cREDACTED\u003e/.gerritcodereview/tmp/gerrit_15272759799233939265_app/guice-assistedinject-4.2.3.jar) to constructor \n\u003e  java.lang.invoke.MethodHandles$Lookup(java.lang.Class,int)\n\u003e  WARNING: Please consider reporting this to the maintainers of com.google.inject.assistedinject.FactoryProvider2\n\u003e  WARNING: Use --illegal-access\u003dwarn to enable warnings of further illegal reflective access operations\n\u003e  WARNING: All illegal access operations will be denied in a future release\n\u003e  WARNING: JGit option \"receive.autogc \u003d true\". This is not recommended in Gerrit.\n\u003e  git-receive-pack will run auto gc after receiving data from git-push and updating refs.\n\u003e  Disable this behavior to avoid the additional load it creates: gc should be configured in gc config section or run as a separate process.\n\u003e  Initialized /\u003cREDACTED\u003e/tmp/gerrit-site-3.3\n\nYep, I believe that is more than enough. A Gerrit admin running a batch migration would definitely redirect the stdout/stderr to a file, and they\u0027ll notice the error.",
      "parentUuid": "cf29f494_df4f6ace",
      "range": {
        "startLine": 58,
        "startChar": 8,
        "endLine": 63,
        "endChar": 67
      },
      "revId": "4ba6647fa26b658d7f9255c2ad6c3ee7be52aaf2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}