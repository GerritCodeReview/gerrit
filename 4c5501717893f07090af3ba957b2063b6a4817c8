{
  "comments": [
    {
      "key": {
        "uuid": "11354acd_b37a2eef",
        "filename": "javatests/com/google/gerrit/acceptance/server/mail/MailProcessorIT.java",
        "patchSetId": 1
      },
      "lineNbr": 78,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-20T11:03:57Z",
      "side": 1,
      "message": "This is not working correctly. Reset also clears the setup of what the validateComments method should return when it is called on the mock. Above in line 73. we define that the validateComments method should always return ImmutableList.of(), but after reset is called it returns null. It think it\u0027s just by luck that the tests still succeed after this change.",
      "revId": "4c5501717893f07090af3ba957b2063b6a4817c8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "da89313a_a5ee71cf",
        "filename": "javatests/com/google/gerrit/acceptance/server/mail/MailProcessorIT.java",
        "patchSetId": 1
      },
      "lineNbr": 78,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-20T11:06:43Z",
      "side": 1,
      "message": "FYI, the correct way to implement this with using reset is to redo the mock setup after the reset. This is how it was done in [1], but for some reason that didn\u0027t work (see comment at [1]).\n\n[1] https://gerrit-review.googlesource.com/c/gerrit/+/237888/1/javatests/com/google/gerrit/acceptance/server/mail/MailProcessorIT.java#341",
      "parentUuid": "11354acd_b37a2eef",
      "revId": "4c5501717893f07090af3ba957b2063b6a4817c8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}