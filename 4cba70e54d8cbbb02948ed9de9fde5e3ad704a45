{
  "comments": [
    {
      "key": {
        "uuid": "dcb8b07b_b26fc4f3",
        "filename": "polygerrit-ui/app/index.html",
        "patchSetId": 26
      },
      "lineNbr": 23,
      "author": {
        "id": 1011624
      },
      "writtenOn": "2017-03-13T09:13:38Z",
      "side": 1,
      "message": "An alternative approach: \n\nRender index.html through a template system (soy is used at other places) before serving it (currently done from gerrit/httpd/raw/StaticModule.java) and inject the necessary parts at this point (the information is available from canonicalUrl etc in the config). Then no need arises to add a special js file at a possibly otherwise unrelated location.\n\nThe you could also use fixed instead of computed hrefs.",
      "revId": "4cba70e54d8cbbb02948ed9de9fde5e3ad704a45",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0bd87a20_1a9bc646",
        "filename": "polygerrit-ui/app/index.html",
        "patchSetId": 26
      },
      "lineNbr": 23,
      "author": {
        "id": 1029953
      },
      "writtenOn": "2017-03-13T09:17:00Z",
      "side": 1,
      "message": "Oh I have no idea how to do that.\n\nWould you know how to do that please?",
      "parentUuid": "dcb8b07b_b26fc4f3",
      "revId": "4cba70e54d8cbbb02948ed9de9fde5e3ad704a45",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "930b3691_c97a79b7",
        "filename": "polygerrit-ui/app/index.html",
        "patchSetId": 26
      },
      "lineNbr": 23,
      "author": {
        "id": 1029953
      },
      "writtenOn": "2017-03-13T16:31:49Z",
      "side": 1,
      "message": "what we could do is create a js file through java code like we already do for gwt for gerrit. The variable could be based on the canonicalUrl or a new config introduced. Though im not sure how to do that either but i have been looking into doing that.",
      "parentUuid": "dcb8b07b_b26fc4f3",
      "revId": "4cba70e54d8cbbb02948ed9de9fde5e3ad704a45",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "20d6bcf4_b8c7dfbd",
        "filename": "polygerrit-ui/app/index.html",
        "patchSetId": 26
      },
      "lineNbr": 23,
      "author": {
        "id": 1011624
      },
      "writtenOn": "2017-03-13T16:56:14Z",
      "side": 1,
      "message": "That would not help too much in all setups. We host gerrit (and a few other things) on different machines, and the canonical host just proxies to the via different pathes. The toplevel is occupied by another application. So the the script file needs to get resolved on inital loading. \nAs the index.hmtl file is fixed during runtime, one could even generate it during init (store it in static? )and point gerrit/httpd/raw/StaticModule.java#getPolyGerritUiIndexServlet  to this new file.",
      "parentUuid": "930b3691_c97a79b7",
      "revId": "4cba70e54d8cbbb02948ed9de9fde5e3ad704a45",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c00b2b07_6d4c10f7",
        "filename": "polygerrit-ui/app/index.html",
        "patchSetId": 26
      },
      "lineNbr": 23,
      "author": {
        "id": 1029953
      },
      "writtenOn": "2017-03-13T17:12:45Z",
      "side": 1,
      "message": "Generating it with init sounds better though not sure how that will work. Will it be like Documentation?",
      "parentUuid": "20d6bcf4_b8c7dfbd",
      "revId": "4cba70e54d8cbbb02948ed9de9fde5e3ad704a45",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}