{
  "comments": [
    {
      "key": {
        "uuid": "1be132fe_9a1d49d9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 7,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2020-07-15T16:51:36Z",
      "side": 1,
      "message": "I agree with the motivations for this change, but I\u0027m not sure we should jump to a boolean switch as the best solution. For example, we already have the Non-Interactive users group, could checking for inclusion in that group provide an equally good solution?\n\nIf we\u0027re going to start having a distinction about users with data in the account, I think we want to consider more broadly what all we could do with that and build up a framework to support it.",
      "revId": "4d89eac993ff09e07485708e7aa70c192cf54a00",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "510539ec_72834ec5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 7,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2020-07-15T16:52:48Z",
      "side": 1,
      "message": "\u003e I agree with the motivations for this change, but I\u0027m not sure we should jump to a boolean switch as the best solution. For example, we already have the Non-Interactive users group, could checking for inclusion in that group provide an equally good solution?\n\nI should add, if inclusion in that group is not equally good, how do you expect the two features to co-exist?",
      "parentUuid": "1be132fe_9a1d49d9",
      "revId": "4d89eac993ff09e07485708e7aa70c192cf54a00",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "033d885f_fd0f089f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 7,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2020-07-15T17:16:21Z",
      "side": 1,
      "message": "That\u0027s an interesting idea. Honestly, I didn\u0027t know that group existed.\n\nI see that the docs mention it [1], but it\u0027s not very prominent in the code. I only found it in SchemaCreator and a bunch of tests.\n\nLet me think this through more deeply tomorrow and get back to you on that.\n\nDo you use the Non-Interactive group in any of your setups? If so, for what (what is done differently when a user is a member) and how is your experience with that so far?\n\n[1] https://gerrit-review.googlesource.com/Documentation/access-control.html#non-interactive_users",
      "parentUuid": "510539ec_72834ec5",
      "revId": "4d89eac993ff09e07485708e7aa70c192cf54a00",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "35f4e920_1536c0b5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 7,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2020-07-15T17:31:28Z",
      "side": 1,
      "message": "\u003e That\u0027s an interesting idea. Honestly, I didn\u0027t know that group existed.\n\u003e \n\u003e I see that the docs mention it [1], but it\u0027s not very prominent in the code. I only found it in SchemaCreator and a bunch of tests.\n\u003e \n\u003e Let me think this through more deeply tomorrow and get back to you on that.\n\u003e \n\u003e Do you use the Non-Interactive group in any of your setups? If so, for what (what is done differently when a user is a member) and how is your experience with that so far?\n\u003e \n\u003e [1] https://gerrit-review.googlesource.com/Documentation/access-control.html#non-interactive_users\n\nI think the only other significant reference to it is in sshd.batchThreads [2]. We don\u0027t use that functionality, but I\u0027ve seen it mentioned on the list [3]. Honestly it seems like more people run into it by accident than on purpose though, so I\u0027m not sure it\u0027s something to build on top of. In some ways it could be perceived as highlighting the concern Martin has below. Users/Admins add accounts to this group not really understanding what it does because it has such a generic name, then later run into problems because of seemingly \"magic\" behavior. In hindsight, a group named \"Batch threads users\" probably would have been smarter. It\u0027s easy enough for admins to include groups in groups, so if you have multiple \"feature groups\", re-including all your robot accounts in each feature group is pretty trivial (assuming you want all of them in each feature group, if not, then the pre-feature group gives you that granularity).\n\nThere could be some challenges in using groups this way (performance maybe?) that would push towards using flags on accounts instead. That would have the downside of having to set the flags individually per-feature and not be able to manage all your robot accounts as a group. Maybe we can overcome that, but groups do seem like a natural way to manage sets of accounts with similar attributes.\n\nI\u0027m curious to read what you come up with tomorrow.\n\n[2] https://gerrit-review.googlesource.com/Documentation/config-gerrit.html#sshd.batchThreads\n[3] https://groups.google.com/forum/#!searchin/repo-discuss/sshd.batchThreads%7Csort:date",
      "parentUuid": "033d885f_fd0f089f",
      "revId": "4d89eac993ff09e07485708e7aa70c192cf54a00",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "23bfebdb_83de136b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 14,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2020-07-15T16:53:35Z",
      "side": 1,
      "message": "I am concerned that this attempts to be too clever. While it may makes somethings easier or better when it just works, it may make things more complicated when it doesn\u0027t. I think it would generally be better to allow each individual feature to be configured with a group(s) for which it alters its behavior. This would give much finer control when needed, but would still allow for simpler solutions like this by simply having a configurable default \"robot\" group that features could point to for disabling a feature.",
      "revId": "4d89eac993ff09e07485708e7aa70c192cf54a00",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e106d55c_86d7196f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 14,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2020-07-15T17:16:21Z",
      "side": 1,
      "message": "Interesting. I am a bit concerned about the additional complexity that this would add, though.\n\nI think we could start with the Non-Interactive users being the default everywhere and build out per-feature checks when we encounter that something doesn\u0027t work as it should.",
      "parentUuid": "23bfebdb_83de136b",
      "revId": "4d89eac993ff09e07485708e7aa70c192cf54a00",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6a56386_55a721b3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 14,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2020-07-15T17:19:02Z",
      "side": 1,
      "message": "Sounds reasonable.",
      "parentUuid": "e106d55c_86d7196f",
      "revId": "4d89eac993ff09e07485708e7aa70c192cf54a00",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}