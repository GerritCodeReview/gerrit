{
  "comments": [
    {
      "key": {
        "uuid": "f00e8cb4_0a39dbc5",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/rest/project/TagsIT.java",
        "patchSetId": 8
      },
      "lineNbr": 126,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-10-15T21:27:07Z",
      "side": 1,
      "message": "I\u0027m not seeing tests for annotated tags, that would be nice.",
      "revId": "4fd07558c6c9cb8fab8f2a546c28391ff05e49d3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "302ae414_345df035",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/rest/project/TagsIT.java",
        "patchSetId": 8
      },
      "lineNbr": 126,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2014-10-16T01:36:25Z",
      "side": 1,
      "message": "I haven\u0027t been able to get the acceptance test to push an annotated tag.",
      "parentUuid": "f00e8cb4_0a39dbc5",
      "revId": "4fd07558c6c9cb8fab8f2a546c28391ff05e49d3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f00e8cb4_ead44701",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ListTags.java",
        "patchSetId": 8
      },
      "lineNbr": 70,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-10-15T21:27:07Z",
      "side": 1,
      "message": "Unnecessary final",
      "range": {
        "startLine": 70,
        "startChar": 4,
        "endLine": 70,
        "endChar": 9
      },
      "revId": "4fd07558c6c9cb8fab8f2a546c28391ff05e49d3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "302ae414_1460f4ee",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ListTags.java",
        "patchSetId": 8
      },
      "lineNbr": 70,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2014-10-16T01:36:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f00e8cb4_ead44701",
      "range": {
        "startLine": 70,
        "startChar": 4,
        "endLine": 70,
        "endChar": 9
      },
      "revId": "4fd07558c6c9cb8fab8f2a546c28391ff05e49d3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "302ae414_547f4c9d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ListTags.java",
        "patchSetId": 8
      },
      "lineNbr": 84,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-10-15T21:27:07Z",
      "side": 1,
      "message": "Why not filter only tags? Is there some logic in VisibleRefFilter that behaves differently if you don\u0027t give it branches?",
      "range": {
        "startLine": 84,
        "startChar": 42,
        "endLine": 84,
        "endChar": 57
      },
      "revId": "4fd07558c6c9cb8fab8f2a546c28391ff05e49d3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "302ae414_54666c0f",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ListTags.java",
        "patchSetId": 8
      },
      "lineNbr": 84,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2014-10-16T01:36:25Z",
      "side": 1,
      "message": "I tried this with Constants.R_TAGS and it didn\u0027t behave as expected.",
      "parentUuid": "302ae414_547f4c9d",
      "range": {
        "startLine": 84,
        "startChar": 42,
        "endLine": 84,
        "endChar": 57
      },
      "revId": "4fd07558c6c9cb8fab8f2a546c28391ff05e49d3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b0e9742d_00d9e686",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ListTags.java",
        "patchSetId": 8
      },
      "lineNbr": 84,
      "author": {
        "id": 1013182
      },
      "writtenOn": "2014-10-16T06:33:58Z",
      "side": 1,
      "message": "Idem. This would allow to add the list of refs/changes with an extra option.",
      "parentUuid": "302ae414_54666c0f",
      "range": {
        "startLine": 84,
        "startChar": 42,
        "endLine": 84,
        "endChar": 57
      },
      "revId": "4fd07558c6c9cb8fab8f2a546c28391ff05e49d3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f07bec5d_e2ef8613",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ListTags.java",
        "patchSetId": 8
      },
      "lineNbr": 84,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-10-17T22:35:20Z",
      "side": 1,
      "message": "\u003e I tried this with Constants.R_TAGS and it didn\u0027t behave as expected.\n\n...why not?",
      "parentUuid": "302ae414_54666c0f",
      "range": {
        "startLine": 84,
        "startChar": 42,
        "endLine": 84,
        "endChar": 57
      },
      "revId": "4fd07558c6c9cb8fab8f2a546c28391ff05e49d3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30166401_5439ecc4",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ListTags.java",
        "patchSetId": 8
      },
      "lineNbr": 84,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2014-10-18T12:38:56Z",
      "side": 1,
      "message": "It wasn\u0027t returning all the tags in some cases.  Took a closer look into it now and it turns out I needed to set filterTagsSeparately to true in the call to VisibleRefsFilter.filter().",
      "parentUuid": "f07bec5d_e2ef8613",
      "range": {
        "startLine": 84,
        "startChar": 42,
        "endLine": 84,
        "endChar": 57
      },
      "revId": "4fd07558c6c9cb8fab8f2a546c28391ff05e49d3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0e5ac1c_32d3f014",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ListTags.java",
        "patchSetId": 8
      },
      "lineNbr": 87,
      "author": {
        "id": 1013182
      },
      "writtenOn": "2014-10-16T06:33:58Z",
      "side": 1,
      "message": "Given that reviews are also tags internally (e.g cgit/gitweb could read git-notes), do you think is reasonable to add an option to show ref/changes in this new resource? or better somewhere else?\n\nI\u0027m thinking of this:\n\n if (name.startsWith(Constants.R_TAGS) ||\n     (showChanges \u0026\u0026 name.startsWith(RefNames.REFS_CHANGES))) {",
      "range": {
        "startLine": 87,
        "startChar": 14,
        "endLine": 87,
        "endChar": 47
      },
      "revId": "4fd07558c6c9cb8fab8f2a546c28391ff05e49d3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f00e8cb4_6ab737cd",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ListTags.java",
        "patchSetId": 8
      },
      "lineNbr": 87,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2014-10-16T06:41:22Z",
      "side": 1,
      "message": "I don\u0027t follow what you mean by \"reviews are also tags internally\".",
      "parentUuid": "f0e5ac1c_32d3f014",
      "range": {
        "startLine": 87,
        "startChar": 14,
        "endLine": 87,
        "endChar": 47
      },
      "revId": "4fd07558c6c9cb8fab8f2a546c28391ff05e49d3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "10cb2096_33f40865",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ListTags.java",
        "patchSetId": 8
      },
      "lineNbr": 87,
      "author": {
        "id": 1013182
      },
      "writtenOn": "2014-10-16T07:53:39Z",
      "side": 1,
      "message": "Sorry, it should read refs. My rationale is to mimic the functionality from the SSH ls-user-refs command.",
      "parentUuid": "f00e8cb4_6ab737cd",
      "range": {
        "startLine": 87,
        "startChar": 14,
        "endLine": 87,
        "endChar": 47
      },
      "revId": "4fd07558c6c9cb8fab8f2a546c28391ff05e49d3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f00e8cb4_2ac13f28",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ListTags.java",
        "patchSetId": 8
      },
      "lineNbr": 87,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2014-10-16T07:55:30Z",
      "side": 1,
      "message": "Then it doesn\u0027t belong here.  This API is for listing tags, and only tags.",
      "parentUuid": "10cb2096_33f40865",
      "range": {
        "startLine": 87,
        "startChar": 14,
        "endLine": 87,
        "endChar": 47
      },
      "revId": "4fd07558c6c9cb8fab8f2a546c28391ff05e49d3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "302ae414_747cc8a7",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ListTags.java",
        "patchSetId": 8
      },
      "lineNbr": 108,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-10-15T21:27:07Z",
      "side": 1,
      "message": "FWIW JGit\u0027s ListTagCommand actually orders based on tag name, not ref name. They are generally exactly the same, but you never know.",
      "revId": "4fd07558c6c9cb8fab8f2a546c28391ff05e49d3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f00e8cb4_4ac6b352",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ListTags.java",
        "patchSetId": 8
      },
      "lineNbr": 108,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2014-10-16T01:36:25Z",
      "side": 1,
      "message": "Don\u0027t tags always begin with `refs/tags/`?",
      "parentUuid": "302ae414_747cc8a7",
      "revId": "4fd07558c6c9cb8fab8f2a546c28391ff05e49d3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d080a87b_01de2a6e",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ListTags.java",
        "patchSetId": 8
      },
      "lineNbr": 108,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-10-17T22:35:20Z",
      "side": 1,
      "message": "Depends what you mean by \"always\".\n\nYou can of course make any ref point to an annotated tag if you want, even something in refs/heads/. \"git tag\" (and its JGit counterpart, ListTagCommand) only looks in refs/tags/.\n\nWithin each annotated tag object, there is a field \"tag\" that is what getName() returns:\n\n $ git rev-parse v2.9; git cat-file tag v2.9\n 6ccb02b6a937d1adfab0804e69becb88c936c481\n object ed82b66901775f491ebf66b20534fdd6b0232e8c\n type commit\n tag v2.9\n tagger Edwin Kempin \u003cedwin.kempin@sap.com\u003e 1405679640 +0200\n \n Gerrit 2.9\n\n\"git tag -a\" (and JGit\u0027s TagCommand) will only ever create a tag under refs/tags/X with name X, where is guaranteed to be the same.\n\nBut there are other permutations that git will allow.\n\nAll I\u0027m saying is, if you look at ListTagCommand.java, the Comparator it uses to compare refs uses tag.getName(), whereas Ref.compareTo() uses ref.getName().",
      "parentUuid": "f00e8cb4_4ac6b352",
      "revId": "4fd07558c6c9cb8fab8f2a546c28391ff05e49d3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30166401_b4d4c000",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ListTags.java",
        "patchSetId": 8
      },
      "lineNbr": 108,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2014-10-18T12:38:56Z",
      "side": 1,
      "message": "For now is it enough to note in the documentation that this API only returns tags that are under the refs/tags/ namespace?",
      "parentUuid": "d080a87b_01de2a6e",
      "revId": "4fd07558c6c9cb8fab8f2a546c28391ff05e49d3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1044003a_eb2bd1a6",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ListTags.java",
        "patchSetId": 8
      },
      "lineNbr": 108,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-10-22T19:04:20Z",
      "side": 1,
      "message": "Sure, but I was talking about the comparator. It doesn\u0027t really matter.\n\nThe tangent about name field vs. refname was by way of explanation of how they are different things even if the values are the same.",
      "parentUuid": "30166401_b4d4c000",
      "revId": "4fd07558c6c9cb8fab8f2a546c28391ff05e49d3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b50a4612_d891ed5c",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ListTags.java",
        "patchSetId": 8
      },
      "lineNbr": 108,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2014-10-23T00:33:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1044003a_eb2bd1a6",
      "revId": "4fd07558c6c9cb8fab8f2a546c28391ff05e49d3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "302ae414_34865038",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/TagsCollection.java",
        "patchSetId": 8
      },
      "lineNbr": 56,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-10-15T21:27:07Z",
      "side": 1,
      "message": "Hm, is this going to be slower than looking up the tag first and checking visibility second? Or is there just no convenient code for checking visibility of a single tag?",
      "revId": "4fd07558c6c9cb8fab8f2a546c28391ff05e49d3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f00e8cb4_0ad0bb03",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/TagsCollection.java",
        "patchSetId": 8
      },
      "lineNbr": 56,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2014-10-16T01:36:25Z",
      "side": 1,
      "message": "I don\u0027t think there is such a method.  The way it\u0027s done here is same as in the list branches API.",
      "parentUuid": "302ae414_34865038",
      "revId": "4fd07558c6c9cb8fab8f2a546c28391ff05e49d3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "302ae414_1489d448",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/TagsCollection.java",
        "patchSetId": 8
      },
      "lineNbr": 57,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-10-15T21:27:07Z",
      "side": 1,
      "message": "Nit: space before :",
      "range": {
        "startLine": 57,
        "startChar": 18,
        "endLine": 57,
        "endChar": 19
      },
      "revId": "4fd07558c6c9cb8fab8f2a546c28391ff05e49d3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f00e8cb4_2ad37f14",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/TagsCollection.java",
        "patchSetId": 8
      },
      "lineNbr": 57,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2014-10-16T01:36:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "302ae414_1489d448",
      "range": {
        "startLine": 57,
        "startChar": 18,
        "endLine": 57,
        "endChar": 19
      },
      "revId": "4fd07558c6c9cb8fab8f2a546c28391ff05e49d3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "302ae414_d4511c29",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/TagsCollection.java",
        "patchSetId": 8
      },
      "lineNbr": 62,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-10-15T21:27:07Z",
      "side": 1,
      "message": "(id)",
      "range": {
        "startLine": 62,
        "startChar": 39,
        "endLine": 62,
        "endChar": 41
      },
      "revId": "4fd07558c6c9cb8fab8f2a546c28391ff05e49d3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "302ae414_746368fe",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/TagsCollection.java",
        "patchSetId": 8
      },
      "lineNbr": 62,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2014-10-16T01:36:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "302ae414_d4511c29",
      "range": {
        "startLine": 62,
        "startChar": 39,
        "endLine": 62,
        "endChar": 41
      },
      "revId": "4fd07558c6c9cb8fab8f2a546c28391ff05e49d3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}