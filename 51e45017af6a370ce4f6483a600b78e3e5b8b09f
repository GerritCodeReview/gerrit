{
  "pushCert": "certificate version 0.1\npusher Dave Borowitz \u003cdborowitz@google.com\u003e 1469219584 -0400\nnonce ALCdEotRXDKZEiOXA3N7H2xAdqCvFylvwdr8QyN4D8U/pJiREvBWsYj1qvM3pBGg469BeDy6dCFj\n\n0000000000000000000000000000000000000000 51e45017af6a370ce4f6483a600b78e3e5b8b09f refs/for/master\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJXkoMAAAoJEF/XxZqaEoiMuKsP/jGtLuRtrnEaTRSjN1GXCEll\nm9Z0X/1DVXTRve4UpR01F1DJ4vWxv1zm+A9X7nyLlYTqF5GvBlP/uciex9AZHuG6\njHLZOZLt7uQX54I8NkXZ2yf4GKK8IonjtTbzR+q48th4TkfJFDqsd0FYUAEMJ6E2\nKA5l7u4iIVvWGTcv4T4Sgw1Mc8yi5mqn3IgCSMyjVjb8tuMIAKRYblq6Ahh45VSj\nXI4NK09OaW5+o4ZkH9PsZeiAm0iXEYk6+JxOwxM12l5LC/vgPbzzAb+c5iDEjx12\nXKEs6W/wZXPEww/eJ59vfykGPFsfsAJqfxP7p0rBnJETW+7TlBnGGJLy090jnnqp\neinlmQhoA640GDzY5LSOFrJWzTVKO4zWhQPw3iH1pVLHFCYr+67R7YmVlBJ5k/+F\nWf+c3vmzSPP4CZ+fNStQIcJE+I+Y8WY/R7Akt5HLeu9VEiU3S1JIbaVOl16rBFQN\nMGfDqnxwW/fEQhmtTZLcANF9mpNYHYtA6DHtNl9GRCSUaCq/bvseQLE20p6Op1BX\n69udyaOR9rIy6haSk8sLXGS1OgzVs7CTqrQLKnzTlp/HAytsCbWT3XWWwngN4+af\n714gzjAevcoEAjaf2jM0qFvnNgcRfPH+LOlH/BfoL13bqjpYMIOO3SxfMbYkR1Ql\nnaj05BbmHFO2aHwDS0yf\n\u003dWCFj\n-----END PGP SIGNATURE-----\n",
  "comments": [
    {
      "key": {
        "uuid": "14a606c4_2f82c9fb",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/notedb/ChangeRebuilderImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 251,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-08-03T16:31:39Z",
      "side": 1,
      "message": "This can prevent rebuilding (even manual rebuilding) from ever actually writing a ref.\n\n1. Thread 1 rebuilds in-memory to state A, updates state in ReviewDb to A\n\n2. Thread 1 attempts ref update and fails\n\n3. Thread 2 rebuilds in-memory and gets A again, which throws AbortUpdateException because the state in ReviewDb is already A\n\nStep (3) repeats indefinitely until there is a write to the change that triggers a NoteDbChangeState update in ReviewDb. At that point it will skip the update of the NoteDb ref, since it\u0027s out of date, but the *next* read will go back to step (1) and have another shot at rebuilding it.",
      "revId": "51e45017af6a370ce4f6483a600b78e3e5b8b09f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "14a606c4_8fb735d2",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/notedb/ChangeRebuilderImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 251,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-08-03T17:10:00Z",
      "side": 1,
      "message": "https://gerrit-review.googlesource.com/80850 should address this",
      "parentUuid": "14a606c4_2f82c9fb",
      "revId": "51e45017af6a370ce4f6483a600b78e3e5b8b09f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}