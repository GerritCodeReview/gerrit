{
  "comments": [
    {
      "key": {
        "uuid": "d0a19e0d_eec2df85",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/change/ChangeScreen.java",
        "patchSetId": 5
      },
      "lineNbr": 914,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-05-01T20:56:57Z",
      "side": 1,
      "message": "A further cleanup could eliminate this request entirely by making it a ListChangesOption and getting them all in the ChangeInfo.",
      "revId": "5227b9789b083ba647b54c0a4838849cec478c40",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "50d76e7e_2a717fda",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/change/ChangeScreen.java",
        "patchSetId": 5
      },
      "lineNbr": 914,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-05-01T21:14:25Z",
      "side": 1,
      "message": "+1. We always let a comment in this case. Can you add one?",
      "parentUuid": "d0a19e0d_eec2df85",
      "revId": "5227b9789b083ba647b54c0a4838849cec478c40",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d0a19e0d_6ed70f41",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/change/ChangeScreen.java",
        "patchSetId": 5
      },
      "lineNbr": 914,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-05-01T21:17:51Z",
      "side": 1,
      "message": "I left a TODO, but I\u0027m not quite sure that\u0027s what you\u0027re asking.",
      "parentUuid": "50d76e7e_2a717fda",
      "revId": "5227b9789b083ba647b54c0a4838849cec478c40",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "50d76e7e_4a7833bc",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/change/ChangeScreen.java",
        "patchSetId": 5
      },
      "lineNbr": 914,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-05-01T21:19:42Z",
      "side": 1,
      "message": "Thanks for adding the TODO.",
      "parentUuid": "d0a19e0d_6ed70f41",
      "revId": "5227b9789b083ba647b54c0a4838849cec478c40",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "50d76e7e_4a1dd38e",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/change/ChangeScreen.java",
        "patchSetId": 5
      },
      "lineNbr": 932,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-05-01T18:44:50Z",
      "side": 1,
      "message": "Extract helper method, e.g. filterCommentForCurrentRevision() instead of this comment?",
      "range": {
        "startLine": 918,
        "startChar": 10,
        "endLine": 932,
        "endChar": 26
      },
      "revId": "5227b9789b083ba647b54c0a4838849cec478c40",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30b11a58_51ebd4f2",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/change/ChangeScreen.java",
        "patchSetId": 5
      },
      "lineNbr": 932,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-05-01T20:56:57Z",
      "side": 1,
      "message": "Extracted a helper method so this callback body is shorter. But I think the comment is still necessary; it\u0027s not obvious just looking at this method that the value we store in r is used by the history table.",
      "parentUuid": "50d76e7e_4a1dd38e",
      "range": {
        "startLine": 918,
        "startChar": 10,
        "endLine": 932,
        "endChar": 26
      },
      "revId": "5227b9789b083ba647b54c0a4838849cec478c40",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "50d76e7e_0a23dbd4",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/change/LineComment.java",
        "patchSetId": 5
      },
      "lineNbr": 54,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-05-01T18:44:50Z",
      "side": 1,
      "message": "Another option is to always show the patch set number, even for the daft comments for the current patch set, or at least when comments from non curent patch set also present. I figured that when multidrafts across patch set boundaries exist, it is somehow confusing that some comments are prefixed by PS_NUM and other (for current revision not).\n\nI also extended the patch num with patch set count info, known from the change screen in upper right corner (Patch Set (1/2). Screen shot: [1] and diff (quick and durty) on top of this ps: [2].\n\n* [1] http://imgur.com/KhCraxe\n* [2] http://paste.openstack.org/show/214528",
      "range": {
        "startLine": 54,
        "startChar": 6,
        "endLine": 54,
        "endChar": 31
      },
      "revId": "5227b9789b083ba647b54c0a4838849cec478c40",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30b11a58_b10a0058",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/change/LineComment.java",
        "patchSetId": 5
      },
      "lineNbr": 54,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-05-01T20:56:57Z",
      "side": 1,
      "message": "I think that\u0027s too much information about the patch set relative to the comment text, which is more important in this context. What I have in this change was bikeshedded slightly with our team, but I would like to put this in front of real users before we spend a lot more time tweaking it.",
      "parentUuid": "50d76e7e_0a23dbd4",
      "range": {
        "startLine": 54,
        "startChar": 6,
        "endLine": 54,
        "endChar": 31
      },
      "revId": "5227b9789b083ba647b54c0a4838849cec478c40",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8d662d35_d40a9c20",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/change/LineComment.java",
        "patchSetId": 5
      },
      "lineNbr": 54,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-05-13T10:33:41Z",
      "side": 1,
      "message": "| I think that\u0027s too much information about the patch set relative to the comment text, which is more important in this context.\n\nWell this is discussable to show PS (i/n) always or not. What is however not discussable and simply wrong, is the fact that the actual published comment outcome depends on what patch set the draft was published. Consider this change: [1]. I created draft comment on patch set 1. Then I created and published change edit on this change. Now, I want to publish the draft comment on Patch set 1. I have two option:\n\n* publish it on patch set 2, in which case \"PS1: \" prefix is used\n* publish it on patch set 1, in which case \"PS1: \" prefix is ommited\n\nThe problem with publishing of draft comments that were created on current patch set from non-crrent patch set is even more annoying: My last comment on [1] was created on current path set (PS2) but was published from non-current patch set (PS1). The result is that PS2 is prepended even though PS2 is the current patch set.\n\nSo now, we have comments in history without PS1 prefix that were put on non current patch set, and PS2 prefix for comments that were put on current patch set.\n\nIf at all to stick with \"PS_i: \" prefix on non current patch set only, then the implementation should be fixed to always prepend the prefix on non current patch set and not depending on which patch set the draft comments were published.\n\n* [1] https://gerrit-review.googlesource.com/67861",
      "parentUuid": "30b11a58_b10a0058",
      "range": {
        "startLine": 54,
        "startChar": 6,
        "endLine": 54,
        "endChar": 31
      },
      "revId": "5227b9789b083ba647b54c0a4838849cec478c40",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b070aa50_ada3dd7c",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/change/ReplyBox.java",
        "patchSetId": 5
      },
      "lineNbr": 385,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2015-05-01T00:32:47Z",
      "side": 1,
      "message": "This is now dead code?\n\nI didn\u0027t use PUBLISH because I wanted to only publish what you see in the web UI. If you open a new tab, add a comment to a file, then come back to reply box in a stale tab, do you expect that draft to be published since it doesn\u0027t appear below the textarea?",
      "revId": "5227b9789b083ba647b54c0a4838849cec478c40",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b070aa50_6da6558d",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/change/ReplyBox.java",
        "patchSetId": 5
      },
      "lineNbr": 385,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-05-01T00:36:41Z",
      "side": 1,
      "message": "Oh interesting, I didn\u0027t realize that was the current behavior.\n\nHonestly...I would be ok with publishing drafts added in another tab even if they weren\u0027t displayed in the UI. Since the drafts are loaded when the reply box opens, the race window should be fairly short. (Except maybe they aren\u0027t reloaded if the box is dismissed and then reopened?)",
      "parentUuid": "b070aa50_ada3dd7c",
      "revId": "5227b9789b083ba647b54c0a4838849cec478c40",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b070aa50_2db04dba",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/change/ReplyBox.java",
        "patchSetId": 5
      },
      "lineNbr": 385,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-05-01T00:38:40Z",
      "side": 1,
      "message": "A counterexample, of sorts: say I edit a draft in another tab while the reply box is open, then save that draft. I would be surprised if the send button did *not* contain my most recent edits to that draft, but I\u0027m pretty sure that\u0027s what would happen today. \"But that\u0027s not what the preview in the reply box said\" is not a very satisfying explanation from a user\u0027s point of view.",
      "parentUuid": "b070aa50_6da6558d",
      "revId": "5227b9789b083ba647b54c0a4838849cec478c40",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "70a63229_4bd4c53a",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/change/ReplyBox.java",
        "patchSetId": 5
      },
      "lineNbr": 385,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2015-05-01T17:00:44Z",
      "side": 1,
      "message": "OK, then this method can disappear altogether in this commit and we will publish all saved drafts using in.drafts(DraftHandling.PUBLISH_ALL_REVISIONS) above.",
      "parentUuid": "b070aa50_2db04dba",
      "revId": "5227b9789b083ba647b54c0a4838849cec478c40",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30b11a58_31ff30a9",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/change/ReplyBox.java",
        "patchSetId": 5
      },
      "lineNbr": 385,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-05-01T21:10:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "70a63229_4bd4c53a",
      "revId": "5227b9789b083ba647b54c0a4838849cec478c40",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30dafaa9_2926ade4",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/changes/CommentInfo.java",
        "patchSetId": 5
      },
      "lineNbr": 86,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-05-01T18:44:50Z",
      "side": 1,
      "message": "Why this check is needed? Shouldn\u0027t patch_set attribute always present in response of all related REST endpoints now, and is mandatory in this codepath? If yes why bother?",
      "range": {
        "startLine": 86,
        "startChar": 58,
        "endLine": 86,
        "endChar": 90
      },
      "revId": "5227b9789b083ba647b54c0a4838849cec478c40",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d0a19e0d_cec72394",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/changes/CommentInfo.java",
        "patchSetId": 5
      },
      "lineNbr": 86,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-05-01T20:56:57Z",
      "side": 1,
      "message": "A relic from when the history table was still populated from the revision comments endpoint. Removed.",
      "parentUuid": "30dafaa9_2926ade4",
      "range": {
        "startLine": 86,
        "startChar": 58,
        "endLine": 86,
        "endChar": 90
      },
      "revId": "5227b9789b083ba647b54c0a4838849cec478c40",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30dafaa9_0923e9d4",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/changes/ReviewInput.java",
        "patchSetId": 5
      },
      "lineNbr": 27,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-05-01T18:44:50Z",
      "side": 1,
      "message": "Can unused enum values be dropped?",
      "range": {
        "startLine": 27,
        "startChar": 12,
        "endLine": 27,
        "endChar": 25
      },
      "revId": "5227b9789b083ba647b54c0a4838849cec478c40",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d0a19e0d_2ecd07b5",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/changes/ReviewInput.java",
        "patchSetId": 5
      },
      "lineNbr": 27,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-05-01T20:56:57Z",
      "side": 1,
      "message": "Personally I prefer when the enum contains all the same values as the corresponding server-side enum.",
      "parentUuid": "30dafaa9_0923e9d4",
      "range": {
        "startLine": 27,
        "startChar": 12,
        "endLine": 27,
        "endChar": 25
      },
      "revId": "5227b9789b083ba647b54c0a4838849cec478c40",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}