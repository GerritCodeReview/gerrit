{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "2375a220_35281744",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 17
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2024-02-07T14:21:42Z",
      "side": 1,
      "message": "I have verified that the imported changes are correctly indexed with the original change number in the `changenumber` field.",
      "revId": "5231f163c70096b14f8db8cad6f4cb6fb8d900a9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b3b6edb2_cf887f76",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 17
      },
      "lineNbr": 0,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2024-02-08T08:21:30Z",
      "side": 1,
      "message": "The whole change series seems to first have added server ID to legacy_id_str (which used to only be change num) and then added another change_num as a separate field. \n\nWhy not just add a \"server_id\" field in the first place?",
      "revId": "5231f163c70096b14f8db8cad6f4cb6fb8d900a9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "89ef6aff_d0768604",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 17
      },
      "lineNbr": 0,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2024-02-08T20:53:59Z",
      "side": 1,
      "message": "\u003e The whole change series seems to first have added server ID to legacy_id_str (which used to only be change num) and then added another change_num as a separate field.\n\u003e \n\u003e Why not just add a \"server_id\" field in the first place?\n\n`legacy_id_str` is used as document id, which has to be unique. That\u0027s why it was disambiguated with the concept of `virtualId` which accounts for the server ID.\n\nI think at this point is easier adding a new filed for the change number rather that repurposing a preexistent one. WDYT?",
      "parentUuid": "b3b6edb2_cf887f76",
      "revId": "5231f163c70096b14f8db8cad6f4cb6fb8d900a9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4f47d96c_a0f544af",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 17
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2024-02-08T22:20:27Z",
      "side": 1,
      "message": "If we add the `server_id` field here, is going to be of any help?\n\nThe fields are supposed to be searchable by an end-user, I am not sure any Gerrit user is aware of the `server_id` of the server they are connected to and would be willing to add it for every query to a change number.\n\nI agree with @ponch78@gmail.com that would be best to keep the document ids as they are and just allow to search *explicitly* by change number, which was missing.\n\nThe search by document-id was _implicitly_ a search by change number because of the `legacy_id_str`, but that was an assumption, valid until Gerrit v3.7 with imported changes.",
      "parentUuid": "89ef6aff_d0768604",
      "revId": "5231f163c70096b14f8db8cad6f4cb6fb8d900a9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "678bdcf7_5bf4390c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 17
      },
      "lineNbr": 0,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2024-02-26T07:14:04Z",
      "side": 1,
      "message": "\u003e The fields are supposed to be searchable by an end-user\n\nI don\u0027t think that\u0027s given. Some fields might just be for gerrit-internal queries (e.g. ref spec).\n\n\u003e I agree with Ponch that would be best to keep the document ids as they are and just allow to search explicitly by change number, which was missing.\n \nSGTM, just wanted to clarify.",
      "parentUuid": "4f47d96c_a0f544af",
      "revId": "5231f163c70096b14f8db8cad6f4cb6fb8d900a9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}