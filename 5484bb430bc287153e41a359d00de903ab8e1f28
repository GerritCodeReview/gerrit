{
  "pushCert": "certificate version 0.1\npusher Dave Borowitz \u003cdborowitz@google.com\u003e 1509718620 -0400\nnonce AMT3iFjKXh4OBudglMp8AWoZkFbhCSQtgVgNROomQVY1rJNBolJWGt2VfJdTHDMKTrDyVKw0qRCd\n\n0000000000000000000000000000000000000000 421019a7de575d1deff368ce1a6ffc3a90baf0f3 refs/for/master\n-----BEGIN PGP SIGNATURE-----\n\niQJJBAABCAAzFiEEpPm/sOxWgSqG5grhX9fFmpoSiIwFAln8elwVHGRib3Jvd2l0\nekBnb29nbGUuY29tAAoJEF/XxZqaEoiMY4oQAIIgzDmS8yVxK6X9WNPIJeVWSnsw\n9AoSPV/iDi/CRI6nNttIciCYTyg18Kcsf2XCcYXEzIItUNtl/qc/Y8tGyk8QB1PR\nBdR4MLtoZLUe36GM5UKQWvqTT9LtRjrNTKNM5N1NHOAOJR9ISDAKIj2a/f139WbI\nzIK22xQK4hYO0KmgLbsbV8AL/xB5bcD9hO8zy6oGbNBDFr/Jn8k1eUp7/fddJYrU\nkMtSJAoyRDkCnXOT7yFAIPeo3r5MX4fHuXoSvghozrM8wbaDVre1RVzOWgaY6yOa\nmHF0Ar6DG6JZ0ZxQjwXpMTrK2SMiLKuQHmx8zYgYYjfclFwA+1/F4gQuNrCqsNMr\nT4QM0PqX0hNRvhpNIU8wbpmHbG2Dr3n80yrRw0KFQFfItyKAFPz5ZE74S5yn3a4O\ns/tbSV9N7+9NBGmZPp7qTaI8HQmRxElfZSi3W81Jfl2HWZ4UZL5BixZll9C6QpVL\nGnikYJFj2F99gaTUX8uRNx5M+gnormwhbds3NhBXk27h21WYWAleMNfEcqYBSsfJ\nqTjYMIFstPb8Rhp96EPQsGVmVpaBJ8/wa90lE38/RzLV9rnPAcFjVgKM3BsQ4NTp\n6TER5ChPJwhw3+Hko3yJ2lJ1gS77yXoACRPCD9VlrvrPn6NomnelpearkyB9ULlR\n8xHVJu5hn8pA8cio\n\u003d1sJ/\n-----END PGP SIGNATURE-----\n",
  "comments": [
    {
      "key": {
        "uuid": "751539b1_c0fcde9c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 18,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-11-06T14:24:16Z",
      "side": 1,
      "message": "Given this fact, is it safe to assume that if a group exists in NoteDb, then the full audit log of that group also exists in NoteDb? In other words, for an online migration, there is never any need to rebuild a group whose NoteDb ref already exists.\n\nI think the answer is \"yes\", but double-checking my logic.",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 18,
        "endChar": 32
      },
      "revId": "5484bb430bc287153e41a359d00de903ab8e1f28",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0838cca2_26bf12b3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 18,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-11-06T17:33:13Z",
      "side": 1,
      "message": "Yes. I\u0027m adding a new flag in the next patch set which disables writing to NoteDb for now so that we can safely merge some of the changes of this topic. My intention is to never have NoteDb refs for groups which only reflect part of the implementation.",
      "parentUuid": "751539b1_c0fcde9c",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 18,
        "endChar": 32
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "5484bb430bc287153e41a359d00de903ab8e1f28",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f02ca5a3_e7088bc0",
        "filename": "java/com/google/gerrit/reviewdb/client/RefNames.java",
        "patchSetId": 6
      },
      "lineNbr": 127,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-11-06T14:58:22Z",
      "side": 1,
      "message": "Is there a reason these aren\u0027t sharded? Are we worried about performance of a local filesystem backend when there are thousands or tens of thousands of loose group refs in a single directory?",
      "revId": "5484bb430bc287153e41a359d00de903ab8e1f28",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "759d4653_d085e482",
        "filename": "java/com/google/gerrit/reviewdb/client/RefNames.java",
        "patchSetId": 6
      },
      "lineNbr": 127,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2017-11-06T15:11:33Z",
      "side": 1,
      "message": "This question was also discussed here:\n  https://gerrit-review.googlesource.com/c/gerrit/+/136051/2/gerrit-reviewdb/src/main/java/com/google/gerrit/reviewdb/client/RefNames.java#128",
      "parentUuid": "f02ca5a3_e7088bc0",
      "revId": "5484bb430bc287153e41a359d00de903ab8e1f28",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f83c6468_d853812f",
        "filename": "java/com/google/gerrit/reviewdb/client/RefNames.java",
        "patchSetId": 6
      },
      "lineNbr": 127,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-11-06T17:33:13Z",
      "side": 1,
      "message": "Which format should I use?\n\nLet\u0027s say we have the UUID ABCDEFGHIJKL. Should we use refs/groups/AB/ABCDEFGHIJKL or refs/groups/KL/ABCDEFGHIJKL?\n\nShould we also check if the UUID consists of at least two characters (even though internal UUIDs created by GroupUUID should be)?",
      "parentUuid": "759d4653_d085e482",
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "5484bb430bc287153e41a359d00de903ab8e1f28",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0e4edcf9_83d7e407",
        "filename": "java/com/google/gerrit/reviewdb/client/RefNames.java",
        "patchSetId": 6
      },
      "lineNbr": 127,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-11-07T17:38:46Z",
      "side": 1,
      "message": "\u003e Which format should I use?\n\u003e \n\u003e Let\u0027s say we have the UUID ABCDEFGHIJKL. Should we use refs/groups/AB/ABCDEFGHIJKL or refs/groups/KL/ABCDEFGHIJKL?\n\nI very slightly prefer AB/ABCD.... UUIDs look vaguely ObjectId-ish to me, and this is consistent with how SHA-1s are sharded in the objects directory and in notes trees.\n\nBut like I said, my preference is slight, and I would be fine with KL/ABCD... for consistency with other sharded ref names.\n\n\u003e Should we also check if the UUID consists of at least two characters (even though internal UUIDs created by GroupUUID should be)?\n\nYes, I think that\u0027s a fine restriction to add directly in the AccountGroup.UUID constructor.",
      "parentUuid": "f83c6468_d853812f",
      "revId": "5484bb430bc287153e41a359d00de903ab8e1f28",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "44733fa4_7a8c8262",
        "filename": "java/com/google/gerrit/reviewdb/client/RefNames.java",
        "patchSetId": 6
      },
      "lineNbr": 127,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-11-07T17:44:24Z",
      "side": 1,
      "message": "Dave, do you have a preference?",
      "parentUuid": "f83c6468_d853812f",
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "5484bb430bc287153e41a359d00de903ab8e1f28",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}