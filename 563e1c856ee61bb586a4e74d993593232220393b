{
  "comments": [
    {
      "key": {
        "uuid": "b8f61dd9_13c51ab8",
        "filename": "proto/cache.proto",
        "patchSetId": 8
      },
      "lineNbr": 241,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2019-03-19T18:19:35Z",
      "side": 1,
      "message": "I just noticed that we don\u0027t include the project name in other cache keys (e.g. the mergeability cache doesn\u0027t have it). Is there a reason that we need it for this case? The SHA-1s should be distinct enough, shouldn\u0027t they?",
      "range": {
        "startLine": 241,
        "startChar": 2,
        "endLine": 241,
        "endChar": 21
      },
      "revId": "563e1c856ee61bb586a4e74d993593232220393b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bce7c88a_df23538b",
        "filename": "proto/cache.proto",
        "patchSetId": 8
      },
      "lineNbr": 241,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2019-03-20T09:00:34Z",
      "side": 1,
      "message": "I included it for debuggability because it makes it easier to attribute the cache entries that sit on disk when looking into issues. This isn\u0027t necessarily true for us (see my internal comments).\n\nIf your preference is to remove this, I am absolutely fine with removing it.",
      "parentUuid": "b8f61dd9_13c51ab8",
      "range": {
        "startLine": 241,
        "startChar": 2,
        "endLine": 241,
        "endChar": 21
      },
      "revId": "563e1c856ee61bb586a4e74d993593232220393b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a59faad4_31c7afe6",
        "filename": "proto/cache.proto",
        "patchSetId": 8
      },
      "lineNbr": 241,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2019-03-20T13:37:15Z",
      "side": 1,
      "message": "As discussed in person, having the project name in the keys is better as we then don\u0027t need to \u0027smuggle in\u0027 the project name to the cache loader as other caches do and hence the cache value can be computed completely from the key. The argument in favor of not using the project name in the cache key would have been that we could re-use the cache entries across repositories but it\u0027s very unlikely that two repositories contain exactly the same commits and we don\u0027t need to optimize for that situation.\n\nSo, let\u0027s include the project name in the key and strive to do the same for other caches in the future.",
      "parentUuid": "bce7c88a_df23538b",
      "range": {
        "startLine": 241,
        "startChar": 2,
        "endLine": 241,
        "endChar": 21
      },
      "revId": "563e1c856ee61bb586a4e74d993593232220393b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}