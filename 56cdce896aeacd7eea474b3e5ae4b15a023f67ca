{
  "comments": [
    {
      "key": {
        "uuid": "846d6bb6_a3d80c17",
        "filename": "polygerrit-ui/app/constants/constants.d.ts",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-07-22T07:54:56Z",
      "side": 1,
      "message": "Previous version .d.ts isn\u0027t correct and doesn\u0027t allow to import constants.js from other .ts file.",
      "range": {
        "startLine": 18,
        "startChar": 0,
        "endLine": 18,
        "endChar": 36
      },
      "revId": "56cdce896aeacd7eea474b3e5ae4b15a023f67ca",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dfc474a5_9e552c94",
        "filename": "polygerrit-ui/app/constants/constants.d.ts",
        "patchSetId": 8
      },
      "lineNbr": 18,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-07-22T07:55:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "846d6bb6_a3d80c17",
      "range": {
        "startLine": 18,
        "startChar": 0,
        "endLine": 18,
        "endChar": 36
      },
      "revId": "56cdce896aeacd7eea474b3e5ae4b15a023f67ca",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ca4e29a1_2e2c9e65",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-preferences-dialog/gr-diff-preferences-dialog.ts",
        "patchSetId": 8
      },
      "lineNbr": 28,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-07-22T09:51:21Z",
      "side": 1,
      "message": "You can export a class and an interface with the same name? What does that mean?",
      "range": {
        "startLine": 28,
        "startChar": 17,
        "endLine": 28,
        "endChar": 40
      },
      "revId": "56cdce896aeacd7eea474b3e5ae4b15a023f67ca",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dab5801a_2ea661f0",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-preferences-dialog/gr-diff-preferences-dialog.ts",
        "patchSetId": 8
      },
      "lineNbr": 28,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-07-23T10:06:53Z",
      "side": 1,
      "message": "Typescript merges these declarations together. Everywhere typescript assumes that an instance of GrDiffPreferencesDialog has members from class + members from interface.\n\nSuch interface allows to declare/redeclare class members, which are not defined explicitly in a class.\nFor example:\n1. Javascript allows to add methods/properties dynamically. It is possible to provide information about dynamic members in the interface.\n\n2. Property/method is defined in the base class, but in the descendant class you know more precise types. Typescript validates that interface declaration is compatible with the base class.\n\nThe (2) is our case. In the Polymer the $ defined as:\n$: {[key: string]: Element};\n\nBut for GrDiffPreferencesDialog we know exact types for diffPreferences, diffPrefsOverlay, etc..., so we redefine $ property here and provides exact information about these elements.\n\nAs a result:\n\nconst dialog: GrDiffPreferencesDialog \u003d ...;\nconst x \u003d dialog.diffPreferences; // Type: GrDiffPreferences\nconst y \u003d dialog.diffPrefsOverlay; // Type: GrOverlay\n\nBut:\nconst z \u003d dialog.someName; // Type: Element - as defined in the base class\n\nAlso, if you try to add incorrect member, typescript reports error:\n$: {\n  ...\n  someElement: { width: number; } // Error. someElement can\u0027t be assigned to Element\n}",
      "parentUuid": "ca4e29a1_2e2c9e65",
      "range": {
        "startLine": 28,
        "startChar": 17,
        "endLine": 28,
        "endChar": 40
      },
      "revId": "56cdce896aeacd7eea474b3e5ae4b15a023f67ca",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "24c12c45_c882f9d3",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-preferences-dialog/gr-diff-preferences-dialog.ts",
        "patchSetId": 8
      },
      "lineNbr": 66,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-07-22T09:51:21Z",
      "side": 1,
      "message": "Why did this get a `true` default value?",
      "revId": "56cdce896aeacd7eea474b3e5ae4b15a023f67ca",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e8224637_18e9d1f8",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-preferences-dialog/gr-diff-preferences-dialog.ts",
        "patchSetId": 8
      },
      "lineNbr": 66,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-07-23T10:06:53Z",
      "side": 1,
      "message": "This is a mistake. It should be false.\n\nAnother option is to define property as:\n_diffPrefsChanged: boolean | undefined\nto have exactly the same behavior as in javascript, but here it is safe to assign default value.",
      "parentUuid": "24c12c45_c882f9d3",
      "revId": "56cdce896aeacd7eea474b3e5ae4b15a023f67ca",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c5a38bb9_f0b45a45",
        "filename": "polygerrit-ui/app/elements/shared/gr-button/gr-button.d.ts",
        "patchSetId": 8
      },
      "lineNbr": 22,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-07-22T07:54:56Z",
      "side": 1,
      "message": "gr-button.js must not export GrButton class! Otherwise, typescript compiler crashes with internal error.\nBecause this is a temporary file only for the TS imports JS case, this is not a big problem for us.",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 22,
        "endChar": 6
      },
      "revId": "56cdce896aeacd7eea474b3e5ae4b15a023f67ca",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "843b13e1_2bc171ff",
        "filename": "polygerrit-ui/app/elements/shared/gr-button/gr-button.d.ts",
        "patchSetId": 8
      },
      "lineNbr": 22,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-07-22T07:55:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c5a38bb9_f0b45a45",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 22,
        "endChar": 6
      },
      "revId": "56cdce896aeacd7eea474b3e5ae4b15a023f67ca",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "097cdcda_5ab9db03",
        "filename": "polygerrit-ui/app/elements/shared/gr-button/gr-button.js",
        "patchSetId": 8
      },
      "lineNbr": 28,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-07-22T07:54:56Z",
      "side": 1,
      "message": "npm run eslint\ncatches incorrect naming",
      "range": {
        "startLine": 28,
        "startChar": 22,
        "endLine": 28,
        "endChar": 72
      },
      "revId": "56cdce896aeacd7eea474b3e5ae4b15a023f67ca",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ad41ca1a_4cd65fb8",
        "filename": "polygerrit-ui/app/elements/shared/gr-button/gr-button.js",
        "patchSetId": 8
      },
      "lineNbr": 28,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-07-22T07:54:56Z",
      "side": 1,
      "message": "This line is required only for google internal build.",
      "range": {
        "startLine": 28,
        "startChar": 0,
        "endLine": 28,
        "endChar": 75
      },
      "revId": "56cdce896aeacd7eea474b3e5ae4b15a023f67ca",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b9518fca_0a8200c5",
        "filename": "polygerrit-ui/app/elements/shared/gr-button/gr-button.js",
        "patchSetId": 8
      },
      "lineNbr": 28,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-07-22T07:55:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "097cdcda_5ab9db03",
      "range": {
        "startLine": 28,
        "startChar": 22,
        "endLine": 28,
        "endChar": 72
      },
      "revId": "56cdce896aeacd7eea474b3e5ae4b15a023f67ca",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "92054de8_a18b87bc",
        "filename": "polygerrit-ui/app/elements/shared/gr-button/gr-button.js",
        "patchSetId": 8
      },
      "lineNbr": 28,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-07-22T07:55:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ad41ca1a_4cd65fb8",
      "range": {
        "startLine": 28,
        "startChar": 0,
        "endLine": 28,
        "endChar": 75
      },
      "revId": "56cdce896aeacd7eea474b3e5ae4b15a023f67ca",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "77e1d2a4_f9e67260",
        "filename": "polygerrit-ui/app/elements/shared/gr-diff-preferences/gr-diff-preferences.d.ts",
        "patchSetId": 8
      },
      "lineNbr": 28,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-07-22T07:54:56Z",
      "side": 1,
      "message": "See comment about export in gr-button.d.ts",
      "range": {
        "startLine": 28,
        "startChar": 0,
        "endLine": 28,
        "endChar": 6
      },
      "revId": "56cdce896aeacd7eea474b3e5ae4b15a023f67ca",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "892028d9_0260d97d",
        "filename": "polygerrit-ui/app/elements/shared/gr-diff-preferences/gr-diff-preferences.d.ts",
        "patchSetId": 8
      },
      "lineNbr": 28,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-07-22T07:55:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "77e1d2a4_f9e67260",
      "range": {
        "startLine": 28,
        "startChar": 0,
        "endLine": 28,
        "endChar": 6
      },
      "revId": "56cdce896aeacd7eea474b3e5ae4b15a023f67ca",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9bf5e582_47690e1a",
        "filename": "polygerrit-ui/app/elements/shared/gr-overlay/gr-overlay.d.ts",
        "patchSetId": 8
      },
      "lineNbr": 26,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-07-22T07:54:56Z",
      "side": 1,
      "message": "This is a temporary file for TS imports JS case.\nFor simplicity, only methods are called from .ts files must be defined here. We can skip all other methods here.",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 26,
        "endChar": 1
      },
      "revId": "56cdce896aeacd7eea474b3e5ae4b15a023f67ca",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "897123ce_b457130a",
        "filename": "polygerrit-ui/app/elements/shared/gr-overlay/gr-overlay.d.ts",
        "patchSetId": 8
      },
      "lineNbr": 26,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-07-22T07:55:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9bf5e582_47690e1a",
      "range": {
        "startLine": 26,
        "startChar": 0,
        "endLine": 26,
        "endChar": 1
      },
      "revId": "56cdce896aeacd7eea474b3e5ae4b15a023f67ca",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}