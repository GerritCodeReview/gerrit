{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "5dc35c6d_8deedeb3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-10-31T15:21:09Z",
      "side": 1,
      "message": "Manual testing:\n\n- 1: existing changes for projects configured in `onlineMigrationProjects` are correctly kept in sync between reviewDB and NoteDB\n\n- 2: new changes for projects configured in `onlineMigrationProjects` are correctly kept in sync between reviewDB and NoteDB\n\n- 3: existing changes for projects NOT configured in `onlineMigrationProjects` are not migrated to NoteDB\n\n- 4: new changes for projects NOT configured in `onlineMigrationProjects` are not only on ReviewDB\n\n- 5: Tested that `migrate-to-note-db` migrate *any* project passed as argument (even when not configured in `onlineMigrationProjects`)\n\n```\njava -jar bin/gerrit.war migrate-to-note-db -d $PWD --project project_four --trial\n```\n\n- 6: Tested that `/rebuild.notedb` api only allow rebuilding of configured projects. \n \nhttp://localhost:8080/a/changes/\u003cchange\u003e/rebuild.notedb/\n\n\nAlso run tests on jenkins-ci-2.\n\n@luca.milanesio@gmail.com please any feedback on this? Any specific test you are thinking?",
      "revId": "584aad6a32bc2769eeb27d95325b2ccc59dda40a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "716cf7c2_70fd5385",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-11-03T08:47:00Z",
      "side": 1,
      "message": "Nice fix! Adding @matthias.sohn@gmail.com who introduced the project-based NoteDb migration to double-check about any potential consequence or edge-case.",
      "revId": "584aad6a32bc2769eeb27d95325b2ccc59dda40a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7ef28b99_68806a41",
        "filename": "javatests/com/google/gerrit/acceptance/server/notedb/ChangeRebuilderIT.java",
        "patchSetId": 7
      },
      "lineNbr": 344,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-11-03T08:47:00Z",
      "side": 1,
      "message": "EnabledForInexistentProject",
      "range": {
        "startLine": 344,
        "startChar": 49,
        "endLine": 344,
        "endChar": 57
      },
      "revId": "584aad6a32bc2769eeb27d95325b2ccc59dda40a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "36c31027_bd326a72",
        "filename": "javatests/com/google/gerrit/acceptance/server/notedb/ChangeRebuilderIT.java",
        "patchSetId": 7
      },
      "lineNbr": 344,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-11-06T08:25:48Z",
      "side": 1,
      "message": "I wouldn\u0027t mention \"inexistent\" because it suggests the project does not exist.\nThe intent here is to test the API for projects that have not been explicitly whitelisted for migration (but could still exist).\n\n\nRenamed to: `restApiNotFoundWhenMigrationIsDisabledForProject`.",
      "parentUuid": "7ef28b99_68806a41",
      "range": {
        "startLine": 344,
        "startChar": 49,
        "endLine": 344,
        "endChar": 57
      },
      "revId": "584aad6a32bc2769eeb27d95325b2ccc59dda40a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "be75910a_b50463e2",
        "filename": "javatests/com/google/gerrit/acceptance/server/notedb/ChangeRebuilderIT.java",
        "patchSetId": 7
      },
      "lineNbr": 346,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-11-03T08:47:00Z",
      "side": 1,
      "message": "Is this magic value representing a non-existent project? If yes, can you think about a more meaningful name?",
      "range": {
        "startLine": 346,
        "startChar": 62,
        "endLine": 346,
        "endChar": 70
      },
      "revId": "584aad6a32bc2769eeb27d95325b2ccc59dda40a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ae42c165_4481226a",
        "filename": "javatests/com/google/gerrit/acceptance/server/notedb/ChangeRebuilderIT.java",
        "patchSetId": 7
      },
      "lineNbr": 346,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-11-06T08:25:48Z",
      "side": 1,
      "message": "Nope it doesn\u0027t represent a non-existent project, it represents a project not whitelisted in the list of projects allowed to be migrated to NoteDB.\n\nI will make it clearer.",
      "parentUuid": "be75910a_b50463e2",
      "range": {
        "startLine": 346,
        "startChar": 62,
        "endLine": 346,
        "endChar": 70
      },
      "revId": "584aad6a32bc2769eeb27d95325b2ccc59dda40a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "69a95d60_d80fa856",
        "filename": "javatests/com/google/gerrit/acceptance/server/notedb/ChangeRebuilderIT.java",
        "patchSetId": 7
      },
      "lineNbr": 346,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-11-06T08:32:02Z",
      "side": 1,
      "message": "Thanks, now the name is showing what it represents.",
      "parentUuid": "ae42c165_4481226a",
      "range": {
        "startLine": 346,
        "startChar": 62,
        "endLine": 346,
        "endChar": 70
      },
      "revId": "584aad6a32bc2769eeb27d95325b2ccc59dda40a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a12eb04e_826cd026",
        "filename": "javatests/com/google/gerrit/acceptance/server/notedb/ChangeRebuilderIT.java",
        "patchSetId": 7
      },
      "lineNbr": 394,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-11-03T08:47:00Z",
      "side": 1,
      "message": "EnabledForInexistentProject",
      "range": {
        "startLine": 394,
        "startChar": 64,
        "endLine": 394,
        "endChar": 76
      },
      "revId": "584aad6a32bc2769eeb27d95325b2ccc59dda40a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "530ac095_ce5d2dda",
        "filename": "javatests/com/google/gerrit/acceptance/server/notedb/ChangeRebuilderIT.java",
        "patchSetId": 7
      },
      "lineNbr": 394,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-11-06T08:25:48Z",
      "side": 1,
      "message": "Renamed to: `noteDBNotCreatedWhenMigrationIsDisabledForProject`",
      "parentUuid": "a12eb04e_826cd026",
      "range": {
        "startLine": 394,
        "startChar": 64,
        "endLine": 394,
        "endChar": 76
      },
      "revId": "584aad6a32bc2769eeb27d95325b2ccc59dda40a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "151a34a9_e67fb66e",
        "filename": "javatests/com/google/gerrit/acceptance/server/notedb/ChangeRebuilderIT.java",
        "patchSetId": 7
      },
      "lineNbr": 396,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-11-03T08:47:00Z",
      "side": 1,
      "message": "Same comment as above",
      "range": {
        "startLine": 396,
        "startChar": 63,
        "endLine": 396,
        "endChar": 70
      },
      "revId": "584aad6a32bc2769eeb27d95325b2ccc59dda40a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d1cb26f9_04b47209",
        "filename": "javatests/com/google/gerrit/acceptance/server/notedb/ChangeRebuilderIT.java",
        "patchSetId": 7
      },
      "lineNbr": 396,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-11-06T08:25:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "151a34a9_e67fb66e",
      "range": {
        "startLine": 396,
        "startChar": 63,
        "endLine": 396,
        "endChar": 70
      },
      "revId": "584aad6a32bc2769eeb27d95325b2ccc59dda40a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bbed3a20_beb6fe81",
        "filename": "javatests/com/google/gerrit/acceptance/server/notedb/ChangeRebuilderIT.java",
        "patchSetId": 7
      },
      "lineNbr": 407,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-11-03T08:47:00Z",
      "side": 1,
      "message": "Enabled (for consistency with L353)",
      "range": {
        "startLine": 407,
        "startChar": 61,
        "endLine": 407,
        "endChar": 68
      },
      "revId": "584aad6a32bc2769eeb27d95325b2ccc59dda40a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fd55092f_9bd5baef",
        "filename": "javatests/com/google/gerrit/acceptance/server/notedb/ChangeRebuilderIT.java",
        "patchSetId": 7
      },
      "lineNbr": 407,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2023-11-06T08:25:48Z",
      "side": 1,
      "message": "Renamed to: `noteDBCreatedWhenMigrationIsEnabledForProject`",
      "parentUuid": "bbed3a20_beb6fe81",
      "range": {
        "startLine": 407,
        "startChar": 61,
        "endLine": 407,
        "endChar": 68
      },
      "revId": "584aad6a32bc2769eeb27d95325b2ccc59dda40a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}