{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "cbdb8863_074d4612",
        "filename": "/COMMIT_MSG",
        "patchSetId": 28
      },
      "lineNbr": 7,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2022-05-20T06:48:17Z",
      "side": 1,
      "message": "\"Implement API endpoint to apply a fix directly from input\"",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 39
      },
      "revId": "58d3cddf808d8ef7f1acc0c4f8616e69b77537fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c75e1a14_82abbc08",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 28
      },
      "lineNbr": 0,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2022-05-20T06:48:17Z",
      "side": 1,
      "message": "Please add a footer to the commit message:\n\nRelease-Notes: Implement API endpoint to apply a fix directly from input",
      "revId": "58d3cddf808d8ef7f1acc0c4f8616e69b77537fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0c3f7311_c1c6b5e9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 28
      },
      "lineNbr": 0,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2022-05-23T18:47:58Z",
      "side": 1,
      "message": "@Patrick curious what your thoughts are on this. It feels like there\u0027s several naming/API/organization challenges here that aren\u0027t new problems with this change, but are existing with the current \"Apply Fix\" API. It\u0027s things like what\u0027s a FixReplacement? Is it a \"Fix\" or a \"Replacement\"? How can it be both?\n\nI don\u0027t want to burden Sharad with fixing all of that, but it\u0027s going to be hard to build on top of it in a clear way without some improvements. Do you have ideas for how to approach it and what\u0027s manageable now vs what needs to happen later?",
      "revId": "58d3cddf808d8ef7f1acc0c4f8616e69b77537fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9911bb69_23222ef3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 28
      },
      "lineNbr": 0,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2022-05-24T11:57:08Z",
      "side": 1,
      "message": "I am all for better entity names and names in documentation, I\u0027d rather not change the actual endpoint names as that entails migrating callers (i.e. existing fixes are called \u0027fixes\u0027 and that is part if the API: /changes/1/revisions/2/fixes/...).\n\nI wonder what we would name things on the green field. Maybe \"suggested edit\" though that\u0027s a bit verbose.\n\nWe have two cases:\n\n(1) We stored a suggested edit in the robot comment. That was posted by a linter, CI etc.\n(2) Same case, but we didn\u0027t store it in Gerrit before, instead, a checker (frontend plugin) is suggesting them directly on the diff page and the user just accepts.\n\nSo in both cases a robot suggested a modification for the human to accept.\n\nSuggestion 1:\n\nchanges/1/revisions/1/fixes/12/apply\nhandler: ApplyStoredFix\nresource: FixResurce\nentity: Replacement(Info/Input) (was: FixReplacement)\n\nchanges/1/revisions/1/apply_fix\nhandler: ApplyFix (new class in this change)\nresource: none (working atop patch set)\nentity: Replacements(Info/Input) (was: DirectFixInput, holds a list of Replacement).\n\nFeel free to nit-pick these names. I think if we reach a naming we like, we can change all names that this change adds here and the names of existing classes in a predecessor change.",
      "parentUuid": "0c3f7311_c1c6b5e9",
      "revId": "58d3cddf808d8ef7f1acc0c4f8616e69b77537fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c7b8b524_728a9686",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 28
      },
      "lineNbr": 5378,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2022-05-20T16:17:19Z",
      "side": 1,
      "message": "Maybe this should be \"Apply Fix\" and the current \"Apply Fix\" is renamed to \"Apply Suggested Fix\"? Or maybe this becomes \"Apply Fix Directly\"? A \"Direct Fix\" is a confusing concept to me because my brain wants to compare it to an \"Indirect Fix\" and that\u0027s obviously not a thing.",
      "range": {
        "startLine": 5378,
        "startChar": 4,
        "endLine": 5378,
        "endChar": 20
      },
      "revId": "58d3cddf808d8ef7f1acc0c4f8616e69b77537fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ee8f2c7b_77d12011",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 28
      },
      "lineNbr": 5378,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2022-05-23T09:02:08Z",
      "side": 1,
      "message": "I do agree, but we need to rename an API that is currently in use. Which purely for the sake of naming, I think is too much effort. So my suggestion is to leave as-is.\n\nDo we have other naming options that would allow us to keep the name of the existing API?",
      "parentUuid": "c7b8b524_728a9686",
      "range": {
        "startLine": 5378,
        "startChar": 4,
        "endLine": 5378,
        "endChar": 20
      },
      "revId": "58d3cddf808d8ef7f1acc0c4f8616e69b77537fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4175182c_52d7803f",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 28
      },
      "lineNbr": 5378,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2022-05-23T18:47:58Z",
      "side": 1,
      "message": "\u003e I do agree, but we need to rename an API that is currently in use. Which purely for the sake of naming, I think is too much effort. So my suggestion is to leave as-is.\n\nWe wouldn\u0027t be changing the API signature, just the docs, correct? I know that\u0027s still not preferred, but does that actually create a lot of effort? I\u0027m asking for future knowledge here too; we\u0027ll inevitably mess up an API sometime and need to rename it, so I\u0027m curious how much of an impact you see that having.\n\n\u003e \n\u003e Do we have other naming options that would allow us to keep the name of the existing API?\n\nCalling this \"Apply Fix Directly\" was my only idea there. Maybe \"Apply Provided Fix\"?",
      "parentUuid": "ee8f2c7b_77d12011",
      "range": {
        "startLine": 5378,
        "startChar": 4,
        "endLine": 5378,
        "endChar": 20
      },
      "revId": "58d3cddf808d8ef7f1acc0c4f8616e69b77537fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "59e3ebfa_92b55128",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 28
      },
      "lineNbr": 5378,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2022-05-24T11:57:08Z",
      "side": 1,
      "message": "\u003e We wouldn\u0027t be changing the API signature, just the docs, correct? \n\nAren\u0027t the headings here consistent with the endpoint name? \n\nSo \u0027POST /changes/\u003c\u003cchange-id,\\{change-id\\}\u003e\u003e/revisions/\u003c\u003crevision-id,\\{revision-id\\}\u003e\u003e/apply_direct_fix\u0027 means this section is called Apply Direct Fix.\n\nIf that is not the case, we can change the header here. In any case we can be more verbose in documentation.",
      "parentUuid": "4175182c_52d7803f",
      "range": {
        "startLine": 5378,
        "startChar": 4,
        "endLine": 5378,
        "endChar": 20
      },
      "revId": "58d3cddf808d8ef7f1acc0c4f8616e69b77537fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e66e7d95_9c78c022",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 28
      },
      "lineNbr": 5383,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2022-05-20T16:17:19Z",
      "side": 1,
      "message": "This is going to be confusing because a \"FixInput\" is completely unrelated to the \"Apply Fix\" concepts and is instead used for doing consistency checks on a change and fixing any problems. Maybe \"ApplyFixInput\"?",
      "range": {
        "startLine": 5383,
        "startChar": 19,
        "endLine": 5383,
        "endChar": 33
      },
      "revId": "58d3cddf808d8ef7f1acc0c4f8616e69b77537fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "089b67ff_0bb8f0eb",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 28
      },
      "lineNbr": 5383,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2022-05-23T09:02:08Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "e66e7d95_9c78c022",
      "range": {
        "startLine": 5383,
        "startChar": 19,
        "endLine": 5383,
        "endChar": 33
      },
      "revId": "58d3cddf808d8ef7f1acc0c4f8616e69b77537fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a0049d38_a5eead08",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 28
      },
      "lineNbr": 5384,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2022-05-20T06:48:17Z",
      "side": 1,
      "message": "nit: remove extra blank",
      "range": {
        "startLine": 5384,
        "startChar": 52,
        "endLine": 5384,
        "endChar": 53
      },
      "revId": "58d3cddf808d8ef7f1acc0c4f8616e69b77537fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "905d764b_5ee257f4",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 28
      },
      "lineNbr": 5385,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2022-05-20T16:17:19Z",
      "side": 1,
      "message": "Which entity should have this reference?",
      "range": {
        "startLine": 5385,
        "startChar": 27,
        "endLine": 5385,
        "endChar": 62
      },
      "revId": "58d3cddf808d8ef7f1acc0c4f8616e69b77537fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ff4f93e6_60007c42",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 28
      },
      "lineNbr": 5385,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2022-05-23T09:02:08Z",
      "side": 1,
      "message": "It\u0027s part of the URL. Maybe state that explicitly?",
      "parentUuid": "905d764b_5ee257f4",
      "range": {
        "startLine": 5385,
        "startChar": 27,
        "endLine": 5385,
        "endChar": 62
      },
      "revId": "58d3cddf808d8ef7f1acc0c4f8616e69b77537fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bf06bdc9_5ee72b33",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 28
      },
      "lineNbr": 5385,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2022-05-23T18:47:58Z",
      "side": 1,
      "message": "Right! Yeah, if this mentioned \u0027revision-id\u0027 somehow, I think I would have made the connection.",
      "parentUuid": "ff4f93e6_60007c42",
      "range": {
        "startLine": 5385,
        "startChar": 27,
        "endLine": 5385,
        "endChar": 62
      },
      "revId": "58d3cddf808d8ef7f1acc0c4f8616e69b77537fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "681a4eb4_3addde76",
        "filename": "java/com/google/gerrit/extensions/api/changes/RevisionApi.java",
        "patchSetId": 28
      },
      "lineNbr": 123,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2022-05-20T06:48:17Z",
      "side": 1,
      "message": "nit: \"Instead of using a fix stored at the server, this applies the fix provided in {@code DirectFixInput}\"",
      "range": {
        "startLine": 122,
        "startChar": 53,
        "endLine": 123,
        "endChar": 21
      },
      "revId": "58d3cddf808d8ef7f1acc0c4f8616e69b77537fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "33b34ef3_24c991d2",
        "filename": "java/com/google/gerrit/extensions/common/DirectFixInput.java",
        "patchSetId": 28
      },
      "lineNbr": 19,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2022-05-20T16:17:19Z",
      "side": 1,
      "message": "This comment doesn\u0027t match my understanding of the intent of this class. I don\u0027t think there\u0027s anything \"Reviewer\" specific and it\u0027s not a suggestion if the API is applying it without further user interaction.",
      "revId": "58d3cddf808d8ef7f1acc0c4f8616e69b77537fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "99f1c50e_cc35af29",
        "filename": "java/com/google/gerrit/extensions/common/DirectFixInput.java",
        "patchSetId": 28
      },
      "lineNbr": 19,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2022-05-23T09:02:08Z",
      "side": 1,
      "message": "+1 maybe:\n\n\"Input containing a fix to apply a fix directly to the change.\"",
      "parentUuid": "33b34ef3_24c991d2",
      "revId": "58d3cddf808d8ef7f1acc0c4f8616e69b77537fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9ea0e161_721b51ee",
        "filename": "java/com/google/gerrit/extensions/common/DirectFixInput.java",
        "patchSetId": 28
      },
      "lineNbr": 19,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2022-05-23T18:47:58Z",
      "side": 1,
      "message": "\u003e +1 maybe:\n\u003e \n\u003e \"Input containing a fix to apply a fix directly to the change.\"\n\nThere\u0027s a list of fixes, so I think you\u0027d want: \"Input containing fixes to apply directly to the change.\"\n\nbut \u0027directly\u0027 in that statement seems both unnecessary and insufficient (\"apply to the change\" would work, but that still leaves out that the fixes are provided in the API and not stored on the server).\n\nI mostly like \"Input containing fix definitions to apply directly to the change.\" but I don\u0027t like the mismatch between \"fix definitions\" and \"FixReplacementInfos\". I guess you could reference FixReplacementInfos instead, but that name doesn\u0027t tell me what the object is (see my patchset level comment), so I think I was unconsciously avoiding it.",
      "parentUuid": "99f1c50e_cc35af29",
      "revId": "58d3cddf808d8ef7f1acc0c4f8616e69b77537fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c3d22554_1dcc4325",
        "filename": "java/com/google/gerrit/server/restapi/change/ApplyDirectFix.java",
        "patchSetId": 28
      },
      "lineNbr": 84,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2022-05-20T06:52:09Z",
      "side": 1,
      "message": "Please check if the user has \"ADD_PATCH_SET\" permission (via PermissionBackend)\n\nAnd add a test that the operation fails in case the user lacks that permission.",
      "revId": "58d3cddf808d8ef7f1acc0c4f8616e69b77537fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72d1557f_38c4a849",
        "filename": "javatests/com/google/gerrit/acceptance/api/revision/ApplyDirectFixIT.java",
        "patchSetId": 28
      },
      "lineNbr": 64,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2022-05-20T06:48:17Z",
      "side": 1,
      "message": "remove",
      "range": {
        "startLine": 64,
        "startChar": 4,
        "endLine": 64,
        "endChar": 53
      },
      "revId": "58d3cddf808d8ef7f1acc0c4f8616e69b77537fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "00a7ddb3_0463486b",
        "filename": "javatests/com/google/gerrit/acceptance/api/revision/ApplyDirectFixIT.java",
        "patchSetId": 28
      },
      "lineNbr": 283,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2022-05-20T06:48:17Z",
      "side": 1,
      "message": "remove this and other commented out lines",
      "range": {
        "startLine": 283,
        "startChar": 4,
        "endLine": 283,
        "endChar": 56
      },
      "revId": "58d3cddf808d8ef7f1acc0c4f8616e69b77537fd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}