{
  "comments": [
    {
      "key": {
        "uuid": "7bdf0ff3_4fcd0d39",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/events/ChangeIndexedListener.java",
        "patchSetId": 2
      },
      "lineNbr": 27,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2015-11-19T22:05:52Z",
      "side": 1,
      "message": "JavaDocs?",
      "range": {
        "startLine": 26,
        "startChar": 2,
        "endLine": 27,
        "endChar": 36
      },
      "revId": "5940a42997480569187f2e4cc186c3fc78422f51",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fbca1f38_eb05d156",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/events/ChangeIndexedListener.java",
        "patchSetId": 2
      },
      "lineNbr": 27,
      "author": {
        "id": 1019328
      },
      "writtenOn": "2015-11-19T23:43:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7bdf0ff3_4fcd0d39",
      "range": {
        "startLine": 26,
        "startChar": 2,
        "endLine": 27,
        "endChar": 36
      },
      "revId": "5940a42997480569187f2e4cc186c3fc78422f51",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7bdf0ff3_6fd251de",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/index/ChangeIndexer.java",
        "patchSetId": 2
      },
      "lineNbr": 191,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2015-11-19T22:05:52Z",
      "side": 1,
      "message": "Why don\u0027t we just pass the changeId to the listeners? We would avoid the creation of objects, even when there are not listeners listening to it.",
      "range": {
        "startLine": 185,
        "startChar": 0,
        "endLine": 191,
        "endChar": 6
      },
      "revId": "5940a42997480569187f2e4cc186c3fc78422f51",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9bdcc3fe_b0b738a2",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/index/ChangeIndexer.java",
        "patchSetId": 2
      },
      "lineNbr": 191,
      "author": {
        "id": 1019328
      },
      "writtenOn": "2015-11-19T23:43:39Z",
      "side": 1,
      "message": "That could be an option; I followed, however, the same pattern used in all of the other extension points. At the moment, the event is very simple and have only one attribute (changeId) but if in the future other ones are added, passing the event is the way to go I think.",
      "parentUuid": "7bdf0ff3_6fd251de",
      "range": {
        "startLine": 185,
        "startChar": 0,
        "endLine": 191,
        "endChar": 6
      },
      "revId": "5940a42997480569187f2e4cc186c3fc78422f51",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3bc1171a_0dae3159",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/index/ChangeIndexer.java",
        "patchSetId": 2
      },
      "lineNbr": 191,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2015-11-20T08:55:32Z",
      "side": 1,
      "message": "I see, however isn\u0027t going to be a big problem as I guess there will never be thousands of index events per second ... apart from reindexing :-O\n\nCan we make sure that events AREN\u0027T triggered during reindexing? Otherwise the reindex operation will take a very long time and may create a flood of calls over the network.",
      "parentUuid": "9bdcc3fe_b0b738a2",
      "range": {
        "startLine": 185,
        "startChar": 0,
        "endLine": 191,
        "endChar": 6
      },
      "revId": "5940a42997480569187f2e4cc186c3fc78422f51",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fbca1f38_4b3ae519",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/index/ChangeIndexer.java",
        "patchSetId": 2
      },
      "lineNbr": 191,
      "author": {
        "id": 1012987
      },
      "writtenOn": "2015-11-20T13:40:34Z",
      "side": 1,
      "message": "Listeners are called synchronously(same as all the other extension point in Gerrit) but the sync-index plugin does the network call asynchronously using a queue. The only overhead added to the reidexing (if you install the plugin) is to put a task in a queue.",
      "parentUuid": "3bc1171a_0dae3159",
      "range": {
        "startLine": 185,
        "startChar": 0,
        "endLine": 191,
        "endChar": 6
      },
      "revId": "5940a42997480569187f2e4cc186c3fc78422f51",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7bdf0ff3_0f11452e",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/index/ChangeIndexer.java",
        "patchSetId": 2
      },
      "lineNbr": 191,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2015-11-20T13:43:00Z",
      "side": 1,
      "message": "I guess with millions of changes, the queue will just blow-up :-O\nDon\u0027t see value in running events during a reindex, what would it be the business value?",
      "parentUuid": "fbca1f38_4b3ae519",
      "range": {
        "startLine": 185,
        "startChar": 0,
        "endLine": 191,
        "endChar": 6
      },
      "revId": "5940a42997480569187f2e4cc186c3fc78422f51",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}