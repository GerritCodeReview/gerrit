{
  "comments": [
    {
      "key": {
        "uuid": "Uu4csxm0",
        "filename": "Documentation/rest-api-accounts.txt",
        "patchSetId": 1
      },
      "lineNbr": 233,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2013-05-17T09:41:41Z",
      "side": 1,
      "message": "I have only tested with my account which is an admin, and with DEVELOPMENT_BECOME_ANY_ACCOUNT.\n\nWhat would happen, in a real environment, if regular user A calls the API to add an email address for user B?\n\nI assume user B would receive a confirmation email.  But should it even be possible for a non-admin to do that?  What\u0027s to stop a malicious user from submitting new emails for all users?",
      "revId": "59774bb194ff15aa0f448c3a0ee48ae6a8a2cfd0",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "Uxb2OX3k",
        "filename": "Documentation/rest-api-accounts.txt",
        "patchSetId": 1
      },
      "lineNbr": 233,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2013-05-17T10:33:07Z",
      "side": 1,
      "message": "I actually wrongly assumed that this would be prevented by AccountsCollection, thinking that a user can only see the own account and has to be administrator to see other accounts. However looking at AccountControl.canSee(...) I see now that this depends on the account visibility that is configured for the server. I\u0027ll fix [1,2,3] to check that the user owns the account or is administrator.\n\n  [1] https://gerrit-review.googlesource.com/45860\n  [2] https://gerrit-review.googlesource.com/45862\n  [3] https://gerrit-review.googlesource.com/45863",
      "parentUuid": "Uu4csxm0",
      "revId": "59774bb194ff15aa0f448c3a0ee48ae6a8a2cfd0",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UxZ2To6M",
        "filename": "Documentation/rest-api-accounts.txt",
        "patchSetId": 1
      },
      "lineNbr": 233,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2013-05-17T12:06:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "Uxb2OX3k",
      "revId": "59774bb194ff15aa0f448c3a0ee48ae6a8a2cfd0",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}