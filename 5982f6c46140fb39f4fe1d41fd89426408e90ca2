{
  "comments": [
    {
      "key": {
        "uuid": "1a752e3d_d4a2ddee",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T10:37:11Z",
      "side": 1,
      "message": "It would be better to have separate changes for these 2 things. These changes can be predecessors to this change. Can you please split this change?",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 19,
        "endChar": 36
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "949fa24b_cedd5272",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1a752e3d_d4a2ddee",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 19,
        "endChar": 36
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f093b390_59689c0a",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 1
      },
      "lineNbr": 1455,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T10:37:11Z",
      "side": 1,
      "message": "This part of the sentence is not fully correct anymore since you can now specify more things than a review comment in the input. I think this was written when \u0027message\u0027 was the only field in RevertInput, and should have been adapted when more field in RevertInput were added. Maybe we can fix that now. I would rephrase this whole paragraph to something like:\n\n\"The request body can include a link:#revert-input[RevertInput] entity to specify details for the revert.\"\n\nWhich fields exist and what are they default values don\u0027t need to be mentioned here as this is described by the RevertInput description.",
      "range": {
        "startLine": 1455,
        "startChar": 7,
        "endLine": 1455,
        "endChar": 36
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f4855b84_4cc38d75",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 1
      },
      "lineNbr": 1455,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f093b390_59689c0a",
      "range": {
        "startLine": 1455,
        "startChar": 7,
        "endLine": 1455,
        "endChar": 36
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "69918382_7d881745",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 1
      },
      "lineNbr": 1510,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T10:37:11Z",
      "side": 1,
      "message": "Do we need a dedicated REST endpoint for this? \nWhy not handle revert by submission by the normal Revert REST endpoint? There could be a flag in RevertInput that controls whether the single change or the whole submission should be reverted.",
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bc3764fa_c0779e2f",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 1
      },
      "lineNbr": 1510,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T10:39:16Z",
      "side": 1,
      "message": "Please ignore this comment for now, I was just going to change this comment when I accidentally hit the quick approve button which published my comments :/",
      "parentUuid": "69918382_7d881745",
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "78e3d438_3dc70b1b",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 1
      },
      "lineNbr": 1510,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T10:42:25Z",
      "side": 1,
      "message": "I think the reason that this must be a separate REST endpoint is that this REST endpoint returns a list of changes whereas the normal revert REST endpoint returns only a single change. I think that\u0027s a valid reason, but can you please mention this in the commit message?",
      "parentUuid": "bc3764fa_c0779e2f",
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ae4d8e3a_100feac7",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 1
      },
      "lineNbr": 1510,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "78e3d438_3dc70b1b",
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ae28eb7_ed0d4545",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 1
      },
      "lineNbr": 6993,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T10:37:11Z",
      "side": 1,
      "message": "nit: should",
      "range": {
        "startLine": 6993,
        "startChar": 28,
        "endLine": 6993,
        "endChar": 33
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dc544f85_708b0848",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 1
      },
      "lineNbr": 6993,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9ae28eb7_ed0d4545",
      "range": {
        "startLine": 6993,
        "startChar": 28,
        "endLine": 6993,
        "endChar": 33
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fba7d15c_0046dea7",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 1
      },
      "lineNbr": 6994,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T12:22:50Z",
      "side": 1,
      "message": "Maybe say here that if a parent is specified the revert may fail due to conflicts, whereas the revert always succeeds if the reverted change is used as parent (which is the default if parent is not set).",
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "70b85055_0d4a685d",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 1
      },
      "lineNbr": 6994,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fba7d15c_0046dea7",
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f71e4dda_b1e6048e",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 1
      },
      "lineNbr": 6997,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T10:37:11Z",
      "side": 1,
      "message": "nit: is",
      "range": {
        "startLine": 6997,
        "startChar": 22,
        "endLine": 6997,
        "endChar": 27
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cdac11bf_410d57ca",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 1
      },
      "lineNbr": 6997,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f71e4dda_b1e6048e",
      "range": {
        "startLine": 6997,
        "startChar": 22,
        "endLine": 6997,
        "endChar": 27
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6eb7c2df_7afe19ab",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 1
      },
      "lineNbr": 7002,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T12:22:50Z",
      "side": 1,
      "message": "This entity is mostly the same a RevertInput. The only difference is that RevertInput has one additional field \u0027parent_of_revert\u0027. Could we just use RevertInput for both revert REST endpoints, and say in the description of the \u0027parent_of_revert\u0027 field that it\u0027s not supported for revert submission? If it\u0027s set anyway we could just reject the request with 400 Bad Request.",
      "range": {
        "startLine": 7002,
        "startChar": 4,
        "endLine": 7002,
        "endChar": 25
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "962f3d2b_c14648d2",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 1
      },
      "lineNbr": 7002,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "I thought about it but I don\u0027t think that would be a good idea. We don\u0027t seem to do that in any other endpoint I\u0027ve seen, and also it might lead to problems later on (such as trying to add a field to RevertInput that only applies to one of those endpoints. Sounds like trouble.\nAt any case this is not relevant anymore since I am using RevertInput for both since they are identical right now.",
      "parentUuid": "6eb7c2df_7afe19ab",
      "range": {
        "startLine": 7002,
        "startChar": 4,
        "endLine": 7002,
        "endChar": 25
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9fabd7a7_baa5a6e6",
        "filename": "java/com/google/gerrit/extensions/api/changes/RevertInput.java",
        "patchSetId": 1
      },
      "lineNbr": 30,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T12:22:50Z",
      "side": 1,
      "message": "Since this is RevertInput it\u0027s clear that this is about revert, would it be sufficient to just name these fields \"parent\" and \"topic\"?",
      "range": {
        "startLine": 28,
        "startChar": 2,
        "endLine": 30,
        "endChar": 30
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b1843bea_6be61ef5",
        "filename": "java/com/google/gerrit/extensions/api/changes/RevertInput.java",
        "patchSetId": 1
      },
      "lineNbr": 30,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9fabd7a7_baa5a6e6",
      "range": {
        "startLine": 28,
        "startChar": 2,
        "endLine": 30,
        "endChar": 30
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "77fcf897_dc71517a",
        "filename": "java/com/google/gerrit/extensions/api/changes/RevertSubmissionInput.java",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T12:22:50Z",
      "side": 1,
      "message": "nit: 2019",
      "range": {
        "startLine": 1,
        "startChar": 17,
        "endLine": 1,
        "endChar": 21
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "abbfae05_d90981e2",
        "filename": "java/com/google/gerrit/extensions/api/changes/RevertSubmissionInput.java",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "77fcf897_dc71517a",
      "range": {
        "startLine": 1,
        "startChar": 17,
        "endLine": 1,
        "endChar": 21
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "884c8160_a8e93109",
        "filename": "java/com/google/gerrit/server/api/changes/ChangeApiImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 376,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T12:22:50Z",
      "side": 1,
      "message": "maybe better say \"change submission\" here to make this message distinct from the error message that is used if normal revert fails",
      "range": {
        "startLine": 376,
        "startChar": 46,
        "endLine": 376,
        "endChar": 54
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4c230aec_fb10795b",
        "filename": "java/com/google/gerrit/server/api/changes/ChangeApiImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 376,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "884c8160_a8e93109",
      "range": {
        "startLine": 376,
        "startChar": 46,
        "endLine": 376,
        "endChar": 54
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1d42748e_68314f41",
        "filename": "java/com/google/gerrit/server/restapi/change/Revert.java",
        "patchSetId": 1
      },
      "lineNbr": 191,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T12:22:50Z",
      "side": 1,
      "message": "This throws InvalidObjectIdException if the provided string is not an ObjectId. I think this exception should be caught and converted into a BadRequestException. Maybe also add a test for this case.",
      "range": {
        "startLine": 191,
        "startChar": 34,
        "endLine": 191,
        "endChar": 53
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6995ea7a_a8a083fb",
        "filename": "java/com/google/gerrit/server/restapi/change/Revert.java",
        "patchSetId": 1
      },
      "lineNbr": 191,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1d42748e_68314f41",
      "range": {
        "startLine": 191,
        "startChar": 34,
        "endLine": 191,
        "endChar": 53
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9299e3d0_980e64df",
        "filename": "java/com/google/gerrit/server/restapi/change/Revert.java",
        "patchSetId": 1
      },
      "lineNbr": 194,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T12:22:50Z",
      "side": 1,
      "message": "nit: I think it would be better to throw UnprocessableEntityException here. We always use this response if a resource that is specified in the request body cannot be resolved (see [1]) which is the case here (user specified a commit ID in the request body that cannot be resolved).\n\n[1] https://gerrit-review.googlesource.com/Documentation/rest-api.html#_422_unprocessable_entity",
      "range": {
        "startLine": 194,
        "startChar": 20,
        "endLine": 194,
        "endChar": 45
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "379cad9c_b411b32b",
        "filename": "java/com/google/gerrit/server/restapi/change/Revert.java",
        "patchSetId": 1
      },
      "lineNbr": 194,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9299e3d0_980e64df",
      "range": {
        "startLine": 194,
        "startChar": 20,
        "endLine": 194,
        "endChar": 45
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "62c19f5c_3add426a",
        "filename": "java/com/google/gerrit/server/restapi/change/Revert.java",
        "patchSetId": 1
      },
      "lineNbr": 196,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T12:22:50Z",
      "side": 1,
      "message": "nit: I think that could be as simple as \"parent not found: %s\"",
      "range": {
        "startLine": 196,
        "startChar": 19,
        "endLine": 196,
        "endChar": 86
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c789c64e_d8fc76ae",
        "filename": "java/com/google/gerrit/server/restapi/change/Revert.java",
        "patchSetId": 1
      },
      "lineNbr": 196,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "62c19f5c_3add426a",
      "range": {
        "startLine": 196,
        "startChar": 19,
        "endLine": 196,
        "endChar": 86
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7ed0ca09_0e27112c",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T12:22:50Z",
      "side": 1,
      "message": "nit: missing license header",
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0909283f_5be706ec",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7ed0ca09_0e27112c",
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2459e260_c862e8df",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 20,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T12:22:50Z",
      "side": 1,
      "message": "nit: do not import NameKey classes, but rather use Project.NameKey below",
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "451252b8_a30bcaaa",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 20,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2459e260_c862e8df",
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f7853e0a_5d1dbea2",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T12:22:50Z",
      "side": 1,
      "message": "Can this class be singleton?",
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2c1af677_eac2fa2f",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 40,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f7853e0a_5d1dbea2",
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8cd65e7c_4e802507",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T12:22:50Z",
      "side": 1,
      "message": "I think we want this to be RetryingRestModifyView.",
      "range": {
        "startLine": 41,
        "startChar": 15,
        "endLine": 41,
        "endChar": 29
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5bb9975c_624fb68f",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8cd65e7c_4e802507",
      "range": {
        "startLine": 41,
        "startChar": 15,
        "endLine": 41,
        "endChar": 29
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "95bdddc7_8383a757",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 88,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T12:22:50Z",
      "side": 1,
      "message": "This check is good, but I think it would be better to first check that the change state is merged:\n\n  if (!changeResource.getChange().isMerged()) {\n    throw new ResourceConflictException(\"change is \" + ChangeUtil.status(change));\n  }\n    \n  String submissionId \u003d requireNonNull(changeResource.getChange().getSubmissionId(),\n      String.format(\"merged change %s has no submission ID\", changeResource.getId()));\n\n\nIf the change is merged and doesn\u0027t have a submission ID, it\u0027s an inconsistency in our data and it\u0027s okay to fail with 500 Internal Server Error.\n\nI think checking for the change state first makes the error message for the user simpler, and is also more consistent with other REST endpoints (e.g. Revert).",
      "range": {
        "startLine": 82,
        "startChar": 4,
        "endLine": 88,
        "endChar": 5
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "05127fcc_fc9eb3d8",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 88,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "95bdddc7_8383a757",
      "range": {
        "startLine": 82,
        "startChar": 4,
        "endLine": 88,
        "endChar": 5
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f4e9c16b_ffb9913b",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 91,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T12:22:50Z",
      "side": 1,
      "message": "Better use a Multimap",
      "range": {
        "startLine": 91,
        "startChar": 4,
        "endLine": 91,
        "endChar": 7
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af3f1166_9691145d",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 91,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f4e9c16b_ffb9913b",
      "range": {
        "startLine": 91,
        "startChar": 4,
        "endLine": 91,
        "endChar": 7
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "82936c67_427ca069",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T12:22:50Z",
      "side": 1,
      "message": "I think in addition you also need to check READ permissions for each change (the normal Revert REST endpoint doesn\u0027t need to do this because this check is done by ChangesCollection when the change is parsed from the URL).",
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ccefe336_a1106177",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "82936c67_427ca069",
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "42897dce_8d6fbd41",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 102,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T12:22:50Z",
      "side": 1,
      "message": "We use ResourceNotFoundException only if the user specified a resource as part of the URL and that resource was not found.\nIn this case the current patch set of a change cannot be found which is a data inconsistency. In this case we want to fail with 500 Internal Server Error. Hence I would write this as:\n\n  PatchSet patch \u003d requireNonNull(psUtil.get(changeData.notes(), change.currentPatchSetId()), String.format(\"current patch set %s of change %s not found\", change.currentPatchSetId(), currentPatchSetId));",
      "range": {
        "startLine": 102,
        "startChar": 18,
        "endLine": 102,
        "endChar": 43
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cbc0a6d7_36455d71",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 102,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "42897dce_8d6fbd41",
      "range": {
        "startLine": 102,
        "startChar": 18,
        "endLine": 102,
        "endChar": 43
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e5addade_c38acc1e",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 116,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T12:22:50Z",
      "side": 1,
      "message": "For better readability, maybe move this up to where revertInput is created (right after line 92). This way all code that populates revertInput is in the same place.",
      "range": {
        "startLine": 113,
        "startChar": 3,
        "endLine": 116,
        "endChar": 0
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bbfcd789_2d68c6d6",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 116,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e5addade_c38acc1e",
      "range": {
        "startLine": 113,
        "startChar": 3,
        "endLine": 116,
        "endChar": 0
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e6a59bae_b09ab45f",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 125,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T12:22:50Z",
      "side": 1,
      "message": "This looks like you are taking an arbitrary patch set as start patch set (the one of the first change for this project that was returned by the query which orders the result by last updated timestamp), I doubt that this is working in all cases.",
      "range": {
        "startLine": 121,
        "startChar": 6,
        "endLine": 125,
        "endChar": 67
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "890ac2d2_316d2194",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 125,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "As far as I understand \"startPatchset\" is not very important. As I understand this relatedChangesSorter, he just takes the startPatchSet, and puts all the descendants after him and all the ancestors before him. I think some of my tests confirm it doesn\u0027t depend on the update time, I also added an explicit line of code in revertSubmissionWithDependantChange to test this.\n\nI did find a bug related to this, that it would ignore uncle commits, so I had to upgrade this sort.",
      "parentUuid": "e6a59bae_b09ab45f",
      "range": {
        "startLine": 121,
        "startChar": 6,
        "endLine": 125,
        "endChar": 67
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4e361317_bded034f",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 128,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T12:22:50Z",
      "side": 1,
      "message": "I think this can be simplified since you can get the change notes directly from ChangeData (no need to get the change ID and load the change notes via the changeNotesFactory):\n\nchangeResourceFactory.create(sortedChangesInProject.get(i).data().notes(), user.get());",
      "range": {
        "startLine": 128,
        "startChar": 32,
        "endLine": 128,
        "endChar": 96
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ff657880_1623f7e9",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 128,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "That\u0027s a good comment, but now I again need ChangeResource a few lines later for the revertedChange - to delete it, and I don\u0027t have a simple access to notes. I think for sake of readability and consistency I\u0027ll leave it as is, and use getChangeResource in both cases. I understand this is a little less efficient. What do you think?",
      "parentUuid": "4e361317_bded034f",
      "range": {
        "startLine": 128,
        "startChar": 32,
        "endLine": 128,
        "endChar": 96
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "08d0cb54_ffa150e9",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 132,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T12:22:50Z",
      "side": 1,
      "message": "This can also be simplified. At the moment you are creating change notes to construct a ChangeResource just to get the change notes from it. Just omit the creation of the ChangeResource since you don\u0027t need it.",
      "range": {
        "startLine": 131,
        "startChar": 12,
        "endLine": 132,
        "endChar": 27
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "871b7666_f9458c00",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 132,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "08d0cb54_ffa150e9",
      "range": {
        "startLine": 131,
        "startChar": 12,
        "endLine": 132,
        "endChar": 27
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6821076a_a1d4a724",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 139,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T12:22:50Z",
      "side": 1,
      "message": "Could this part be factored out into a method?",
      "range": {
        "startLine": 119,
        "startChar": 3,
        "endLine": 139,
        "endChar": 5
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "933e8b77_8c5edcfd",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 139,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6821076a_a1d4a724",
      "range": {
        "startLine": 119,
        "startChar": 3,
        "endLine": 139,
        "endChar": 5
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f81a4db2_c7b1d963",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 148,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T12:22:50Z",
      "side": 1,
      "message": "Here too, using ResourceNotFoundException is not correct since this is not about a resource that was specified as part of the URL (see [1]). Not finding the change is an inconsistency between the change index and the NoteDb data, and we rather want to return 500 Internal Server Error in this case. Hence we can just let the NoSuchChangeException be thrown up.\n\n[1] https://gerrit-review.googlesource.com/Documentation/rest-api.html#_404_not_found",
      "range": {
        "startLine": 148,
        "startChar": 16,
        "endLine": 148,
        "endChar": 41
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e877c360_f471537d",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 148,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f81a4db2_c7b1d963",
      "range": {
        "startLine": 148,
        "startChar": 16,
        "endLine": 148,
        "endChar": 41
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90abc31d_bf4ab92d",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 149,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T12:22:50Z",
      "side": 1,
      "message": "We should almost never catch all exception generically, just let them be thrown so that the request fails with 500 Internal Server Error.",
      "range": {
        "startLine": 149,
        "startChar": 4,
        "endLine": 149,
        "endChar": 26
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ce1781eb_ac1ec7b1",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 149,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "90abc31d_bf4ab92d",
      "range": {
        "startLine": 149,
        "startChar": 4,
        "endLine": 149,
        "endChar": 26
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0a7e5cf8_7a0800e0",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 150,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T12:22:50Z",
      "side": 1,
      "message": "BadRequestException should only be thrown if the request fails due to bad user input (see [1]). Just don\u0027t catch these exceptions so that they result in 500 Internal Server Error.\n\n[1] https://gerrit-review.googlesource.com/Documentation/rest-api.html#_400_bad_request",
      "range": {
        "startLine": 150,
        "startChar": 16,
        "endLine": 150,
        "endChar": 35
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1180dcfc_845b0d14",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 150,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0a7e5cf8_7a0800e0",
      "range": {
        "startLine": 150,
        "startChar": 16,
        "endLine": 150,
        "endChar": 35
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "042db346_20242d12",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 166,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-09-17T12:22:50Z",
      "side": 1,
      "message": "Maybe drop this word here.",
      "range": {
        "startLine": 166,
        "startChar": 26,
        "endLine": 166,
        "endChar": 28
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c20a81ff_95b56bff",
        "filename": "java/com/google/gerrit/server/restapi/change/RevertSubmission.java",
        "patchSetId": 1
      },
      "lineNbr": 166,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-09-24T14:33:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "042db346_20242d12",
      "range": {
        "startLine": 166,
        "startChar": 26,
        "endLine": 166,
        "endChar": 28
      },
      "revId": "5982f6c46140fb39f4fe1d41fd89426408e90ca2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}