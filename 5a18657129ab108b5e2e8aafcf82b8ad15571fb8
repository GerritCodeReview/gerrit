{
  "comments": [
    {
      "key": {
        "uuid": "2442a1dc_df25bbd1",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/MultipleProvidersForPluginException.java",
        "patchSetId": 35
      },
      "lineNbr": 21,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-06-26T20:46:26Z",
      "side": 1,
      "message": "Not that it matters but 1L is by fare more common in the Gerrit codebase.",
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a44db111_fb01af28",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/MultipleProvidersForPluginException.java",
        "patchSetId": 35
      },
      "lineNbr": 21,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2014-06-27T08:10:00Z",
      "side": 1,
      "message": "Small fix, will do it :-)",
      "parentUuid": "2442a1dc_df25bbd1",
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6413b9dc_298eed6a",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/MultipleProvidersForPluginException.java",
        "patchSetId": 35
      },
      "lineNbr": 26,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-26T10:16:16Z",
      "side": 1,
      "message": "This is enough to report comma separated plugin providers? I would expect that  something like that is needed:\n\n Joiner.on(\", \").join(new Function(): ServerPluginProvider -\u003e plugin-name);",
      "range": {
        "startLine": 26,
        "startChar": 8,
        "endLine": 26,
        "endChar": 27
      },
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04475ded_3eef0923",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/MultipleProvidersForPluginException.java",
        "patchSetId": 35
      },
      "lineNbr": 26,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-06-26T20:46:26Z",
      "side": 1,
      "message": "Not in general for Iterable but Collections and all subclasses are expected to have sane toString",
      "parentUuid": "6413b9dc_298eed6a",
      "range": {
        "startLine": 26,
        "startChar": 8,
        "endLine": 26,
        "endChar": 27
      },
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04767d12_86848a86",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/MultipleProvidersForPluginException.java",
        "patchSetId": 35
      },
      "lineNbr": 26,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2014-06-26T23:46:04Z",
      "side": 1,
      "message": "Good point, I assumed that the Iterable\u003cServerPluginProvider\u003e to be \"polite\" but will definitely double-check.",
      "parentUuid": "6413b9dc_298eed6a",
      "range": {
        "startLine": 26,
        "startChar": 8,
        "endLine": 26,
        "endChar": 27
      },
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a44db111_3b8b975b",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/MultipleProvidersForPluginException.java",
        "patchSetId": 35
      },
      "lineNbr": 26,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2014-06-27T23:29:13Z",
      "side": 1,
      "message": "Guava is returning a polite toString representation :-)\n\n  /**\n   * Returns a string representation of {@code iterator}, with the format\n   * {@code [e1, e2, ..., en]}. The iterator will be left exhausted: its\n   * {@code hasNext()} method will return {@code false}.\n   */\n  public static String toString(Iterator\u003c?\u003e iterator) {\n    return Collections2.STANDARD_JOINER\n        .appendTo(new StringBuilder().append(\u0027[\u0027), iterator)\n        .append(\u0027]\u0027)\n        .toString();\n  }\n\nWe should be OK then.",
      "parentUuid": "04767d12_86848a86",
      "range": {
        "startLine": 26,
        "startChar": 8,
        "endLine": 26,
        "endChar": 27
      },
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a44db111_7b2d9f81",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/MultipleProvidersForPluginException.java",
        "patchSetId": 35
      },
      "lineNbr": 26,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-30T06:34:40Z",
      "side": 1,
      "message": "Yes, but as i pointed out in my original comment this is not what we want:\n\n  /home/davido/projects/gerrit/../test_site_master_95/plugins/hello_world.ssh\n  is claimed to be handled by more than one plugin provider:\n  [com.googlesource.HelloSshPluginProvider@344476f1,\n  com.googlesource.HelloSshPluginProvider@7adce305]\n\nObviously the user stil doesn\u0027t know where the second HelloSshPluginProvider i coming from, from which plugin? That why you cannot skip that idiom that i suggested in my comment:\n\n  Joiner.on(\", \").join(new Function(): ServerPluginProvider -\u003e plugin-name);",
      "parentUuid": "a44db111_3b8b975b",
      "range": {
        "startLine": 26,
        "startChar": 8,
        "endLine": 26,
        "endChar": 27
      },
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04767d12_06717af2",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/PluginLoader.java",
        "patchSetId": 35
      },
      "lineNbr": 390,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-26T10:16:16Z",
      "side": 1,
      "message": "Nit: missing blank.",
      "range": {
        "startLine": 390,
        "startChar": 6,
        "endLine": 390,
        "endChar": 31
      },
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04303d7d_36ef3823",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/PluginLoader.java",
        "patchSetId": 35
      },
      "lineNbr": 390,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2014-06-27T08:10:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "04767d12_06717af2",
      "range": {
        "startLine": 390,
        "startChar": 6,
        "endLine": 390,
        "endChar": 31
      },
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04767d12_267676eb",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/PluginLoader.java",
        "patchSetId": 35
      },
      "lineNbr": 391,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-26T10:16:16Z",
      "side": 1,
      "message": "Can we be more specific here: a file can be valid plugin-file (\u0027reviewer.groovy\u0027), but groovy-provider plugin wasn\u0027t deployed, or something went wrong. E. g.:\n\n  \"No Plugin provider was found that handles this file format: foo.bar\"",
      "range": {
        "startLine": 391,
        "startChar": 17,
        "endLine": 391,
        "endChar": 44
      },
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a44db111_9bf66bf8",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/PluginLoader.java",
        "patchSetId": 35
      },
      "lineNbr": 391,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2014-06-27T08:10:00Z",
      "side": 1,
      "message": "That is not completely true then: the point is that the file is not a recognised plugin loadable from Gerrit and will be skipped.\n\nIt could be one of the tree checks that failed:\n- it is not a Jar plugin\n- it is not a JS plugin\n- it is not managed by any pluggable Plugin provider",
      "parentUuid": "04767d12_267676eb",
      "range": {
        "startLine": 391,
        "startChar": 17,
        "endLine": 391,
        "endChar": 44
      },
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04303d7d_168ebc6a",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/PluginLoader.java",
        "patchSetId": 35
      },
      "lineNbr": 391,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2014-06-27T23:29:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a44db111_9bf66bf8",
      "range": {
        "startLine": 391,
        "startChar": 17,
        "endLine": 391,
        "endChar": 44
      },
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04767d12_466b7202",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/PluginLoader.java",
        "patchSetId": 35
      },
      "lineNbr": 434,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-26T10:16:16Z",
      "side": 1,
      "message": "Why this is needed? name was already retrieved in rescan() method and passed to this method. Put a comment?",
      "range": {
        "startLine": 434,
        "startChar": 6,
        "endLine": 434,
        "endChar": 33
      },
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04303d7d_d6fcc4db",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/PluginLoader.java",
        "patchSetId": 35
      },
      "lineNbr": 434,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2014-06-27T08:10:00Z",
      "side": 1,
      "message": "True, will put a comment on that.\n\nThe problem is that the Gerrit scanner gives an \"initially guessed\" plugin name, but then it could be redefined by the ServerPluginProvider. This is the reason why after the initial guess, we need to get real one assigned to the plugin.",
      "parentUuid": "04767d12_466b7202",
      "range": {
        "startLine": 434,
        "startChar": 6,
        "endLine": 434,
        "endChar": 33
      },
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a44db111_db587334",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/PluginLoader.java",
        "patchSetId": 35
      },
      "lineNbr": 434,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2014-06-27T23:29:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "04303d7d_d6fcc4db",
      "range": {
        "startLine": 434,
        "startChar": 6,
        "endLine": 434,
        "endChar": 33
      },
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04767d12_66706eec",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/PluginLoader.java",
        "patchSetId": 35
      },
      "lineNbr": 549,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-26T10:16:16Z",
      "side": 1,
      "message": "Move this line loadExternalPlugin()? it is not clear why you ignore name variable that is passed to this method? See also my comment on line 688.",
      "range": {
        "startLine": 549,
        "startChar": 6,
        "endLine": 549,
        "endChar": 60
      },
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04303d7d_368bb85b",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/PluginLoader.java",
        "patchSetId": 35
      },
      "lineNbr": 549,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2014-06-27T23:29:13Z",
      "side": 1,
      "message": "Fair enough, it can be delegate to the actual loading of the external plugin.",
      "parentUuid": "04767d12_66706eec",
      "range": {
        "startLine": 549,
        "startChar": 6,
        "endLine": 549,
        "endChar": 60
      },
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6413b9dc_098b295b",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/PluginLoader.java",
        "patchSetId": 35
      },
      "lineNbr": 688,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-26T10:16:16Z",
      "side": 1,
      "message": "If this is not true any more for external plugins? You currently discard this value, and re-retrieve the real plugin name from externbalPluginprovider. Document it here, why it is needed.",
      "range": {
        "startLine": 688,
        "startChar": 2,
        "endLine": 688,
        "endChar": 53
      },
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04303d7d_f601c028",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/PluginLoader.java",
        "patchSetId": 35
      },
      "lineNbr": 688,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2014-06-27T08:10:00Z",
      "side": 1,
      "message": "It is an initial guessed name as described before. Will amend the comment.",
      "parentUuid": "6413b9dc_098b295b",
      "range": {
        "startLine": 688,
        "startChar": 2,
        "endLine": 688,
        "endChar": 53
      },
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a44db111_fb5d2f21",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/PluginLoader.java",
        "patchSetId": 35
      },
      "lineNbr": 688,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2014-06-27T23:29:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "04303d7d_f601c028",
      "range": {
        "startLine": 688,
        "startChar": 2,
        "endLine": 688,
        "endChar": 53
      },
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6413b9dc_e958d533",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/ServerPluginProvider.java",
        "patchSetId": 35
      },
      "lineNbr": 37,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-26T10:16:16Z",
      "side": 1,
      "message": "Document that MultipleProvidersForPluginException (or IAE) is thrown when more then one providers can handle passed plugin file. You\u0027ve mentioned it on getPluinName() below.",
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04303d7d_96f64cf8",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/ServerPluginProvider.java",
        "patchSetId": 35
      },
      "lineNbr": 37,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2014-06-27T08:10:00Z",
      "side": 1,
      "message": "Let\u0027s recap: the IAE is thrown when you call a method whilst you shouldn\u0027t (e.g. you know that a plugin cannot be handled but you call getName() or get() on that plugin).\n\nThe UniversalServerPluginProvider (which is incidentally a ServerPluginProvider but a very \"special\" one because it manages and orchestrate the plugin loading across providers) makes this extra check on the fact that more than one provider per plugin is forbidden.\n\nThat behaviour however is specific to the UniversalServerPluginProvider and NOT to the ServerPluginProvider extension point. This is why that exception (MultipleProvidersForPluginException) is a RunTimeException and is not documented here and is NOT public.\n\nDoes it make sense?",
      "parentUuid": "6413b9dc_e958d533",
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2442a1dc_9f2f33ae",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/ServerPluginProvider.java",
        "patchSetId": 35
      },
      "lineNbr": 68,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-06-26T20:46:26Z",
      "side": 1,
      "message": "Did we decide for/against encapsulating these arguments into a Description class?",
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04303d7d_b6fb48df",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/ServerPluginProvider.java",
        "patchSetId": 35
      },
      "lineNbr": 68,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2014-06-27T08:10:00Z",
      "side": 1,
      "message": "True, I missed that :-( apologies.\nWill include in the next patch-set.",
      "parentUuid": "2442a1dc_9f2f33ae",
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6413b9dc_c95d1122",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/UniversalServerPluginProvider.java",
        "patchSetId": 35
      },
      "lineNbr": 71,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-26T10:16:16Z",
      "side": 1,
      "message": "Alternatively: \"No provider found/loaded that handle this plugin format\"",
      "range": {
        "startLine": 71,
        "startChar": 12,
        "endLine": 71,
        "endChar": 51
      },
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04303d7d_d6584434",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/UniversalServerPluginProvider.java",
        "patchSetId": 35
      },
      "lineNbr": 71,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2014-06-27T23:29:13Z",
      "side": 1,
      "message": "Rephrased as:\n  \"No ServerPluginProvider found/loaded to handle plugin file \"\n            + srcFile.getAbsolutePath()",
      "parentUuid": "6413b9dc_c95d1122",
      "range": {
        "startLine": 71,
        "startChar": 12,
        "endLine": 71,
        "endChar": 51
      },
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2442a1dc_ff2aff9e",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/UniversalServerPluginProvider.java",
        "patchSetId": 35
      },
      "lineNbr": 76,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-06-26T20:46:26Z",
      "side": 1,
      "message": "I\u0027m not going to require another round of review jsut for this but I would find this easier to read if you just converted it to a list and checked the length.",
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04767d12_09d42d56",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/UniversalServerPluginProvider.java",
        "patchSetId": 35
      },
      "lineNbr": 76,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-26T20:55:20Z",
      "side": 1,
      "message": "I was tempting to make the same suggestion, but sought the same: to require another patch set of a change that already has 35 patch sets, is too much. But now when you are saying that, i would prefer to do that too. Double hasNext() below is looking odd.",
      "parentUuid": "2442a1dc_ff2aff9e",
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04303d7d_f65d4021",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/UniversalServerPluginProvider.java",
        "patchSetId": 35
      },
      "lineNbr": 76,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2014-06-27T23:29:13Z",
      "side": 1,
      "message": "True, look weird and not really readable :-) Have to upload another patch-set anyway, so why don\u0027t include this as well ? :-)",
      "parentUuid": "04767d12_09d42d56",
      "revId": "5a18657129ab108b5e2e8aafcf82b8ad15571fb8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}