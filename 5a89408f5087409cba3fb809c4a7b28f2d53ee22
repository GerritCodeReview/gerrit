{
  "comments": [
    {
      "key": {
        "uuid": "d9b1ab0e_9bff6bcf",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/Gerrit.java",
        "patchSetId": 1
      },
      "lineNbr": 383,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2014-04-08T05:11:49Z",
      "side": 1,
      "message": "Missing negation?",
      "revId": "5a89408f5087409cba3fb809c4a7b28f2d53ee22",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b90eb7b3_ead7a765",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/Gerrit.java",
        "patchSetId": 1
      },
      "lineNbr": 383,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2014-04-08T05:43:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d9b1ab0e_9bff6bcf",
      "revId": "5a89408f5087409cba3fb809c4a7b28f2d53ee22",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "99c5737b_f900b722",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/Gerrit.java",
        "patchSetId": 1
      },
      "lineNbr": 439,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2014-04-08T05:11:49Z",
      "side": 1,
      "message": "var s \u003d scripts[i].src",
      "range": {
        "startLine": 439,
        "startChar": 12,
        "endLine": 439,
        "endChar": 26
      },
      "revId": "5a89408f5087409cba3fb809c4a7b28f2d53ee22",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9dfeb54_abe1a940",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/Gerrit.java",
        "patchSetId": 1
      },
      "lineNbr": 439,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2014-04-08T05:43:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "99c5737b_f900b722",
      "range": {
        "startLine": 439,
        "startChar": 12,
        "endLine": 439,
        "endChar": 26
      },
      "revId": "5a89408f5087409cba3fb809c4a7b28f2d53ee22",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9b1ab0e_1b0c7b53",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/Gerrit.java",
        "patchSetId": 1
      },
      "lineNbr": 440,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2014-04-08T05:11:49Z",
      "side": 1,
      "message": "Are we opening ourselves to a security attack where the attacker writes their own HTML page and loads us with a script tag, e.g.:\n\n  \u003cscript src\u003d\"https://gerrit-review.googlesource.com/gerrit_ui/gerrit_ui.nocache.js?loadInIFrame\u003dtrue\"/\u003e",
      "range": {
        "startLine": 440,
        "startChar": 40,
        "endLine": 440,
        "endChar": 59
      },
      "revId": "5a89408f5087409cba3fb809c4a7b28f2d53ee22",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "99c5737b_19f36b12",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/Gerrit.java",
        "patchSetId": 1
      },
      "lineNbr": 440,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2014-04-08T05:11:49Z",
      "side": 1,
      "message": "s",
      "range": {
        "startLine": 440,
        "startChar": 17,
        "endLine": 440,
        "endChar": 31
      },
      "revId": "5a89408f5087409cba3fb809c4a7b28f2d53ee22",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9dfeb54_cbdcf58a",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/Gerrit.java",
        "patchSetId": 1
      },
      "lineNbr": 440,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2014-04-08T05:43:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "99c5737b_19f36b12",
      "range": {
        "startLine": 440,
        "startChar": 17,
        "endLine": 440,
        "endChar": 31
      },
      "revId": "5a89408f5087409cba3fb809c4a7b28f2d53ee22",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9dfeb54_ebd7b165",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/Gerrit.java",
        "patchSetId": 1
      },
      "lineNbr": 440,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2014-04-08T05:43:09Z",
      "side": 1,
      "message": "yes, this opens such possibility but everything that won\u0027t be hardcoded will open it. my first idea was to use HostPageData but it is initialized asynchronously later on.\n\nHostPageData are also taken from HTML file and they can also be overridden by attacker.\n\nIMO if attacker is able to poison DNS or client routing table then we are screwed any way.",
      "parentUuid": "d9b1ab0e_1b0c7b53",
      "range": {
        "startLine": 440,
        "startChar": 40,
        "endLine": 440,
        "endChar": 59
      },
      "revId": "5a89408f5087409cba3fb809c4a7b28f2d53ee22",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "99c5737b_f952f72e",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/Gerrit.java",
        "patchSetId": 1
      },
      "lineNbr": 440,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2014-04-08T19:18:41Z",
      "side": 1,
      "message": "DNS/routing table style of attacks are nearly impossible to prevent without DNSSEC and SSL. We can\u0027t do anything there.\n\nLast night I considered having a different build target in the BUCK file to create an optimized build of the UI without the iframe busting code. Users who really want to embed in frames could (rebuild?) Gerrit to use that permutation instead, but it wouldn\u0027t be in the stock release builds. \n\nCollabNet who wants to iframe embed would use that build, while those of us who really do not want iframe embedding would use the classical build.",
      "parentUuid": "d9dfeb54_ebd7b165",
      "range": {
        "startLine": 440,
        "startChar": 40,
        "endLine": 440,
        "endChar": 59
      },
      "revId": "5a89408f5087409cba3fb809c4a7b28f2d53ee22",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b90eb7b3_ea00c722",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/Gerrit.java",
        "patchSetId": 1
      },
      "lineNbr": 440,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2014-04-08T21:12:39Z",
      "side": 1,
      "message": "I also had this (crazy) idea of build property, but hosting separate build artifacts only for this small change doesn\u0027t feel right for me.\n\nAlso isn\u0027t it the same vulnerability as currently we have with HostPageData javascript map? This map contains Gerrit configuration options and \u0027xGerritAuth\u0027 key, this means that it also can be \u0027overridden\u0027 by attacker with custom HTML file.",
      "parentUuid": "99c5737b_f952f72e",
      "range": {
        "startLine": 440,
        "startChar": 40,
        "endLine": 440,
        "endChar": 59
      },
      "revId": "5a89408f5087409cba3fb809c4a7b28f2d53ee22",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9b1ab0e_3b0f374c",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/raw/HostPageServlet.java",
        "patchSetId": 1
      },
      "lineNbr": 150,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2014-04-08T05:11:49Z",
      "side": 1,
      "message": "else src +\u003d \"\u0026\".\n\nOtherwise you run the risk of shoving this into the content parameter and break the content parameter etag caching thing we were trying to do above.",
      "range": {
        "startLine": 148,
        "startChar": 6,
        "endLine": 150,
        "endChar": 7
      },
      "revId": "5a89408f5087409cba3fb809c4a7b28f2d53ee22",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}