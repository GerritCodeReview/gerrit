{
  "comments": [
    {
      "key": {
        "uuid": "UPEYjsn4",
        "filename": "Documentation/BUCK",
        "patchSetId": 14
      },
      "lineNbr": 52,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2013-05-03T13:00:11Z",
      "side": 1,
      "message": "The cp command on my Mac doesn\u0027t support the -l option.\nFull release build fails because of that:\n\n  cp: illegal option -- l\n  usage: cp [-R [-H | -L | -P]] [-fi | -n] [-apvX] source_file target_file\n         cp [-R [-H | -L | -P]] [-fi | -n] [-apvX] source_file ... target_directory\n  BUILD FAILED: com.facebook.buck.shell.CommandFailedException: Failed with 64: SRCS\u003d\u0027\n\nShawn, you also work on Mac, does it work for you? How?\n\nAnother bad thing is that, when this error happens, and the main buck process stops, the background processes will continue to run for some time:\n\n  [~/dev/buck ((5fd88c6...) *)]$ jps\n  36432 CompilePermsServer\n  35923 Compiler\n  35922 Compiler\n  36426 CompilePermsServer\n  36429 CompilePermsServer\n  36430 CompilePermsServer\n  15818 gerrit.war\n  36499 Jps\n  36431 CompilePermsServer",
      "revId": "5adbba2d71a77ca2649494bdc9cdb1d8b8c65e69",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UO.e0Ig0",
        "filename": "Documentation/BUCK",
        "patchSetId": 14
      },
      "lineNbr": 52,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2013-05-03T14:31:21Z",
      "side": 1,
      "message": "OK, I guess you installed the coreutils on your Mac?\nThe cp command from coreutils supports the -l option.\n\nAfter installing coreutils this issue is resolved.\n\nEither we have to find an alternative which works with the default OSX commands or document that coreutils must be installed on Mac.",
      "parentUuid": "UPEYjsn4",
      "revId": "5adbba2d71a77ca2649494bdc9cdb1d8b8c65e69",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UJhzRdSE",
        "filename": "Documentation/BUCK",
        "patchSetId": 14
      },
      "lineNbr": 52,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2013-05-03T14:33:40Z",
      "side": 1,
      "message": "Well cp -l is the same as ln -s, so I would just go with that (though see my other comments about trying to avoid ln for Windows compatibility).",
      "parentUuid": "UO.e0Ig0",
      "revId": "5adbba2d71a77ca2649494bdc9cdb1d8b8c65e69",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UO4exphs",
        "filename": "Documentation/BUCK",
        "patchSetId": 14
      },
      "lineNbr": 52,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2013-05-03T14:36:43Z",
      "side": 1,
      "message": "according to linux man page of cp, \u0027-l\u0027 will create hard link. \u0027ln -s\u0027 will crate symbolic link, so instead \u0027cp -l\u0027 simple \u0027ln\u0027 shouldz be used",
      "parentUuid": "UJhzRdSE",
      "revId": "5adbba2d71a77ca2649494bdc9cdb1d8b8c65e69",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UPmSgKoE",
        "filename": "Documentation/BUCK",
        "patchSetId": 14
      },
      "lineNbr": 52,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2013-05-04T00:54:49Z",
      "side": 1,
      "message": "cp -l removed and replaced with ln -s.",
      "parentUuid": "UO4exphs",
      "revId": "5adbba2d71a77ca2649494bdc9cdb1d8b8c65e69",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UO0cjrn4",
        "filename": "lib/DEFS",
        "patchSetId": 14
      },
      "lineNbr": 114,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2013-05-03T15:24:42Z",
      "side": 1,
      "message": "Sporadically, \u0027buck build :release\u0027 fails on my machine because the META-INF folder already exists and the mkdir fails.\n\nWould \u0027mkdir -p\u0027 make sense here?\nOr do we really want to fail if the META-INF already exists?",
      "revId": "5adbba2d71a77ca2649494bdc9cdb1d8b8c65e69",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UJlybfV0",
        "filename": "lib/DEFS",
        "patchSetId": 14
      },
      "lineNbr": 114,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2013-05-04T00:54:49Z",
      "side": 1,
      "message": "There shouldn\u0027t be failures because META-INF already exists. BUCK clears out $TMP before starting a genrule() and every genrule() is given a uniquely named $TMP.\n\nI think the failures you were seeing are caused by the zip file having a slightly newer timestamp than the MANIFEST.MF file and this zip -qu not updating. I\u0027ve worked around this by performing the cp of the zip to $OUT first before we muck with the MANIFEST.MF.",
      "parentUuid": "UO0cjrn4",
      "revId": "5adbba2d71a77ca2649494bdc9cdb1d8b8c65e69",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UPsQLHt4",
        "filename": "lib/gwt/compiler.py",
        "patchSetId": 14
      },
      "lineNbr": 31,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2013-05-02T15:11:16Z",
      "side": 1,
      "message": "might be better to use os.path.join here?",
      "revId": "5adbba2d71a77ca2649494bdc9cdb1d8b8c65e69",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UJnyguYA",
        "filename": "lib/gwt/compiler.py",
        "patchSetId": 14
      },
      "lineNbr": 31,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2013-05-04T00:54:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "UPsQLHt4",
      "revId": "5adbba2d71a77ca2649494bdc9cdb1d8b8c65e69",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UPOYzvsk",
        "filename": "local.properties",
        "patchSetId": 14
      },
      "lineNbr": 1,
      "author": {
        "id": 1010404
      },
      "writtenOn": "2013-05-03T23:33:08Z",
      "side": 1,
      "message": "This is no longer needed (yay!)",
      "revId": "5adbba2d71a77ca2649494bdc9cdb1d8b8c65e69",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UJhyl9Y8",
        "filename": "local.properties",
        "patchSetId": 14
      },
      "lineNbr": 1,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2013-05-04T00:54:49Z",
      "side": 1,
      "message": "Done (file dropped from change).",
      "parentUuid": "UPOYzvsk",
      "revId": "5adbba2d71a77ca2649494bdc9cdb1d8b8c65e69",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}