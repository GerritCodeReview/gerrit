{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "6ca3b1a8_dbe407b0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1012457
      },
      "writtenOn": "2023-09-14T20:50:20Z",
      "side": 1,
      "message": "@poucet@google.com Would you be willing to help review this update to the rebase UI?",
      "revId": "5af964c85e1078230f2143a1464ae4a08d4f5b20",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a335a798_f41af03b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2023-09-27T08:40:35Z",
      "side": 1,
      "message": "Could you include screenshots in the commitmessage?",
      "revId": "5af964c85e1078230f2143a1464ae4a08d4f5b20",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1732e370_557d5a8d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2023-09-27T08:41:44Z",
      "side": 1,
      "message": "Frank has graciously agreed to take this over.",
      "revId": "5af964c85e1078230f2143a1464ae4a08d4f5b20",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2eeb0134_b32feeed",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1119195
      },
      "writtenOn": "2023-09-27T10:00:45Z",
      "side": 1,
      "message": "unresolved",
      "parentUuid": "a335a798_f41af03b",
      "revId": "5af964c85e1078230f2143a1464ae4a08d4f5b20",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b2030fc8_825d2e13",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1119195
      },
      "writtenOn": "2023-09-27T11:58:59Z",
      "side": 1,
      "message": "-2 temporarily while issue is sorted out. Similar Change 387634 broke the UI for logged out users.",
      "revId": "5af964c85e1078230f2143a1464ae4a08d4f5b20",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0b28c2cc_9512e0d0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1156394
      },
      "writtenOn": "2023-09-28T06:43:16Z",
      "side": 1,
      "message": "\u003e Similar Change 387634 broke the UI for logged out users.\n* This change is completely different from Change 387634. However, it also handles the case for logged out user and doesn\u0027t break the UI for logged out user as well.",
      "parentUuid": "b2030fc8_825d2e13",
      "revId": "5af964c85e1078230f2143a1464ae4a08d4f5b20",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "48532405_92679183",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1119195
      },
      "writtenOn": "2023-09-28T07:50:52Z",
      "side": 1,
      "message": "I see, sorry for my confusion. I initially thought Change 377155 caused errors on our release due to the simultaneous FE + BE changes, and that the same problem would happen here.\n\nIt looks like actually the real issue on Change 377155 was [here](https://gerrit-review.googlesource.com/c/gerrit/+/377155/7/polygerrit-ui/app/elements/change/gr-confirm-cherrypick-dialog/gr-confirm-cherrypick-dialog.ts#697) where `getAccountEmails` gets a 403 error for logged out users and we show it to the user in a popup.\n\nThis Change 376934 does the same kind of `getAccountEmails` call, but has added protections [here](https://gerrit-review.git.corp.google.com/c/gerrit/+/376934/7/polygerrit-ui/app/services/gr-rest-api/gr-rest-api-impl.ts#794) to prevent the request from going out when the user is logged out.\n\nTherefore this Change 376934 seems okay but Change 377155 needs this check added in `getAccountEmails` before it can be un-reverted.\n\nLet me know if you don\u0027t think this is correct.",
      "parentUuid": "0b28c2cc_9512e0d0",
      "revId": "5af964c85e1078230f2143a1464ae4a08d4f5b20",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a3727d75_f210e9d6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1156394
      },
      "writtenOn": "2023-09-28T09:24:29Z",
      "side": 1,
      "message": "\u003e Therefore this Change 376934 seems okay but Change 377155 needs this check added \n in getAccountEmails before it can be un-reverted.\n * I acknowledge this.\n\n\u003e Let me know if you don\u0027t think this is correct.\n * your catch is absolutely correct.",
      "parentUuid": "48532405_92679183",
      "revId": "5af964c85e1078230f2143a1464ae4a08d4f5b20",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7f9e837d_467b1091",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1119195
      },
      "writtenOn": "2023-09-28T09:56:44Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a3727d75_f210e9d6",
      "revId": "5af964c85e1078230f2143a1464ae4a08d4f5b20",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "64405740_ca5b9412",
        "filename": "polygerrit-ui/app/models/change/change-model.ts",
        "patchSetId": 7
      },
      "lineNbr": 257,
      "author": {
        "id": 1119195
      },
      "writtenOn": "2023-09-27T10:00:45Z",
      "side": 1,
      "message": "this was recently added already, right? Can you rebase to make it more clear",
      "range": {
        "startLine": 257,
        "startChar": 18,
        "endLine": 257,
        "endChar": 33
      },
      "revId": "5af964c85e1078230f2143a1464ae4a08d4f5b20",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c4d330b0_4997897d",
        "filename": "polygerrit-ui/app/models/change/change-model.ts",
        "patchSetId": 7
      },
      "lineNbr": 257,
      "author": {
        "id": 1156394
      },
      "writtenOn": "2023-09-28T16:09:34Z",
      "side": 1,
      "message": "Rebased the change on master",
      "parentUuid": "64405740_ca5b9412",
      "range": {
        "startLine": 257,
        "startChar": 18,
        "endLine": 257,
        "endChar": 33
      },
      "revId": "5af964c85e1078230f2143a1464ae4a08d4f5b20",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "11ff5e4f_48b72c8a",
        "filename": "polygerrit-ui/app/services/gr-rest-api/gr-rest-api-impl.ts",
        "patchSetId": 7
      },
      "lineNbr": 820,
      "author": {
        "id": 1119195
      },
      "writtenOn": "2023-09-27T10:00:45Z",
      "side": 1,
      "message": "return undefined; instead of return; in all places\n```suggestion\n      } else return undefined;\n    });\n  }\n\n  getAccountEmailsFor(email: string) {\n    return this.getLoggedIn()\n      .then(isLoggedIn \u003d\u003e {\n        if (isLoggedIn) {\n          return this.getAccountCapabilities();\n        } else {\n          return undefined;\n        }\n      })\n      .then((capabilities: AccountCapabilityInfo | undefined) \u003d\u003e {\n        if (capabilities \u0026\u0026 capabilities.viewSecondaryEmails) {\n          return this._fetchSharedCacheURL({\n            url: \u0027/accounts/\u0027 + email + \u0027/emails\u0027,\n            reportUrlAsIs: true,\n          }) as Promise\u003cEmailInfo[] | undefined\u003e;\n        }\n        return undefined;\n```",
      "range": {
        "startLine": 800,
        "startChar": 13,
        "endLine": 820,
        "endChar": 15
      },
      "revId": "5af964c85e1078230f2143a1464ae4a08d4f5b20",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3585e9a5_80633443",
        "filename": "polygerrit-ui/app/services/gr-rest-api/gr-rest-api-impl.ts",
        "patchSetId": 7
      },
      "lineNbr": 820,
      "author": {
        "id": 1156394
      },
      "writtenOn": "2023-09-28T16:09:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "11ff5e4f_48b72c8a",
      "range": {
        "startLine": 800,
        "startChar": 13,
        "endLine": 820,
        "endChar": 15
      },
      "revId": "5af964c85e1078230f2143a1464ae4a08d4f5b20",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}