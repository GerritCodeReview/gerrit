{
  "comments": [
    {
      "key": {
        "uuid": "41400191_f9e3efb8",
        "filename": "java/com/google/gerrit/server/index/change/ChangeField.java",
        "patchSetId": 4
      },
      "lineNbr": 294,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2020-03-25T08:51:38Z",
      "side": 1,
      "message": ".stored()\n\nI assume that you want to recover the attention set when loading a change solely from the index (that\u0027s what happens on dashboards). Using .stored() makes it so that you can actually read these integers back.\n\nFor that, the index implementation needs to call ChangeData#setAttentionSet manually. You can look at LuceneChangeIndex#toChangeData for examples.",
      "range": {
        "startLine": 294,
        "startChar": 48,
        "endLine": 294,
        "endChar": 49
      },
      "revId": "5da89a322968ac70de83861852a87418bcded395",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eabd2939_23bd5ca2",
        "filename": "java/com/google/gerrit/server/index/change/ChangeField.java",
        "patchSetId": 4
      },
      "lineNbr": 294,
      "author": {
        "id": 1083042
      },
      "writtenOn": "2020-03-26T12:13:29Z",
      "side": 1,
      "message": "Actually, I think for the dashboard it\u0027s sufficient to highlight the changes that include the current user in the attention set. We don\u0027t need to know who else is in the attention set. Or am I overlooking something?",
      "parentUuid": "41400191_f9e3efb8",
      "range": {
        "startLine": 294,
        "startChar": 48,
        "endLine": 294,
        "endChar": 49
      },
      "revId": "5da89a322968ac70de83861852a87418bcded395",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a9864e44_e2a623f2",
        "filename": "java/com/google/gerrit/server/index/change/ChangeField.java",
        "patchSetId": 4
      },
      "lineNbr": 294,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2020-03-26T12:35:29Z",
      "side": 1,
      "message": "The other day, Ben wanted to surface reviewers and votes in dashboards (and maybe bold attention set members? - that part I am making up right now).\n\nMaking this stored is extremely cheap for us, so I\u0027d just do it now to be safe in case we need it. If we don\u0027t do that and need it later, then we\u0027d have to do another index upgrade which for us on googlesource.com tags 1-3 eng days.",
      "parentUuid": "eabd2939_23bd5ca2",
      "range": {
        "startLine": 294,
        "startChar": 48,
        "endLine": 294,
        "endChar": 49
      },
      "revId": "5da89a322968ac70de83861852a87418bcded395",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1c1e9309_9f2dd528",
        "filename": "java/com/google/gerrit/server/index/change/ChangeField.java",
        "patchSetId": 4
      },
      "lineNbr": 294,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2020-03-26T12:37:20Z",
      "side": 1,
      "message": "... to elaborate more on this: All fields that are not stored can\u0027t be exposed in ChangeJson trivially. They have to be marked to require lazyload (we need to open the repo to serve it) and by that they have to be gated behind a ListChangeOption.",
      "parentUuid": "a9864e44_e2a623f2",
      "range": {
        "startLine": 294,
        "startChar": 48,
        "endLine": 294,
        "endChar": 49
      },
      "revId": "5da89a322968ac70de83861852a87418bcded395",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0257076c_bde6b8bf",
        "filename": "java/com/google/gerrit/server/index/change/ChangeField.java",
        "patchSetId": 4
      },
      "lineNbr": 475,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2020-03-25T08:51:38Z",
      "side": 1,
      "message": "nit: we always import toImmutableX statically",
      "range": {
        "startLine": 475,
        "startChar": 17,
        "endLine": 475,
        "endChar": 29
      },
      "revId": "5da89a322968ac70de83861852a87418bcded395",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "79722685_10b88281",
        "filename": "java/com/google/gerrit/server/index/change/ChangeField.java",
        "patchSetId": 4
      },
      "lineNbr": 475,
      "author": {
        "id": 1083042
      },
      "writtenOn": "2020-03-26T12:13:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0257076c_bde6b8bf",
      "range": {
        "startLine": 475,
        "startChar": 17,
        "endLine": 475,
        "endChar": 29
      },
      "revId": "5da89a322968ac70de83861852a87418bcded395",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "31623dfe_0755ac7f",
        "filename": "java/com/google/gerrit/server/query/change/ChangeQueryBuilder.java",
        "patchSetId": 4
      },
      "lineNbr": 139,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2020-03-25T08:51:38Z",
      "side": 1,
      "message": "Please add documentation for this operator",
      "revId": "5da89a322968ac70de83861852a87418bcded395",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9c7719fd_2104857c",
        "filename": "java/com/google/gerrit/server/query/change/ChangeQueryBuilder.java",
        "patchSetId": 4
      },
      "lineNbr": 139,
      "author": {
        "id": 1083042
      },
      "writtenOn": "2020-03-26T12:13:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "31623dfe_0755ac7f",
      "revId": "5da89a322968ac70de83861852a87418bcded395",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2964526a_5d46a5dd",
        "filename": "java/com/google/gerrit/server/query/change/ChangeQueryBuilder.java",
        "patchSetId": 4
      },
      "lineNbr": 1057,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2020-03-25T08:51:38Z",
      "side": 1,
      "message": "Please add a check here if the index schema has this field (\u003d we have upgraded to a Gerrit version that has the field). \n\nargs.index.getSchema().hasField(ChangeField.ATTENTION)\n\nThrow QueryParseException if not.",
      "revId": "5da89a322968ac70de83861852a87418bcded395",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3262d590_27c84e17",
        "filename": "java/com/google/gerrit/server/query/change/ChangeQueryBuilder.java",
        "patchSetId": 4
      },
      "lineNbr": 1057,
      "author": {
        "id": 1083042
      },
      "writtenOn": "2020-03-26T12:13:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2964526a_5d46a5dd",
      "revId": "5da89a322968ac70de83861852a87418bcded395",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "56e87e1f_8b11142d",
        "filename": "java/com/google/gerrit/server/query/change/ChangeQueryBuilder.java",
        "patchSetId": 4
      },
      "lineNbr": 1066,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2020-03-25T08:51:38Z",
      "side": 1,
      "message": "optional:\n\nwho.stream().map(AttentionSetPredicate::new).collect(toImmutableList());",
      "range": {
        "startLine": 1066,
        "startChar": 24,
        "endLine": 1066,
        "endChar": 25
      },
      "revId": "5da89a322968ac70de83861852a87418bcded395",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0fed60a4_34970c0e",
        "filename": "java/com/google/gerrit/server/query/change/ChangeQueryBuilder.java",
        "patchSetId": 4
      },
      "lineNbr": 1066,
      "author": {
        "id": 1083042
      },
      "writtenOn": "2020-03-26T12:13:29Z",
      "side": 1,
      "message": "Nice, I didn\u0027t know about the ctor::new syntax. Done.",
      "parentUuid": "56e87e1f_8b11142d",
      "range": {
        "startLine": 1066,
        "startChar": 24,
        "endLine": 1066,
        "endChar": 25
      },
      "revId": "5da89a322968ac70de83861852a87418bcded395",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d81a7b14_9532c049",
        "filename": "java/com/google/gerrit/server/util/AttentionSetUtil.java",
        "patchSetId": 4
      },
      "lineNbr": 11,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2020-03-25T08:51:38Z",
      "side": 1,
      "message": "nit: I had a hard time with the name.\n\nHow about \"additionsOnly\"",
      "range": {
        "startLine": 11,
        "startChar": 49,
        "endLine": 11,
        "endChar": 59
      },
      "revId": "5da89a322968ac70de83861852a87418bcded395",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cbc5d335_bbe93683",
        "filename": "java/com/google/gerrit/server/util/AttentionSetUtil.java",
        "patchSetId": 4
      },
      "lineNbr": 11,
      "author": {
        "id": 1083042
      },
      "writtenOn": "2020-03-26T12:13:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d81a7b14_9532c049",
      "range": {
        "startLine": 11,
        "startChar": 49,
        "endLine": 11,
        "endChar": 59
      },
      "revId": "5da89a322968ac70de83861852a87418bcded395",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5632b47c_c68456c2",
        "filename": "javatests/com/google/gerrit/server/query/change/LuceneQueryChangesLatestIndexVersionTest.java",
        "patchSetId": 4
      },
      "lineNbr": 26,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2020-03-25T08:51:38Z",
      "side": 1,
      "message": "Please move this test to AbstractQueryChangesTest\n\nyou can use\n\n  assume().that(getSchema().hasField(ChangeField.ATTENTION)).isTrue();\n\nto make it so that the test gets skipped on older versions",
      "range": {
        "startLine": 26,
        "startChar": 62,
        "endLine": 26,
        "endChar": 84
      },
      "revId": "5da89a322968ac70de83861852a87418bcded395",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "778532cf_0dd3cd0f",
        "filename": "javatests/com/google/gerrit/server/query/change/LuceneQueryChangesLatestIndexVersionTest.java",
        "patchSetId": 4
      },
      "lineNbr": 26,
      "author": {
        "id": 1083042
      },
      "writtenOn": "2020-03-26T12:13:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5632b47c_c68456c2",
      "range": {
        "startLine": 26,
        "startChar": 62,
        "endLine": 26,
        "endChar": 84
      },
      "revId": "5da89a322968ac70de83861852a87418bcded395",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}