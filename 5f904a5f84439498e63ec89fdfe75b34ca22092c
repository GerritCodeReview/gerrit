{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "23644d68_36f73198",
        "filename": "java/com/google/gerrit/httpd/gitweb/GitwebServlet.java",
        "patchSetId": 5
      },
      "lineNbr": 670,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2022-11-20T10:16:17Z",
      "side": 1,
      "message": "What if the project name contained \u0027/\u0027 in its name?\n\nExample: Project.NameKey \u003d foo/bar and the projectroot\u003d/var/git\n\nThen the repository\u0027s directory would be:\n/var/git/foo/bar.git\n\nand its parent directory would be:\n/var/git/foo\n\nwhilst the projectroot should be /var/git",
      "range": {
        "startLine": 670,
        "startChar": 32,
        "endLine": 670,
        "endChar": 44
      },
      "revId": "5f904a5f84439498e63ec89fdfe75b34ca22092c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f9428931_cdcd792c",
        "filename": "java/com/google/gerrit/httpd/gitweb/GitwebServlet.java",
        "patchSetId": 5
      },
      "lineNbr": 670,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2022-11-20T12:30:56Z",
      "side": 1,
      "message": "Oh yes, you remember my first attempt to address the original issue in change 341180? May be we should re-consider and just do it:\n\n```\n site.resolve(cfg.getString(\"gerrit\", null, \"basePath\"));\n```\n\nI uploaded parch set to deduce base path also for nested repository name.\n\nDone.",
      "parentUuid": "23644d68_36f73198",
      "range": {
        "startLine": 670,
        "startChar": 32,
        "endLine": 670,
        "endChar": 44
      },
      "revId": "5f904a5f84439498e63ec89fdfe75b34ca22092c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9930c039_83c02978",
        "filename": "java/com/google/gerrit/httpd/gitweb/GitwebServlet.java",
        "patchSetId": 5
      },
      "lineNbr": 670,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2022-11-21T07:07:23Z",
      "side": 1,
      "message": "I still non convinced that the approach to deduce the gerrit.basePath is the right one.\n\nThe valid point in the alternative approach (change 341180) was that we should use interface provided by gerrit.\n\nIt should be resolved now, see change 352394, where I extracted GitBasePathprovider and used it in all places, also in GitwebServlet.\n\nMy suggestion would be: to avoid further regressions on very stable branches, we could restore the original approach from change 341180, and merge it up to the latest supported stable branch: stable-3.5 and replace it with backported refactoring: change 352394.\n\nWDYT?",
      "parentUuid": "f9428931_cdcd792c",
      "range": {
        "startLine": 670,
        "startChar": 32,
        "endLine": 670,
        "endChar": 44
      },
      "revId": "5f904a5f84439498e63ec89fdfe75b34ca22092c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2f5c8f31_5f453ad5",
        "filename": "java/com/google/gerrit/httpd/gitweb/GitwebServlet.java",
        "patchSetId": 5
      },
      "lineNbr": 670,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2022-12-14T21:33:58Z",
      "side": 1,
      "message": "@luca I have cleaned the change from all unnecessary modifications so that it is even less invasive",
      "parentUuid": "9930c039_83c02978",
      "range": {
        "startLine": 670,
        "startChar": 32,
        "endLine": 670,
        "endChar": 44
      },
      "revId": "5f904a5f84439498e63ec89fdfe75b34ca22092c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b60e4ee6_13c26f58",
        "filename": "javatests/com/google/gerrit/httpd/gitweb/GitwebServletTest.java",
        "patchSetId": 5
      },
      "lineNbr": 79,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2022-11-20T10:16:17Z",
      "side": 1,
      "message": "The test name says that it should be the base path, but the body is asserting the parent directory of the repository dir, which is something different.",
      "range": {
        "startLine": 79,
        "startChar": 14,
        "endLine": 79,
        "endChar": 38
      },
      "revId": "5f904a5f84439498e63ec89fdfe75b34ca22092c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c3fde196_48df9b7e",
        "filename": "javatests/com/google/gerrit/httpd/gitweb/GitwebServletTest.java",
        "patchSetId": 5
      },
      "lineNbr": 79,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2022-11-20T12:30:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b60e4ee6_13c26f58",
      "range": {
        "startLine": 79,
        "startChar": 14,
        "endLine": 79,
        "endChar": 38
      },
      "revId": "5f904a5f84439498e63ec89fdfe75b34ca22092c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}