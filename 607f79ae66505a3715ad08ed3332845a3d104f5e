{
  "comments": [
    {
      "key": {
        "uuid": "6a3aa0c6_11e50c44",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/registration/DynamicItem.java",
        "patchSetId": 6
      },
      "lineNbr": 72,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2014-05-01T00:01:22Z",
      "side": 1,
      "message": "Here you give a code sample of itemOf() that does not take a Provider\u003cT\u003e, yet the method signature you are documenting requires a Provider\u003cT\u003e. Confused.",
      "revId": "607f79ae66505a3715ad08ed3332845a3d104f5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6a6380f2_09e5e943",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/registration/DynamicItem.java",
        "patchSetId": 6
      },
      "lineNbr": 72,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2014-05-01T07:04:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6a3aa0c6_11e50c44",
      "revId": "607f79ae66505a3715ad08ed3332845a3d104f5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4a7cfcf0_e86513e9",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/registration/DynamicItem.java",
        "patchSetId": 6
      },
      "lineNbr": 72,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-05-09T09:27:24Z",
      "side": 1,
      "message": "Have you forgotten to upload a new ps?",
      "parentUuid": "6a6380f2_09e5e943",
      "revId": "607f79ae66505a3715ad08ed3332845a3d104f5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4a7cfcf0_08c0a761",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/registration/DynamicItem.java",
        "patchSetId": 6
      },
      "lineNbr": 72,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2014-05-09T09:31:36Z",
      "side": 1,
      "message": "No I did not forgot. I\u0027ve applied comments in my local copy and I\u0027m planning to rework it to be less provider-ish. Then will push new patch set",
      "parentUuid": "4a7cfcf0_e86513e9",
      "revId": "607f79ae66505a3715ad08ed3332845a3d104f5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6a3aa0c6_f1e9681e",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/registration/DynamicItem.java",
        "patchSetId": 6
      },
      "lineNbr": 120,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2014-05-01T00:01:22Z",
      "side": 1,
      "message": "Missing @param provider",
      "revId": "607f79ae66505a3715ad08ed3332845a3d104f5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6a6380f2_29e0ad33",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/registration/DynamicItem.java",
        "patchSetId": 6
      },
      "lineNbr": 120,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2014-05-01T07:04:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6a3aa0c6_f1e9681e",
      "revId": "607f79ae66505a3715ad08ed3332845a3d104f5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6a3aa0c6_b1f3e00e",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/registration/DynamicItem.java",
        "patchSetId": 6
      },
      "lineNbr": 151,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2014-05-01T00:01:22Z",
      "side": 1,
      "message": "Maybe instead DynamicItem\u003cT\u003e should implement Provider\u003cT\u003e as the get() method is the same signature? Then we don\u0027t need this wrapper. Someone that needs to accept either could just take Provider\u003cT\u003e, assuming it wasn\u0027t being supplied by Guice.\n\nThis of course leaves the question, why did we add DynamicItem\u003cT\u003e and not just use Provider\u003cT\u003e with the Provider implementation looking like DynamicItem? I don\u0027t know. This was maybe a mistake.",
      "revId": "607f79ae66505a3715ad08ed3332845a3d104f5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6a3aa0c6_5104b435",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/registration/DynamicItem.java",
        "patchSetId": 6
      },
      "lineNbr": 151,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2014-05-01T00:05:57Z",
      "side": 1,
      "message": "My problems with the change are primarily around the documentation issues in the other comments I left. This is just speculation on how we could have done things differently.",
      "parentUuid": "6a3aa0c6_b1f3e00e",
      "revId": "607f79ae66505a3715ad08ed3332845a3d104f5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6a6380f2_49dbe187",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/registration/DynamicItem.java",
        "patchSetId": 6
      },
      "lineNbr": 151,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2014-05-01T07:04:51Z",
      "side": 1,
      "message": "Yes in case of SecureStore, \u0027DynamicItem\u003cT\u003e with provider\u0027 feels like hidden Provider\u003cT\u003e implementation.\n\nTo make it different, provider should have list of current bindings in \u0027get\u0027 method so that it can choose one. Currently SecureStoreProvider is calculating that list on his own.\n\nBut this idea is only for making \u0027DynamicItem\u003cT\u003e with provider\u0027 lest Provider\u003cT\u003e-ich.",
      "parentUuid": "6a3aa0c6_b1f3e00e",
      "revId": "607f79ae66505a3715ad08ed3332845a3d104f5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff23b49a_56225498",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/registration/DynamicItem.java",
        "patchSetId": 6
      },
      "lineNbr": 151,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2014-05-20T15:24:49Z",
      "side": 1,
      "message": "Id did small experiment to make DynamicItem-with-provider less provider-ish.\n\nI\u0027ve created additional interface:\n\n  public interface DynamicItemSelector\u003cT\u003e {\n    public Binding\u003cT\u003e select(List\u003cBinding\u003cT\u003e\u003e bindings);\n  }\n\nWith default implementation to preserve current behavior of DynamicItem:\n\n  public class LastBoundImplSelector\u003cT\u003e implements DynamicItemSelector\u003cT\u003e {\n\n    @Override\n    public Binding\u003cT\u003e select(List\u003cBinding\u003cT\u003e\u003e bindings) {\n      return bindings.get(0);\n    }\n  }\n\nAnd I realize that there is not much values to inspect on Binding\u003c?\u003e class. None of them would be used by SecureStoreItemSelector class with will still use value from gerrit.config and scan given plugin JAR file.\n\nIMO this change is adding additional unnecessary complexity. Personally would rather go with plain Provider\u003cSecureStore\u003e approach. Since it is more elegant and require less boilerplate code. We can revisit DynamicItem\u003cT\u003e later on when it would be really needed.",
      "parentUuid": "6a3aa0c6_5104b435",
      "revId": "607f79ae66505a3715ad08ed3332845a3d104f5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}