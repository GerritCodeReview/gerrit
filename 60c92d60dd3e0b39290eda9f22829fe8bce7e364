{
  "comments": [
    {
      "key": {
        "uuid": "e5716354_6d0f354f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 10,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-04-27T17:38:30Z",
      "side": 1,
      "message": "They can be easily induced from the label names:\n\n Code-Review: CR\n Pretty-Cool-And-Sexy: PCAS\n My-Favorite-Score: MFS\n\nAppend first letters from words connected with \u0027-\u0027 character:\n\n  StringBuilder abbrev \u003d new StringBuilder();\n  for (String t : name.split(\"-\")) {\n    abbrev.append(t.substring(0, 1).toUpperCase());\n  }",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 18
      },
      "revId": "60c92d60dd3e0b39290eda9f22829fe8bce7e364",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "656f3377_e950f51c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 10,
      "author": {
        "id": 1012623
      },
      "writtenOn": "2014-04-27T20:49:42Z",
      "side": 1,
      "message": "It should not be induced from label names if an \u0027abbreviation\u0027 is specified for that label.",
      "parentUuid": "e5716354_6d0f354f",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 18
      },
      "revId": "60c92d60dd3e0b39290eda9f22829fe8bce7e364",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c57e1f25_8cf707f6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-04-27T17:38:30Z",
      "side": 1,
      "message": "It\u0027s already there ;-) They are inducde from actual label names. For sure we dont want to bloat the response by sende both: regular names + abbreviation for each and every label in every change (prefixed by \"abbreviation\" key).",
      "range": {
        "startLine": 12,
        "startChar": 21,
        "endLine": 12,
        "endChar": 59
      },
      "revId": "60c92d60dd3e0b39290eda9f22829fe8bce7e364",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "856a6764_2a203fb6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1012623
      },
      "writtenOn": "2014-04-27T20:49:42Z",
      "side": 1,
      "message": "Yes abbreviation is there, but it\u0027s only the default abbreviation, _not_ the one specified from \u0027abbreviation\u0027 of label configuration in project.config\n\nIf an admin overwrites the default abbreviation with something completely different (using the \u0027abbreviation\u0027 label setting) then the label should be set to the value that the admin sets in project.config.  This use case is described the bug referenced by this change.\n\nExample:\n\n[label \"My-Favorite-Score\"]\n   abbreviation \u003d M\n\n\nIf above is set for a the label then only \u0027M\u0027 should appear in the dashboards, not \u0027MFS\u0027.",
      "parentUuid": "c57e1f25_8cf707f6",
      "range": {
        "startLine": 12,
        "startChar": 21,
        "endLine": 12,
        "endChar": 59
      },
      "revId": "60c92d60dd3e0b39290eda9f22829fe8bce7e364",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c57e1f25_ec024b29",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/common/LabelInfo.java",
        "patchSetId": 2
      },
      "lineNbr": 31,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-04-27T17:38:30Z",
      "side": 1,
      "message": "Cou forgot to extend documentation:\n\n rest-api-changes.txt:The `LabelInfo`\n entity contains information about a label on a change.\n\nIt should ale be mentioned, why which options LABELS, or DETAILED_LABELS the abbreviation should be filled.",
      "range": {
        "startLine": 31,
        "startChar": 2,
        "endLine": 31,
        "endChar": 28
      },
      "revId": "60c92d60dd3e0b39290eda9f22829fe8bce7e364",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "656f3377_a94afd66",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/common/LabelInfo.java",
        "patchSetId": 2
      },
      "lineNbr": 31,
      "author": {
        "id": 1012623
      },
      "writtenOn": "2014-04-27T20:49:42Z",
      "side": 1,
      "message": "didn\u0027t do it on this patch because it\u0027s still a draft, but will do on following patch.",
      "parentUuid": "c57e1f25_ec024b29",
      "range": {
        "startLine": 31,
        "startChar": 2,
        "endLine": 31,
        "endChar": 28
      },
      "revId": "60c92d60dd3e0b39290eda9f22829fe8bce7e364",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "856a6764_6ae8771a",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/changes/ChangeTable2.java",
        "patchSetId": 2
      },
      "lineNbr": 188,
      "author": {
        "id": 1012623
      },
      "writtenOn": "2014-04-27T15:41:39Z",
      "side": 1,
      "message": "How do I get the LabelInfo.abbreviation from here?",
      "revId": "60c92d60dd3e0b39290eda9f22829fe8bce7e364",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e5716354_adfc3dda",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/changes/ChangeTable2.java",
        "patchSetId": 2
      },
      "lineNbr": 188,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-04-27T17:38:30Z",
      "side": 1,
      "message": "You can\u0027t, because you havn\u0027t put it there. But even i you would see my comment in ChangeJson.java, I don\u0027t think we want it. Because this would unnecessary bloat the response. Note, that you would send the abbreviation for each and every label in response: a no go: [1].\n\nHowever, i think we could replace Label name with abbreviation. Do we need it on change list screen?\n\n[1] http://paste.openstack.org/show/77263/",
      "parentUuid": "856a6764_6ae8771a",
      "revId": "60c92d60dd3e0b39290eda9f22829fe8bce7e364",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "856a6764_8a45ab59",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/changes/ChangeTable2.java",
        "patchSetId": 2
      },
      "lineNbr": 188,
      "author": {
        "id": 1012623
      },
      "writtenOn": "2014-04-27T20:49:42Z",
      "side": 1,
      "message": "Yeah, i see your point about bloating the response.  I added it to the REST endpoint because I wanted to use it down the line, like in this situation where I want to display the abbreviation in the dashboard column.  The only REST endpoint that shows labels was change detail so i just added abbreviation it to that because it\u0027s the only endpoint that made sense to add it to.\n\nI think your suggestion about replacing the label name with the abbreviation might work.  I wanted to avoid that because I was thinking that it might be risky, bad side affects to other things that depend on label name being (\u0027Code-Review\u0027 and not \u0027CR\u0027).  Now that you\u0027ve suggested it I\u0027ll give it a try :)",
      "parentUuid": "e5716354_adfc3dda",
      "revId": "60c92d60dd3e0b39290eda9f22829fe8bce7e364",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6ad620dd_7129d8a7",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/changes/ChangeTable2.java",
        "patchSetId": 2
      },
      "lineNbr": 188,
      "author": {
        "id": 1012623
      },
      "writtenOn": "2014-05-05T20:45:25Z",
      "side": 1,
      "message": "Thinking about this again I don\u0027t think it makes sense to replace labels with abbreviations.  There are times when you want to reference both \u0027Code-Review\u0027 and \u0027CR\u0027.  I think appending the abbreviation from project.config to the \u0027abbrev\u0027 variable is the correct thing to do.  I just don\u0027t know how to plumb the abbreviation so that it can be referenced here.  The way I see that it can be done is from the json, but unfortunately I don\u0027t understand it enough to make it work.",
      "parentUuid": "856a6764_8a45ab59",
      "revId": "60c92d60dd3e0b39290eda9f22829fe8bce7e364",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6ad620dd_91d79cf7",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/changes/ChangeTable2.java",
        "patchSetId": 2
      },
      "lineNbr": 188,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-05-06T20:32:15Z",
      "side": 1,
      "message": "Agreed we don\u0027t want to replace labels with abbreviations in the output; that would collapse different labels with identical abbreviations, and I\u0027m pretty sure we want to keep those separate as we do today.\n\nRight now there is one column in the change table for each distinct label name. So I guess with this change you would want one column in the change table for each distinct (label, abbreviation) pair, is that right?\n\nI don\u0027t think it bloats the response too much to include abbreviations. Actual increase in server CPU and transfer size is negligible. And including the labels field at all is already protected by the LABELS/DETAILED_LABELS options.\n\nBut, to be honest...I would kind of rather we just kill the abbreviation field entirely. It\u0027s literally unused right now and even with this change would only be used in the change table. But nobody is complaining about its absence.",
      "parentUuid": "6ad620dd_7129d8a7",
      "revId": "60c92d60dd3e0b39290eda9f22829fe8bce7e364",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4ab4fcaf_e8cab34c",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/changes/ChangeTable2.java",
        "patchSetId": 2
      },
      "lineNbr": 188,
      "author": {
        "id": 1012623
      },
      "writtenOn": "2014-05-07T01:07:45Z",
      "side": 1,
      "message": "No, I want the UI to display the abbreviation (if it is set in project.config) instead of the generated abbreviation.\n\nFor example, if I define this in project.config..\n\n[label Snarky-Review]\n    abbreviation \u003d P\n\n\n.. Then I should see a \u0027P\u0027 column for Snarky-Review instead of an \u0027SR\u0027 column.\n\nI believe that\u0027s what abbreviation setting is for, but it doesn\u0027t work right now.",
      "parentUuid": "6ad620dd_91d79cf7",
      "revId": "60c92d60dd3e0b39290eda9f22829fe8bce7e364",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4ab4fcaf_88d777f7",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/changes/ChangeTable2.java",
        "patchSetId": 2
      },
      "lineNbr": 188,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-05-07T01:17:06Z",
      "side": 1,
      "message": "Sure, I understand what you\u0027re proposing, I was just agreeing with you that \"I don\u0027t think it makes sense to replace labels with abbreviations.\"\n\n(My argument for killing abbreviations entirely is if that\u0027s the _only_ think the abbreviation setting might be used for, and it\u0027s not right now, and nobody\u0027s complaining, and it complicates the code and the output, maybe we should instead just kill it :)",
      "parentUuid": "4ab4fcaf_e8cab34c",
      "revId": "60c92d60dd3e0b39290eda9f22829fe8bce7e364",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4ab4fcaf_6847a3db",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/changes/ChangeTable2.java",
        "patchSetId": 2
      },
      "lineNbr": 188,
      "author": {
        "id": 1012623
      },
      "writtenOn": "2014-05-07T17:15:48Z",
      "side": 1,
      "message": "I see.  I guess it wouldn\u0027t be terrible if this feature went away but if you decide to keep it then it should work as described.  If the gerrit maintainers do decide to keep it then could you please help complete this change so we can actually use it.",
      "parentUuid": "4ab4fcaf_88d777f7",
      "revId": "60c92d60dd3e0b39290eda9f22829fe8bce7e364",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e5716354_4d12797a",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/ChangeJson.java",
        "patchSetId": 2
      },
      "lineNbr": 436,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-04-27T17:38:30Z",
      "side": 1,
      "message": "You are putting labels here and on line 581 below only if \"detailed\" option was passed:\n\n  ListChangesOption.DETAILED_LABELS\n\nAnd you\u0027ve asked in ChangeTable2 how to get the abbreviation there. You can\u0027t because ChangeList.query only uses: ListChangesOption.LABELS. So the valus you are looking for are never get filled. But see my comments in ChangTable2 why i think we don\u0027t want this anyway.\n\n EnumSet\u003cListChangesOption\u003e o \u003d EnumSet.of(ListChangesOption.LABELS);",
      "range": {
        "startLine": 436,
        "startChar": 8,
        "endLine": 436,
        "endChar": 49
      },
      "revId": "60c92d60dd3e0b39290eda9f22829fe8bce7e364",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4ab4fcaf_880c5759",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/ChangeJson.java",
        "patchSetId": 2
      },
      "lineNbr": 436,
      "author": {
        "id": 1012623
      },
      "writtenOn": "2014-05-05T20:45:25Z",
      "side": 1,
      "message": "I added here because I think it is the only place where it fits.\n\nI see your point about maybe not wanting to add it here (bloating the json) but I don\u0027t know how else to plumb the abbreviation thru unless I add it to the json.",
      "parentUuid": "e5716354_4d12797a",
      "range": {
        "startLine": 436,
        "startChar": 8,
        "endLine": 436,
        "endChar": 49
      },
      "revId": "60c92d60dd3e0b39290eda9f22829fe8bce7e364",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}