{
  "comments": [
    {
      "key": {
        "uuid": "5f0fadbf_b1dd8c4d",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 1
      },
      "lineNbr": 1156,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-07-17T15:03:01Z",
      "side": 1,
      "message": "I know that some other tests use this method too but please let\u0027s try to avoid its usage as it\u0027s very misleading. The name doesn\u0027t indicate at all that this method fetches the current patch set whereas the method Result#getCommit always returns the commit of the first patch set.\n\nMy suggestion: Call gApi.changes().id(change2.getChangeId()).get().currentRevision instead.",
      "range": {
        "startLine": 1156,
        "startChar": 23,
        "endLine": 1156,
        "endChar": 38
      },
      "revId": "6111209021b4e7fe5f21737f20d6a217b849cce7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e9e2040c_d1248ee5",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 1
      },
      "lineNbr": 1158,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-07-17T15:03:01Z",
      "side": 1,
      "message": "That\u0027s another tested aspect for me. I would prefer a separate test for it.",
      "range": {
        "startLine": 1158,
        "startChar": 4,
        "endLine": 1158,
        "endChar": 79
      },
      "revId": "6111209021b4e7fe5f21737f20d6a217b849cce7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b30518b6_3a440277",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/Rebase.java",
        "patchSetId": 1
      },
      "lineNbr": 146,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-07-17T15:03:01Z",
      "side": 1,
      "message": "In my opinion, the bug you\u0027re trying to fix is in this method. It returns the wrong base (and probably will also do so for RebaseChangeOp). In addition, I think that we shouldn\u0027t try to replicate logic here which we already have for cherry-picks.\n\nAfter checking whether the \u0027base\u0027 string indicates a patch set ref or a change number in RebaseUtil#parseBase, we could reuse the logic of CherryPickChange#getBaseCommit for the SHA-1 case. Hence, we could also get rid of some of the special checks in this method. To not break RebaseChangeOp, we would probably also need to determine a suitable change/patch set combination if none was found for the current branch but the commit was recognized as being merged. Of course, this variant would require some more adjustments but I think that\u0027s worth it.",
      "range": {
        "startLine": 146,
        "startChar": 16,
        "endLine": 146,
        "endChar": 48
      },
      "revId": "6111209021b4e7fe5f21737f20d6a217b849cce7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}