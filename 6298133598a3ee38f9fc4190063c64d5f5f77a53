{
  "comments": [
    {
      "key": {
        "uuid": "2bc1bc6c_3ac5016c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 10,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-10-06T09:39:53Z",
      "side": 1,
      "message": "SUBMISSION_ID?",
      "range": {
        "startLine": 10,
        "startChar": 8,
        "endLine": 10,
        "endChar": 17
      },
      "revId": "6298133598a3ee38f9fc4190063c64d5f5f77a53",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ebd0848a_48c2ff64",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/SubmittedTogether.java",
        "patchSetId": 8
      },
      "lineNbr": 88,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-10-06T09:39:53Z",
      "side": 1,
      "message": "This results into an Internal Server Error for the user calling this REST endpoint. I think returning \u0027405 Method Not Allowed\u0027 (throwing MethodNotAllowedException) would be better.",
      "range": {
        "startLine": 87,
        "startChar": 8,
        "endLine": 88,
        "endChar": 63
      },
      "revId": "6298133598a3ee38f9fc4190063c64d5f5f77a53",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "abf12ca4_6ec82f81",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/SubmittedTogether.java",
        "patchSetId": 8
      },
      "lineNbr": 88,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-10-06T13:31:55Z",
      "side": 1,
      "message": "Or just succeed and return an empty list?",
      "parentUuid": "ebd0848a_48c2ff64",
      "range": {
        "startLine": 87,
        "startChar": 8,
        "endLine": 88,
        "endChar": 63
      },
      "revId": "6298133598a3ee38f9fc4190063c64d5f5f77a53",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ebd0848a_a8cd7b94",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/query/change/InternalChangeQuery.java",
        "patchSetId": 8
      },
      "lineNbr": 202,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-10-06T09:39:53Z",
      "side": 1,
      "message": "This doesn\u0027t work for merged changes, because the query processor automatically adds \"(status:new OR status:draft)\" when the query is executed (see QueryProcessor line 144). As result 2 tests are failing:\n\nFAIL     37.2s  9 Passed   1 Skipped   2 Failed   com.google.gerrit.acceptance.rest.change.SubmitByFastForwardIT\nFAILURE submitTwoChangesWithFastForward: Cannot query submittedTogether\ncom.google.gerrit.extensions.restapi.RestApiException: Cannot query submittedTogether\n\tat com.google.gerrit.server.api.changes.ChangeApiImpl.submittedTogether(ChangeApiImpl.java:207)\n\tat com.google.gerrit.acceptance.AbstractDaemonTest.assertSubmittedTogether(AbstractDaemonTest.java:603)\n\tat com.google.gerrit.acceptance.rest.change.SubmitByFastForwardIT.submitTwoChangesWithFastForward(SubmitByFastForwardIT.java:64)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:483)\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n\tat org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:168)\n\tat com.google.gerrit.acceptance.AbstractDaemonTest$1$1.evaluate(AbstractDaemonTest.java:191)\n\tat org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48)\n\tat org.junit.rules.RunRules.evaluate(RunRules.java:20)\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n\tat org.junit.runners.Suite.runChild(Suite.java:127)\n\tat org.junit.runners.Suite.runChild(Suite.java:26)\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n\tat org.junit.runners.Suite.runChild(Suite.java:127)\n\tat org.junit.runners.Suite.runChild(Suite.java:26)\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:160)\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:138)\n\tat com.facebook.buck.junit.JUnitRunner.run(JUnitRunner.java:104)\n\tat com.facebook.buck.junit.BaseRunner.runAndExit(BaseRunner.java:210)\n\tat com.facebook.buck.junit.JUnitMain.main(JUnitMain.java:47)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:483)\n\tat com.facebook.buck.java.runner.FileClassPathRunner.main(FileClassPathRunner.java:87)\nCaused by: java.lang.IllegalArgumentException: numHits must be \u003e 0; please use TotalHitCountCollector if you just need the total hit count\n\tat org.apache.lucene.search.TopFieldCollector.create(TopFieldCollector.java:625)\n\tat org.apache.lucene.search.IndexSearcher$4.newCollector(IndexSearcher.java:665)\n\tat org.apache.lucene.search.IndexSearcher$4.newCollector(IndexSearcher.java:660)\n\tat org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:694)\n\tat org.apache.lucene.search.IndexSearcher.searchAfter(IndexSearcher.java:680)\n\tat org.apache.lucene.search.IndexSearcher.searchAfter(IndexSearcher.java:622)\n\tat org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:528)\n\tat org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:578)\n\tat com.google.gerrit.lucene.LuceneChangeIndex$QuerySource.read(LuceneChangeIndex.java:436)\n\tat com.google.gerrit.server.index.IndexedChangeQuery.read(IndexedChangeQuery.java:94)\n\tat com.google.gerrit.server.index.IndexedChangeQuery.restart(IndexedChangeQuery.java:137)\n\tat com.google.gerrit.server.query.change.AndSource.readImpl(AndSource.java:133)\n\tat com.google.gerrit.server.query.change.AndSource.read(AndSource.java:99)\n\tat com.google.gerrit.server.query.change.QueryProcessor.queryChanges(QueryProcessor.java:160)\n\tat com.google.gerrit.server.query.change.QueryProcessor.queryChanges(QueryProcessor.java:102)\n\tat com.google.gerrit.server.query.change.QueryProcessor.queryChanges(QueryProcessor.java:86)\n\tat com.google.gerrit.server.query.change.InternalChangeQuery.query(InternalChangeQuery.java:217)\n\tat com.google.gerrit.server.query.change.InternalChangeQuery.bySubmissionId(InternalChangeQuery.java:202)\n\tat com.google.gerrit.server.change.SubmittedTogether.apply(SubmittedTogether.java:81)\n\tat com.google.gerrit.server.api.changes.ChangeApiImpl.submittedTogether(ChangeApiImpl.java:205)\n\t... 53 more\n\nFAILURE submitTwoChangesWithFastForward[submitWholeTopicEnabled]: Cannot query submittedTogether\ncom.google.gerrit.extensions.restapi.RestApiException: Cannot query submittedTogether\n\tat com.google.gerrit.server.api.changes.ChangeApiImpl.submittedTogether(ChangeApiImpl.java:207)\n\tat com.google.gerrit.acceptance.AbstractDaemonTest.assertSubmittedTogether(AbstractDaemonTest.java:603)\n\tat com.google.gerrit.acceptance.rest.change.SubmitByFastForwardIT.submitTwoChangesWithFastForward(SubmitByFastForwardIT.java:64)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:483)\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n\tat org.junit.rules.ExpectedException$ExpectedExceptionStatement.evaluate(ExpectedException.java:168)\n\tat com.google.gerrit.acceptance.AbstractDaemonTest$1$1.evaluate(AbstractDaemonTest.java:191)\n\tat org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48)\n\tat org.junit.rules.RunRules.evaluate(RunRules.java:20)\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n\tat org.junit.runners.Suite.runChild(Suite.java:127)\n\tat org.junit.runners.Suite.runChild(Suite.java:26)\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n\tat org.junit.runners.Suite.runChild(Suite.java:127)\n\tat org.junit.runners.Suite.runChild(Suite.java:26)\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:160)\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:138)\n\tat com.facebook.buck.junit.JUnitRunner.run(JUnitRunner.java:104)\n\tat com.facebook.buck.junit.BaseRunner.runAndExit(BaseRunner.java:210)\n\tat com.facebook.buck.junit.JUnitMain.main(JUnitMain.java:47)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:483)\n\tat com.facebook.buck.java.runner.FileClassPathRunner.main(FileClassPathRunner.java:87)\nCaused by: java.lang.IllegalArgumentException: numHits must be \u003e 0; please use TotalHitCountCollector if you just need the total hit count\n\tat org.apache.lucene.search.TopFieldCollector.create(TopFieldCollector.java:625)\n\tat org.apache.lucene.search.IndexSearcher$4.newCollector(IndexSearcher.java:665)\n\tat org.apache.lucene.search.IndexSearcher$4.newCollector(IndexSearcher.java:660)\n\tat org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:694)\n\tat org.apache.lucene.search.IndexSearcher.searchAfter(IndexSearcher.java:680)\n\tat org.apache.lucene.search.IndexSearcher.searchAfter(IndexSearcher.java:622)\n\tat org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:528)\n\tat org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:578)\n\tat com.google.gerrit.lucene.LuceneChangeIndex$QuerySource.read(LuceneChangeIndex.java:436)\n\tat com.google.gerrit.server.index.IndexedChangeQuery.read(IndexedChangeQuery.java:94)\n\tat com.google.gerrit.server.index.IndexedChangeQuery.restart(IndexedChangeQuery.java:137)\n\tat com.google.gerrit.server.query.change.AndSource.readImpl(AndSource.java:133)\n\tat com.google.gerrit.server.query.change.AndSource.read(AndSource.java:99)\n\tat com.google.gerrit.server.query.change.QueryProcessor.queryChanges(QueryProcessor.java:160)\n\tat com.google.gerrit.server.query.change.QueryProcessor.queryChanges(QueryProcessor.java:102)\n\tat com.google.gerrit.server.query.change.QueryProcessor.queryChanges(QueryProcessor.java:86)\n\tat com.google.gerrit.server.query.change.InternalChangeQuery.query(InternalChangeQuery.java:217)\n\tat com.google.gerrit.server.query.change.InternalChangeQuery.bySubmissionId(InternalChangeQuery.java:202)\n\tat com.google.gerrit.server.change.SubmittedTogether.apply(SubmittedTogether.java:81)\n\tat com.google.gerrit.server.api.changes.ChangeApiImpl.submittedTogether(ChangeApiImpl.java:205)\n\t... 53 more",
      "revId": "6298133598a3ee38f9fc4190063c64d5f5f77a53",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bf6f09e_cbc15560",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/query/change/InternalChangeQuery.java",
        "patchSetId": 8
      },
      "lineNbr": 202,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-10-06T13:31:55Z",
      "side": 1,
      "message": "This is because you didn\u0027t add the field to a new schema in ChangeSchemas, so the query rewriter is returning a non-index query on l. 142.",
      "parentUuid": "ebd0848a_a8cd7b94",
      "revId": "6298133598a3ee38f9fc4190063c64d5f5f77a53",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}