{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "2dd7fae9_515a8b75",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff/gr-diff.ts",
        "patchSetId": 3
      },
      "lineNbr": 200,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-11-17T12:49:22Z",
      "side": 1,
      "message": "Why the \"readOnly\" and the setter? Seems really hacky. Any good reason?\n\nFWIW we do not have any \"readOnly\" property in all of Gerrit.",
      "range": {
        "startLine": 196,
        "startChar": 42,
        "endLine": 200,
        "endChar": 43
      },
      "revId": "6339204648e4f2035972aed654b824eddf6a57a2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5c6095c1_5f1dfaa0",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff/gr-diff.ts",
        "patchSetId": 3
      },
      "lineNbr": 200,
      "author": {
        "id": 1070860
      },
      "writtenOn": "2020-11-17T13:02:35Z",
      "side": 1,
      "message": "As far as I can tell that is the official Polymer way to declare that a property can be listened to for changes, but should not be reassigned, see https://polymer-library.polymer-project.org/2.0/docs/devguide/properties#read-only\n\nI need to make this property public so that gr-diff can listen for the changes, but I want to prevent other code writing this field and messing with component internal state. \n\nDo you have another suggestion how I should document/enforce that?",
      "parentUuid": "2dd7fae9_515a8b75",
      "range": {
        "startLine": 196,
        "startChar": 42,
        "endLine": 200,
        "endChar": 43
      },
      "revId": "6339204648e4f2035972aed654b824eddf6a57a2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f89ac4b6_b3acfec5",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff/gr-diff.ts",
        "patchSetId": 3
      },
      "lineNbr": 200,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-11-17T14:13:20Z",
      "side": 1,
      "message": "Ok, it seems an adequate solution then. It is just that the team (including myself) does not really use \u0027readOnly\u0027 and as you can see it can cause confusion, because this pattern is only used once in the code base.\n\nAlternative would be to just keep `_loading` and accept a `_loading-changed` event.\n\nAnother alternative would be to set an observer and fire an event explicitly from there.\n\nIn any case it would be good to clearly document that this ...-changed event is being relied upon as part of gr-diff\u0027s top-level API.",
      "parentUuid": "5c6095c1_5f1dfaa0",
      "range": {
        "startLine": 196,
        "startChar": 42,
        "endLine": 200,
        "endChar": 43
      },
      "revId": "6339204648e4f2035972aed654b824eddf6a57a2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "efe89afe_ca5da535",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff/gr-diff.ts",
        "patchSetId": 3
      },
      "lineNbr": 200,
      "author": {
        "id": 1070860
      },
      "writtenOn": "2020-11-17T14:26:03Z",
      "side": 1,
      "message": "I added some more docs to explain the pattern. I think it does not make sense to selectively speak about the gr-diff API here, as we don\u0027t do that on all the other fields in the class. I propose we leave this for the type files that I work on, which will eventually define exactly what is considered API and what is not. For now, anything public (and not starting with an underscore) is considered part of the API.",
      "parentUuid": "f89ac4b6_b3acfec5",
      "range": {
        "startLine": 196,
        "startChar": 42,
        "endLine": 200,
        "endChar": 43
      },
      "revId": "6339204648e4f2035972aed654b824eddf6a57a2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}