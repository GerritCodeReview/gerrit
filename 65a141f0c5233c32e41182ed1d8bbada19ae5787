{
  "comments": [
    {
      "key": {
        "uuid": "1be607f4_db3bf934",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteVote.java",
        "patchSetId": 1
      },
      "lineNbr": 167,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-09-11T13:22:08Z",
      "side": 1,
      "message": "optional: We could get rid of this use of ChangeControl as well by using ChangeContext#getChange and ChangeContext#getNotes().",
      "range": {
        "startLine": 167,
        "startChar": 6,
        "endLine": 167,
        "endChar": 43
      },
      "revId": "65a141f0c5233c32e41182ed1d8bbada19ae5787",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1b73013c_1b982305",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteVote.java",
        "patchSetId": 1
      },
      "lineNbr": 167,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2017-09-11T13:39:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1be607f4_db3bf934",
      "range": {
        "startLine": 167,
        "startChar": 6,
        "endLine": 167,
        "endChar": 43
      },
      "revId": "65a141f0c5233c32e41182ed1d8bbada19ae5787",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7557a60f_b3d40d81",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PatchSetInserter.java",
        "patchSetId": 1
      },
      "lineNbr": 264,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-09-11T13:22:08Z",
      "side": 1,
      "message": "optional: If this was ctx.getNotes(), we could remove the use of ChangeControl from this class.",
      "range": {
        "startLine": 264,
        "startChar": 52,
        "endLine": 264,
        "endChar": 66
      },
      "revId": "65a141f0c5233c32e41182ed1d8bbada19ae5787",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "beba37a5_e8458d47",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PatchSetInserter.java",
        "patchSetId": 1
      },
      "lineNbr": 264,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2017-09-11T13:39:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7557a60f_b3d40d81",
      "range": {
        "startLine": 264,
        "startChar": 52,
        "endLine": 264,
        "endChar": 66
      },
      "revId": "65a141f0c5233c32e41182ed1d8bbada19ae5787",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f9bc7d6d_5130c36b",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/LabelNormalizer.java",
        "patchSetId": 1
      },
      "lineNbr": 126,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-09-11T13:22:08Z",
      "side": 1,
      "message": "This method returns null if the project isn\u0027t found. The previous code threw a NoSuchChangeException instead when creating the ChangeControl instance. Can we be absolutely sure that the project exists when this line of code is executed?",
      "range": {
        "startLine": 126,
        "startChar": 8,
        "endLine": 126,
        "endChar": 31
      },
      "revId": "65a141f0c5233c32e41182ed1d8bbada19ae5787",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "92a230b7_2464d4e8",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/LabelNormalizer.java",
        "patchSetId": 1
      },
      "lineNbr": 126,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2017-09-11T13:39:29Z",
      "side": 1,
      "message": "I think so, because the project name is obtained from the notes (which always have the correct project). The only case where I see this not getting a project is in case of an infrastructure failure in the cache, but then it would throw an IOException.",
      "parentUuid": "f9bc7d6d_5130c36b",
      "range": {
        "startLine": 126,
        "startChar": 8,
        "endLine": 126,
        "endChar": 31
      },
      "revId": "65a141f0c5233c32e41182ed1d8bbada19ae5787",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b755f6e5_853a0f2c",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/LabelNormalizer.java",
        "patchSetId": 1
      },
      "lineNbr": 126,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-09-12T09:12:53Z",
      "side": 1,
      "message": "Let\u0027s hope that we never use ChangeNotes which were constructed from a stale index as input. As one of the code paths goes through ApprovalCopier#getForPatchSet, which also doesn\u0027t care about null values for the project, we can probably assume that we don\u0027t get a null value here. It just doesn\u0027t feel good to me to rely on the current state of the calling methods.",
      "parentUuid": "92a230b7_2464d4e8",
      "range": {
        "startLine": 126,
        "startChar": 8,
        "endLine": 126,
        "endChar": 31
      },
      "revId": "65a141f0c5233c32e41182ed1d8bbada19ae5787",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "84a570b7_955821ed",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/mail/send/MergedSender.java",
        "patchSetId": 1
      },
      "lineNbr": 75,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-09-11T13:22:08Z",
      "side": 1,
      "message": "optional: Can\u0027t we directly create the user object e.g. retrieve the owner of the change and create the user via the IdentifiedUser factory? Maybe we could add such a method to ChangeData as we probably need it somewhere else too.",
      "range": {
        "startLine": 75,
        "startChar": 14,
        "endLine": 75,
        "endChar": 50
      },
      "revId": "65a141f0c5233c32e41182ed1d8bbada19ae5787",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cb16e371_5ca88cb9",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/mail/send/MergedSender.java",
        "patchSetId": 1
      },
      "lineNbr": 75,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2017-09-11T13:39:29Z",
      "side": 1,
      "message": "Yes and no :)\n\nChangeData#changeControl needs special care because it is not always obvious which user is carries around. The user can be changed using ChangeData#changeControl(CurrentUser). This is messy because one can never be sure what the user is - in the default case it is just the change owner. I\u0027ll refactor that in some follow up changes and apply some special care there.",
      "parentUuid": "84a570b7_955821ed",
      "range": {
        "startLine": 75,
        "startChar": 14,
        "endLine": 75,
        "endChar": 50
      },
      "revId": "65a141f0c5233c32e41182ed1d8bbada19ae5787",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fd280269_53e735d7",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/query/change/ChangeData.java",
        "patchSetId": 1
      },
      "lineNbr": 722,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-09-11T13:22:08Z",
      "side": 1,
      "message": "optional: Please see my comment on MergedSender.",
      "range": {
        "startLine": 722,
        "startChar": 35,
        "endLine": 722,
        "endChar": 60
      },
      "revId": "65a141f0c5233c32e41182ed1d8bbada19ae5787",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4fc70a86_c20ebb3c",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/query/change/ChangeData.java",
        "patchSetId": 1
      },
      "lineNbr": 722,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2017-09-11T13:39:29Z",
      "side": 1,
      "message": "Same :/",
      "parentUuid": "fd280269_53e735d7",
      "range": {
        "startLine": 722,
        "startChar": 35,
        "endLine": 722,
        "endChar": 60
      },
      "revId": "65a141f0c5233c32e41182ed1d8bbada19ae5787",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cb5ba824_dfaefceb",
        "filename": "gerrit-server/src/test/java/com/google/gerrit/server/git/LabelNormalizerTest.java",
        "patchSetId": 1
      },
      "lineNbr": 133,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-09-11T13:22:08Z",
      "side": 1,
      "message": "If this was moved below db.changes().insert(), could we use changeNotesFactory.createChecked(db, change) instead?",
      "range": {
        "startLine": 133,
        "startChar": 4,
        "endLine": 133,
        "endChar": 63
      },
      "revId": "65a141f0c5233c32e41182ed1d8bbada19ae5787",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "600dabb8_ce7add83",
        "filename": "gerrit-server/src/test/java/com/google/gerrit/server/git/LabelNormalizerTest.java",
        "patchSetId": 1
      },
      "lineNbr": 133,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2017-09-11T13:39:29Z",
      "side": 1,
      "message": "Done. Nice!",
      "parentUuid": "cb5ba824_dfaefceb",
      "range": {
        "startLine": 133,
        "startChar": 4,
        "endLine": 133,
        "endChar": 63
      },
      "revId": "65a141f0c5233c32e41182ed1d8bbada19ae5787",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}