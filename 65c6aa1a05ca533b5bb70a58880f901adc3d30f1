{
  "comments": [
    {
      "key": {
        "uuid": "a2ea1f3d_78e45ad4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2020-08-31T07:00:58Z",
      "side": 1,
      "message": "I think it may be okay to run them asynchronously, but we must not return to the client before they have been fully processed, but then there is not much gain in running them asynchronously, is there?. E.g. postUpdate is responsible to trigger events and the events should have been processed before the client makes its next call. I think there are even postUpdates that evict caches.",
      "range": {
        "startLine": 14,
        "startChar": 4,
        "endLine": 15,
        "endChar": 41
      },
      "revId": "65c6aa1a05ca533b5bb70a58880f901adc3d30f1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f4956fce_cbc31ea1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2020-08-31T07:03:45Z",
      "side": 1,
      "message": "+1\n\nDid you check what things besides emails would make sense to do async?\n\nI think it could make sense to offer two methods here:\npostUpdate (synchronous)\nasyncPostUpdate (async)\n\nand let the implementor decide what can be done asynchronous (e.g. emails) and what not (e.g. cache evictions, events, reindexing, ...).",
      "parentUuid": "a2ea1f3d_78e45ad4",
      "range": {
        "startLine": 14,
        "startChar": 4,
        "endLine": 15,
        "endChar": 41
      },
      "revId": "65c6aa1a05ca533b5bb70a58880f901adc3d30f1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c7125402_cf790551",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2020-08-31T07:05:55Z",
      "side": 1,
      "message": "\u003e I think it could make sense to offer two methods here:\nYeah, I think this is what Dave had in mind when he was writing that TODO.",
      "parentUuid": "f4956fce_cbc31ea1",
      "range": {
        "startLine": 14,
        "startChar": 4,
        "endLine": 15,
        "endChar": 41
      },
      "revId": "65c6aa1a05ca533b5bb70a58880f901adc3d30f1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2341c797_659baac0",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2020-08-31T12:39:39Z",
      "side": 1,
      "message": "Thanks!\nI checked the current existing postUpdates, but I didn\u0027t find any cache evictions or reindexing (but admittedly I didn\u0027t check all the methods).\n\nHowever, events happen quite often in those postUpdates. I had actually thought that events can be done async, too - makes sense to support both, if not.",
      "parentUuid": "c7125402_cf790551",
      "range": {
        "startLine": 14,
        "startChar": 4,
        "endLine": 15,
        "endChar": 41
      },
      "revId": "65c6aa1a05ca533b5bb70a58880f901adc3d30f1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6b435862_55189688",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2020-08-28T15:53:14Z",
      "side": 1,
      "message": "Can you see if this change makes sense to you? There\u0027s plenty of cleanup to do (e.g remove all async sendings of emails) if it makes sense. I\u0027ll finish it on Monday :-)",
      "revId": "65c6aa1a05ca533b5bb70a58880f901adc3d30f1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}