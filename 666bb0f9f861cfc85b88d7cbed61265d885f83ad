{
  "comments": [
    {
      "key": {
        "uuid": "fbf243a6_4ef0d391",
        "filename": "polygerrit-ui/app/elements/core/gr-search-bar/gr-search-bar.js",
        "patchSetId": 4
      },
      "lineNbr": 136,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2016-08-16T22:03:56Z",
      "side": 1,
      "message": "I think this method should be renamed. What makes it different from `_getSearchSuggestions` which also returns a promise?\n\nI don\u0027t think promise should be in the name when the fact that it returns a promise is already listed in the JSDoc.\n\nMaybe `_fetchSuggestions`.",
      "range": {
        "startLine": 136,
        "startChar": 4,
        "endLine": 136,
        "endChar": 29
      },
      "revId": "666bb0f9f861cfc85b88d7cbed61265d885f83ad",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7bff336c_72ebf8a4",
        "filename": "polygerrit-ui/app/elements/core/gr-search-bar/gr-search-bar.js",
        "patchSetId": 4
      },
      "lineNbr": 145,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2016-08-16T22:03:56Z",
      "side": 1,
      "message": "This function is getting large. Can we break out the fetch-groups, fetch-projects and fetch-accounts cases into their own methods? These can also be tested individually.",
      "range": {
        "startLine": 145,
        "startChar": 10,
        "endLine": 145,
        "endChar": 26
      },
      "revId": "666bb0f9f861cfc85b88d7cbed61265d885f83ad",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fbf243a6_aee4d7d3",
        "filename": "polygerrit-ui/app/elements/core/gr-search-bar/gr-search-bar.js",
        "patchSetId": 4
      },
      "lineNbr": 147,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2016-08-16T22:09:02Z",
      "side": 1,
      "message": "It\u0027s a Promise, not xhr.\nDo you actually need it? Consider chaining.\nSame below",
      "range": {
        "startLine": 147,
        "startChar": 14,
        "endLine": 147,
        "endChar": 17
      },
      "revId": "666bb0f9f861cfc85b88d7cbed61265d885f83ad",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fbf243a6_8ee11bc4",
        "filename": "polygerrit-ui/app/elements/core/gr-search-bar/gr-search-bar.js",
        "patchSetId": 4
      },
      "lineNbr": 190,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2016-08-16T22:03:56Z",
      "side": 1,
      "message": "Below, this test lower-cases the input first. Is there a reason input isn\u0027t lower cased here?",
      "range": {
        "startLine": 190,
        "startChar": 40,
        "endLine": 190,
        "endChar": 45
      },
      "revId": "666bb0f9f861cfc85b88d7cbed61265d885f83ad",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7bff336c_92e13cc4",
        "filename": "polygerrit-ui/app/elements/core/gr-search-bar/gr-search-bar.js",
        "patchSetId": 4
      },
      "lineNbr": 195,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2016-08-16T22:03:56Z",
      "side": 1,
      "message": "Let\u0027s add a JSDoc to this method to indicate that it returns a promise.",
      "range": {
        "startLine": 195,
        "startChar": 4,
        "endLine": 195,
        "endChar": 25
      },
      "revId": "666bb0f9f861cfc85b88d7cbed61265d885f83ad",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7bff336c_52f07491",
        "filename": "polygerrit-ui/app/elements/core/gr-search-bar/gr-search-bar.js",
        "patchSetId": 4
      },
      "lineNbr": 197,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2016-08-16T22:03:56Z",
      "side": 1,
      "message": "Declare regexes as constants at the top of the file, something like\n\n    var TOKENIZE_REGEX \u003d /.../;",
      "range": {
        "startLine": 197,
        "startChar": 32,
        "endLine": 197,
        "endChar": 54
      },
      "revId": "666bb0f9f861cfc85b88d7cbed61265d885f83ad",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fbf243a6_6e282fe8",
        "filename": "polygerrit-ui/app/elements/core/gr-search-bar/gr-search-bar.js",
        "patchSetId": 4
      },
      "lineNbr": 197,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2016-08-16T22:09:02Z",
      "side": 1,
      "message": "Looks like an overkill to me.\nCould you provide an example?\nCould input.split(\u0027 \u0027).pop().toLowerCase() be a viable alternative?",
      "range": {
        "startLine": 197,
        "startChar": 31,
        "endLine": 197,
        "endChar": 54
      },
      "revId": "666bb0f9f861cfc85b88d7cbed61265d885f83ad",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7bff336c_d2dbc413",
        "filename": "polygerrit-ui/app/elements/core/gr-search-bar/gr-search-bar.js",
        "patchSetId": 4
      },
      "lineNbr": 221,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2016-08-16T22:09:02Z",
      "side": 1,
      "message": "Looks like you don\u0027t need it.",
      "range": {
        "startLine": 221,
        "startChar": 12,
        "endLine": 221,
        "endChar": 22
      },
      "revId": "666bb0f9f861cfc85b88d7cbed61265d885f83ad",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fbf243a6_0ef6cb90",
        "filename": "polygerrit-ui/app/elements/core/gr-search-bar/gr-search-bar_test.html",
        "patchSetId": 4
      },
      "lineNbr": 84,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2016-08-16T22:03:56Z",
      "side": 1,
      "message": "Instead of assigning the function, use\n\n    sinon.stub(element.$.restAPI, \u0027getSuggestedAccounts\u0027, function() {\n      // ...\n    });\n\nAnd at the end of the test, clean it up with\n\n    element.$.restAPI.getSuggestedAccounts.restore();\n\nSame with the following stubs.",
      "revId": "666bb0f9f861cfc85b88d7cbed61265d885f83ad",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7bff336c_b2e440d4",
        "filename": "polygerrit-ui/app/elements/core/gr-search-bar/gr-search-bar_test.html",
        "patchSetId": 4
      },
      "lineNbr": 103,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2016-08-16T22:09:02Z",
      "side": 1,
      "message": "Nice! Let\u0027s make it standard though.\n1. Replace test(\u0027\u0027, function() { with suite(\u0027\u0027, function() {\n2. All the setup goes into nested setup(function() {\n3. Individual tests become, hmm, test(\u0027\u0027, function(done) {\n\nThis way if a test breaks, this will point failed expectation right away",
      "revId": "666bb0f9f861cfc85b88d7cbed61265d885f83ad",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7bff336c_f2c5283a",
        "filename": "polygerrit-ui/app/elements/core/gr-search-bar/gr-search-bar_test.html",
        "patchSetId": 4
      },
      "lineNbr": 140,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2016-08-16T22:03:56Z",
      "side": 1,
      "message": "Let\u0027s split these into separate tests.",
      "range": {
        "startLine": 137,
        "startChar": 10,
        "endLine": 140,
        "endChar": 28
      },
      "revId": "666bb0f9f861cfc85b88d7cbed61265d885f83ad",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7bff336c_722818e8",
        "filename": "polygerrit-ui/app/elements/core/gr-search-bar/gr-search-bar_test.html",
        "patchSetId": 4
      },
      "lineNbr": 140,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2016-08-16T22:06:53Z",
      "side": 1,
      "message": "It may be cleaner to group these tests in a suite, then you can stub the `restAPI` methods using a setup method.\n\nYou might also look into setting up a Sinon sandbox to simplify cleaning up the stub.",
      "parentUuid": "7bff336c_f2c5283a",
      "revId": "666bb0f9f861cfc85b88d7cbed61265d885f83ad",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fbf243a6_eededf05",
        "filename": "polygerrit-ui/app/elements/shared/gr-autocomplete/gr-autocomplete.js",
        "patchSetId": 4
      },
      "lineNbr": 202,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2016-08-16T22:03:56Z",
      "side": 1,
      "message": "Same here. Make the regex a constant.",
      "range": {
        "startLine": 202,
        "startChar": 37,
        "endLine": 202,
        "endChar": 60
      },
      "revId": "666bb0f9f861cfc85b88d7cbed61265d885f83ad",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}