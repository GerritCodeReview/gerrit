{
  "comments": [
    {
      "key": {
        "uuid": "P8RGL7Ck",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PostReviewers.java",
        "patchSetId": 10
      },
      "lineNbr": 125,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2013-02-20T12:08:28Z",
      "side": 1,
      "message": "NoSuchGroupException, NoSuchProjectException and NoSuchChangeException should not be thrown here, but rather be converted into ResourceNotFoundException.\n\nE.g. let\u0027s say there is group A which includes group B. If group A is visible to the user but group B is not visible to the user, then if the user tries the add group A as reviewer to the change, the listing of the accounts for group A fails with NoSuchGroupException because the included group B is not visible. As result the REST call would return with \u0027500 Internal Server Error\u0027, but it should be \u0027404 Not Found\u0027.",
      "revId": "68a4d069c509901326e334d082b0462f397a92fb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "P7jSLcNE",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PostReviewers.java",
        "patchSetId": 10
      },
      "lineNbr": 125,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2013-02-20T22:18:37Z",
      "side": 1,
      "message": "Done. Thanks for the explanation, will try to remember in the future.",
      "parentUuid": "P8RGL7Ck",
      "revId": "68a4d069c509901326e334d082b0462f397a92fb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "P8VGFdBE",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PostReviewers.java",
        "patchSetId": 10
      },
      "lineNbr": 154,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2013-02-20T12:08:28Z",
      "side": 1,
      "message": "The error messages should not be hard-coded in the server. They should come from a .properties file so that they can be translated into other languages.",
      "revId": "68a4d069c509901326e334d082b0462f397a92fb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "P7lSY7B8",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PostReviewers.java",
        "patchSetId": 10
      },
      "lineNbr": 154,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2013-02-20T22:18:37Z",
      "side": 1,
      "message": "Done.\n\nIdeally we would be able to share a .properties file with client- and server-side messages. Unfortunately both the GWT and JGit i18n glue like to have the properties file resource match the class name, and have different superclasses, so I just split out the messages we use. This also means during the transition to using REST APIs internally we will have some overlap between client and server properties files. I don\u0027t know of a better way to do it.\n\nAlso, of course, the server-side message code uses the server\u0027s locale, not the client\u0027s. Fixing this is possible but beyond the scope of this change.\n\nFYI this far from the only handler with this problem, as evidenced by the fact that this is the first server-side .properties file.",
      "parentUuid": "P8VGFdBE",
      "revId": "68a4d069c509901326e334d082b0462f397a92fb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "P8TGI8Co",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PostReviewers.java",
        "patchSetId": 10
      },
      "lineNbr": 204,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2013-02-20T12:08:28Z",
      "side": 1,
      "message": "When we are returning here result.reviewers is null and hence the field is not set in the JSON response. This is fine since there are no reviewers to add. If reviewers is not empty, but later in addReviewers(...) we find that all reviewers to be added are already reviewers of the change, result.reviewers is initialized with an empty list and as result we get an empty list in the JSON response. This seems to be inconsistent. I think if no reviewers are added, then in both cases result.reviewers should be the same, either null or an empty list.",
      "revId": "68a4d069c509901326e334d082b0462f397a92fb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "P7tS8-G0",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PostReviewers.java",
        "patchSetId": 10
      },
      "lineNbr": 204,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2013-02-20T22:18:37Z",
      "side": 1,
      "message": "I think I prefer an empty list because otherwise there might be a completely empty result object, which might be confusing. Done.",
      "parentUuid": "P8TGI8Co",
      "revId": "68a4d069c509901326e334d082b0462f397a92fb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "P8rDgWPU",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PostReviewers.java",
        "patchSetId": 10
      },
      "lineNbr": 229,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2013-02-20T08:24:52Z",
      "side": 1,
      "message": "You should query all approvals at once for the patch set and then test that collection for Account.Ids that already exist.",
      "revId": "68a4d069c509901326e334d082b0462f397a92fb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "P7vTB.OI",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PostReviewers.java",
        "patchSetId": 10
      },
      "lineNbr": 229,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2013-02-20T22:18:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "P8rDgWPU",
      "revId": "68a4d069c509901326e334d082b0462f397a92fb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "P8pDbVEo",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PostReviewers.java",
        "patchSetId": 10
      },
      "lineNbr": 237,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2013-02-20T08:24:52Z",
      "side": 1,
      "message": "When you are adding an expanded group, this really should be a list of all members of that group are are being added together. Not called once per member.",
      "revId": "68a4d069c509901326e334d082b0462f397a92fb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "P7hS3VIg",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PostReviewers.java",
        "patchSetId": 10
      },
      "lineNbr": 237,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2013-02-20T22:18:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "P8pDbVEo",
      "revId": "68a4d069c509901326e334d082b0462f397a92fb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}