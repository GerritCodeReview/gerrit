{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "f3d4c116_8ff1118d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2021-02-18T15:02:17Z",
      "side": 1,
      "message": "Not storing this in NoteDb is one thing, but PSAs are also stored in the change index and the ChangeNotesCache (there is a .proto definition and a converter). Did you consider these two places?\n\nFor more context: ApprovalInference is what generates PSAs for newer PSs based on older PSs.",
      "revId": "69041bbd6e563710ebcd61620b37cd1045565f8e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0c2c3616_af3a972d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-02-18T16:16:26Z",
      "side": 1,
      "message": "As far as I can tell, same thing here as NoteDb, we\u0027re not storing them there.\nI didn\u0027t add this new field in cache.proto or entities.proto (and we can see that nethier ChangeNotesStateTest nor PatchSetApprovalProtoConverterTest require further modifications).\n\nFor the change index, it again converts from proto (see ChangeField#APPROVAL) so it is fine here as well since we didn\u0027t add this field to any proto.",
      "parentUuid": "f3d4c116_8ff1118d",
      "revId": "69041bbd6e563710ebcd61620b37cd1045565f8e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f2efd879_a8b03c32",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2021-02-19T09:59:07Z",
      "side": 1,
      "message": "I agree that the field will not appear in the proto if it\u0027s not added in entities.proto. Can you then please add a comment on PatchSetApproval in entities.proto saying that this field is intentionally omitted. Otherwise someone might find it missing and may add it without knowing the implications.",
      "parentUuid": "0c2c3616_af3a972d",
      "revId": "69041bbd6e563710ebcd61620b37cd1045565f8e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7e62292f_6c8cf838",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-02-19T10:06:03Z",
      "side": 1,
      "message": "sure, done.",
      "parentUuid": "f2efd879_a8b03c32",
      "revId": "69041bbd6e563710ebcd61620b37cd1045565f8e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8adf2f69_5ac16b50",
        "filename": "javatests/com/google/gerrit/entities/converter/PatchSetApprovalProtoConverterTest.java",
        "patchSetId": 4
      },
      "lineNbr": 180,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2021-02-18T14:53:54Z",
      "side": 1,
      "message": "I\u0027m unsure what adding the copiedOver field in PatchSetApproval means for the serialization. I think it\u0027s not only that the field doesn\u0027t need to be serialized, but rather that the field shouldn\u0027t/mustn\u0027t be serialized. Normally this is ensured by making a field transient, but not sure if/how this can work with AutoValue classes. I would prefer if Patrick has a look at this before submitting. Other than that the change LGTM.",
      "range": {
        "startLine": 179,
        "startChar": 16,
        "endLine": 180,
        "endChar": 49
      },
      "revId": "69041bbd6e563710ebcd61620b37cd1045565f8e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}