{
  "comments": [
    {
      "key": {
        "uuid": "43b62a82_1028a74f",
        "filename": "java/com/google/gerrit/server/git/receive/ReceiveCommits.java",
        "patchSetId": 3
      },
      "lineNbr": 703,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2018-11-15T05:29:28Z",
      "side": 1,
      "message": "can be static.",
      "range": {
        "startLine": 703,
        "startChar": 17,
        "endLine": 703,
        "endChar": 22
      },
      "revId": "6b3d8124749c24645965af25811fc49d86d17ac6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "49f105c5_0a92f1dc",
        "filename": "java/com/google/gerrit/server/git/receive/ReceiveCommits.java",
        "patchSetId": 3
      },
      "lineNbr": 703,
      "author": {
        "id": 1032595
      },
      "writtenOn": "2018-11-20T14:54:19Z",
      "side": 1,
      "message": "Done, removed as no longer needed. Use null instead as it is not a key anymore but a value instead.\ncommit \u003d\u003e parent(nullable).",
      "parentUuid": "43b62a82_1028a74f",
      "range": {
        "startLine": 703,
        "startChar": 17,
        "endLine": 703,
        "endChar": 22
      },
      "revId": "6b3d8124749c24645965af25811fc49d86d17ac6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "245dbe15_078ab5f3",
        "filename": "java/com/google/gerrit/server/git/receive/ReceiveCommits.java",
        "patchSetId": 3
      },
      "lineNbr": 704,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2018-11-15T05:29:28Z",
      "side": 1,
      "message": "add a small comment what this map means. I think its \n\n commitID \u003d\u003e parent commitID \n\nbut not sure.",
      "range": {
        "startLine": 704,
        "startChar": 24,
        "endLine": 704,
        "endChar": 31
      },
      "revId": "6b3d8124749c24645965af25811fc49d86d17ac6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0ff9708d_17a65b65",
        "filename": "java/com/google/gerrit/server/git/receive/ReceiveCommits.java",
        "patchSetId": 3
      },
      "lineNbr": 704,
      "author": {
        "id": 1032595
      },
      "writtenOn": "2018-11-20T14:54:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "245dbe15_078ab5f3",
      "range": {
        "startLine": 704,
        "startChar": 24,
        "endLine": 704,
        "endChar": 31
      },
      "revId": "6b3d8124749c24645965af25811fc49d86d17ac6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ab777e2e_e2f40851",
        "filename": "java/com/google/gerrit/server/git/receive/ReceiveCommits.java",
        "patchSetId": 3
      },
      "lineNbr": 707,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2018-11-15T05:29:28Z",
      "side": 1,
      "message": "nit \"\u003d\u003d 0\" is probably clearer.",
      "range": {
        "startLine": 707,
        "startChar": 49,
        "endLine": 707,
        "endChar": 50
      },
      "revId": "6b3d8124749c24645965af25811fc49d86d17ac6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8f897769_0136a440",
        "filename": "java/com/google/gerrit/server/git/receive/ReceiveCommits.java",
        "patchSetId": 3
      },
      "lineNbr": 707,
      "author": {
        "id": 1032595
      },
      "writtenOn": "2018-11-20T14:54:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ab777e2e_e2f40851",
      "range": {
        "startLine": 707,
        "startChar": 49,
        "endLine": 707,
        "endChar": 50
      },
      "revId": "6b3d8124749c24645965af25811fc49d86d17ac6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eee1e7ce_0d39e117",
        "filename": "java/com/google/gerrit/server/git/receive/ReceiveCommits.java",
        "patchSetId": 3
      },
      "lineNbr": 714,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2018-11-15T05:29:28Z",
      "side": 1,
      "message": "a single push can have multiple commits with the same parent, so I think this might destroy information, which seems wrong.\n\nI had some trouble following the below code, and think it can be simpler. Here is how I would do it (python):\n\n# commit \u003d\u003e parent, or None if parent is not part of the push.\nparents \u003d ...\n\n# find the commits that are not parents.\nleafs \u003d parents.keys()\nfor p in leafs.values():\n  leafs.delete(p)\n\n# go backward from the leafs.\nordered \u003d []\nfor t in leafs:\n   if t in ordered: continue\n   while t: \n      if t not in ordered: ordered.append(t)\n      t \u003d parent[t]\n\n# reverse to start with the earliest commit.\nordered.reverse()",
      "range": {
        "startLine": 714,
        "startChar": 20,
        "endLine": 714,
        "endChar": 26
      },
      "revId": "6b3d8124749c24645965af25811fc49d86d17ac6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "739f53e9_ad0cc84e",
        "filename": "java/com/google/gerrit/server/git/receive/ReceiveCommits.java",
        "patchSetId": 3
      },
      "lineNbr": 714,
      "author": {
        "id": 1013267
      },
      "writtenOn": "2018-11-19T11:16:56Z",
      "side": 1,
      "message": "how about just sticking to the book and doing a regular topological sort based on a recursive depth-first post-order traversal? that would also preserve the sorting of the parents, if that\u0027s the concern.\n\nbut then, i\u0027d expect the data coming out of the RevWalk to be already sorted exactly like that, and consequently nothing needing to be done in that regard to start with. so what am i missing?",
      "parentUuid": "eee1e7ce_0d39e117",
      "range": {
        "startLine": 714,
        "startChar": 20,
        "endLine": 714,
        "endChar": 26
      },
      "revId": "6b3d8124749c24645965af25811fc49d86d17ac6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "545ca956_a6e57099",
        "filename": "java/com/google/gerrit/server/git/receive/ReceiveCommits.java",
        "patchSetId": 3
      },
      "lineNbr": 714,
      "author": {
        "id": 1032595
      },
      "writtenOn": "2018-11-20T14:54:19Z",
      "side": 1,
      "message": "@Han-Wen: Done, previously the code needs to cater multiple parents which adds complexity. With this reversed relation the code can be much simpler. Thanks for that.\n@Oswald: This is true that RevWalk already has the sorted result. But there are necessary processing to separate between new and updated changes. Changing the code during that processing seems more complex to me.",
      "parentUuid": "739f53e9_ad0cc84e",
      "range": {
        "startLine": 714,
        "startChar": 20,
        "endLine": 714,
        "endChar": 26
      },
      "revId": "6b3d8124749c24645965af25811fc49d86d17ac6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e6f60a34_2f4554c6",
        "filename": "java/com/google/gerrit/server/git/receive/ReceiveCommits.java",
        "patchSetId": 3
      },
      "lineNbr": 714,
      "author": {
        "id": 1013267
      },
      "writtenOn": "2018-11-21T14:35:12Z",
      "side": 1,
      "message": "are you sure about that? if you just follow the RevWalk, you just need to reshuffle a bit of code. if you don\u0027t, you need to to re-implement the whole sorting, with all the overhead this brings, as evidenced by this thread.",
      "parentUuid": "545ca956_a6e57099",
      "range": {
        "startLine": 714,
        "startChar": 20,
        "endLine": 714,
        "endChar": 26
      },
      "revId": "6b3d8124749c24645965af25811fc49d86d17ac6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dc9099b6_ff79530d",
        "filename": "java/com/google/gerrit/server/git/receive/ReceiveCommits.java",
        "patchSetId": 3
      },
      "lineNbr": 714,
      "author": {
        "id": 1032595
      },
      "writtenOn": "2018-11-22T08:49:27Z",
      "side": 1,
      "message": "selectNewAndReplacedChangesFromMagicBranch as of now is returning one value while it kind of should have return two. So there needs to be some discussion about how to proceed anyway.",
      "parentUuid": "e6f60a34_2f4554c6",
      "range": {
        "startLine": 714,
        "startChar": 20,
        "endLine": 714,
        "endChar": 26
      },
      "revId": "6b3d8124749c24645965af25811fc49d86d17ac6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ed40063c_47040c4a",
        "filename": "java/com/google/gerrit/server/git/receive/ReceiveCommits.java",
        "patchSetId": 3
      },
      "lineNbr": 800,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2018-11-15T05:29:28Z",
      "side": 1,
      "message": "this shoudl be part of ChangeReportFormatter.Input.",
      "range": {
        "startLine": 800,
        "startChar": 12,
        "endLine": 800,
        "endChar": 24
      },
      "revId": "6b3d8124749c24645965af25811fc49d86d17ac6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "88ef1cb5_a31ddf78",
        "filename": "java/com/google/gerrit/server/git/receive/ReceiveCommits.java",
        "patchSetId": 3
      },
      "lineNbr": 800,
      "author": {
        "id": 1032595
      },
      "writtenOn": "2018-11-20T14:54:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ed40063c_47040c4a",
      "range": {
        "startLine": 800,
        "startChar": 12,
        "endLine": 800,
        "endChar": 24
      },
      "revId": "6b3d8124749c24645965af25811fc49d86d17ac6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}