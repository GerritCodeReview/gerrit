{
  "comments": [
    {
      "key": {
        "uuid": "AAABEn///uo\u003d",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/rpc/changedetail/ChangeDetailFactory.java",
        "patchSetId": 2
      },
      "lineNbr": 149,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-07-30T23:57:49Z",
      "side": 1,
      "message": "This visibility model seems unintuitive.  I would expect draft patches to not be visible to reviewers.  I would think that part of the motivation to have draft PSes is so that the author can review his new PS and explain it via comments before publishing it.  This way his comments would get aggregated with the new patchset notification email.\n\nThe way I understand your implementation, it just seems like adding an inner circle of visibility to a change: the reviewers.   But this draft mechanism does not seem like it gives an author a chance to verify his submission before publishing it to reviewers. Afterall, I would think that reviewers are the people an author is most likely to want to hide his draft from since they are most likely to go view new patchsets right away.\n\nPerhaps you could explain your motivation for drafts? I may have incorrectly assumed that these submissions came out of the email discussion and proposals for drafts here:\nhttps://review.source.android.com/#/c/23817/\nand so my view has been pre biased towards a certain workflow for drafts.  If this was not at all the motivation, then can you help me see the reasons for your approach?",
      "revId": "6bb144df0cb05e6dbf4507280e4e780158c9c3f9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABEn///p0\u003d",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/rpc/changedetail/ChangeDetailFactory.java",
        "patchSetId": 2
      },
      "lineNbr": 149,
      "author": {
        "id": 1006632
      },
      "writtenOn": "2011-08-01T18:04:25Z",
      "side": 1,
      "message": "Sorry, the confusion is probably because I\u0027ve been putting off modifying the notifications for so long.\n\nMy intent was to allow only the uploader and people he/she explicitly defines as reviewers to see the draft patch. That way, drafts can also be used for getting help or just to show code to somebody else, especially with people that are not in the same location.\n\nI plan to modify the notifications to only notify project owners, etc. of a new change/patchset when it\u0027s not a draft.",
      "parentUuid": "AAABEn///uo\u003d",
      "revId": "6bb144df0cb05e6dbf4507280e4e780158c9c3f9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABEn///us\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ChangeControl.java",
        "patchSetId": 2
      },
      "lineNbr": 167,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-07-30T23:57:49Z",
      "side": 1,
      "message": "Why keep the old isVisible?",
      "revId": "6bb144df0cb05e6dbf4507280e4e780158c9c3f9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABEn///pw\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ChangeControl.java",
        "patchSetId": 2
      },
      "lineNbr": 167,
      "author": {
        "id": 1006632
      },
      "writtenOn": "2011-08-01T18:04:25Z",
      "side": 1,
      "message": "To be honest, I kept the old one because it would require lots of refactoring otherwise, but now that i think about it, I probably should replace the old one.",
      "parentUuid": "AAABEn///us\u003d",
      "revId": "6bb144df0cb05e6dbf4507280e4e780158c9c3f9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABEn///uw\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ChangeControl.java",
        "patchSetId": 2
      },
      "lineNbr": 176,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-07-30T23:57:49Z",
      "side": 1,
      "message": "This seems like it should be private, only to be used by isVisible.",
      "revId": "6bb144df0cb05e6dbf4507280e4e780158c9c3f9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABEn///ps\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ChangeControl.java",
        "patchSetId": 2
      },
      "lineNbr": 176,
      "author": {
        "id": 1006632
      },
      "writtenOn": "2011-08-01T18:04:25Z",
      "side": 1,
      "message": "I kept this public because it\u0027s an easy way to check if a user has draft access for patch sets. isVisible() accounts for draft changes but not patch sets.",
      "parentUuid": "AAABEn///uw\u003d",
      "revId": "6bb144df0cb05e6dbf4507280e4e780158c9c3f9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}