{
  "pushCert": "certificate version 0.1\npusher A0D0EF51 1507625572 +0200\nnonce ANEgCxdqAw65p7e9nyyi6WeqRRBWqiAFQLSXhynPx9c3bykpzXhyJfaEEubQCDgGiwhp4uunhaNK\n\n0000000000000000000000000000000000000000 6bf220c55ef9b85aae6b4f45c30c08fd4c233460 refs/for/master\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQEcBAABAgAGBQJZ3IpkAAoJEFG1/Zeg0O9R5IcH/RZUYk0iEGWGLtpFtSFhRtFu\n3J4ht+klilCiu/qxsZQeVFJpSIcVnOgSbkCCgaaAmAWX4BEePR5vkxSwZHeeTxX2\nC1g3toHZVSYsfLCNFrFq1pKQ+4I7o3V1sWvD3B6CcITkZsfepA1vDhZwmF14jt45\nqAtVa7m4v/gykpl9G9KQ+MvhMU3mcaRZUk8zAI5KfbgyJa98n+t7rKvOzUTtRfLX\n3v9ofTarjtdaZElplO6ckSZb/6Pfn1oYkykPia/er3+Cet6MPIGNLbuT3U6WxxRL\nL6Ogl9KIjalDABSKyuch/5HZtUczfvKHHLrbonZozaWVAKhEJ0HhW6r/o4ydW34\u003d\n\u003dQJKO\n-----END PGP SIGNATURE-----\n",
  "comments": [
    {
      "key": {
        "uuid": "074f46a6_a90842f4",
        "filename": "gerrit-pgm/src/main/java/com/google/gerrit/pgm/init/InitAdminUser.java",
        "patchSetId": 1
      },
      "lineNbr": 88,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-10-10T14:14:43Z",
      "side": 1,
      "message": "Shouldn\u0027t we remove this, too?",
      "range": {
        "startLine": 88,
        "startChar": 9,
        "endLine": 88,
        "endChar": 26
      },
      "revId": "6bf220c55ef9b85aae6b4f45c30c08fd4c233460",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eaec254a_04b727f5",
        "filename": "gerrit-pgm/src/main/java/com/google/gerrit/pgm/init/InitAdminUser.java",
        "patchSetId": 1
      },
      "lineNbr": 88,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2017-10-10T14:32:27Z",
      "side": 1,
      "message": "No, if this is removed the init fails with:\n\n$ java -jar ~/git/gerrit/bazel-bin/gerrit.war init -d ~/site --batch --dev\nfatal: InitInjector failed\nfatal: Unable to create injector, see the following errors:\nfatal: \nfatal: 1) No implementation for com.google.gwtorm.server.SchemaFactory\u003ccom.google.gerrit.reviewdb.server.ReviewDb\u003e was bound.\nfatal:   while locating com.google.gwtorm.server.SchemaFactory\u003ccom.google.gerrit.reviewdb.server.ReviewDb\u003e\nfatal:     for the 1st parameter of com.google.gerrit.pgm.init.InitAdminUser.set(InitAdminUser.java:90)\nfatal:   at com.google.gerrit.pgm.init.InitAdminUser.set(InitAdminUser.java:90)\nfatal:   at com.google.gerrit.pgm.init.InitModule.step(InitModule.java:70)\nfatal: \nfatal: 1 error",
      "parentUuid": "074f46a6_a90842f4",
      "range": {
        "startLine": 88,
        "startChar": 9,
        "endLine": 88,
        "endChar": 26
      },
      "revId": "6bf220c55ef9b85aae6b4f45c30c08fd4c233460",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "303cb1d2_bd51fdba",
        "filename": "gerrit-pgm/src/main/java/com/google/gerrit/pgm/init/InitAdminUser.java",
        "patchSetId": 1
      },
      "lineNbr": 88,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-10-10T14:53:20Z",
      "side": 1,
      "message": "Strange. How is this field different from the index collections? I mean, we also access it in postRun() and would get an NPE if it wasn\u0027t present.",
      "parentUuid": "eaec254a_04b727f5",
      "range": {
        "startLine": 88,
        "startChar": 9,
        "endLine": 88,
        "endChar": 26
      },
      "revId": "6bf220c55ef9b85aae6b4f45c30c08fd4c233460",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8c984b59_e8bdab98",
        "filename": "gerrit-pgm/src/main/java/com/google/gerrit/pgm/init/InitAdminUser.java",
        "patchSetId": 1
      },
      "lineNbr": 88,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2017-10-10T14:58:42Z",
      "side": 1,
      "message": "Injection into InitAdminUser happens twice:\n\n1. when the class is instantiated:\n   This is before the the Gerrit site is created and hence a database is not yet configured.\n2. before the postRun() method is invoked:\n   The site is already created now, hence we can read the database config from gerrit.config and do the injection now.",
      "parentUuid": "303cb1d2_bd51fdba",
      "range": {
        "startLine": 88,
        "startChar": 9,
        "endLine": 88,
        "endChar": 26
      },
      "revId": "6bf220c55ef9b85aae6b4f45c30c08fd4c233460",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dd430ef9_a6411104",
        "filename": "gerrit-pgm/src/main/java/com/google/gerrit/pgm/init/InitAdminUser.java",
        "patchSetId": 1
      },
      "lineNbr": 93,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-10-10T14:14:43Z",
      "side": 1,
      "message": "Here and below: The brackets aren\u0027t necessary.",
      "range": {
        "startLine": 93,
        "startChar": 9,
        "endLine": 93,
        "endChar": 11
      },
      "revId": "6bf220c55ef9b85aae6b4f45c30c08fd4c233460",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "217e38e1_9b2d2324",
        "filename": "gerrit-pgm/src/main/java/com/google/gerrit/pgm/init/InitAdminUser.java",
        "patchSetId": 1
      },
      "lineNbr": 93,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2017-10-10T14:32:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dd430ef9_a6411104",
      "range": {
        "startLine": 93,
        "startChar": 9,
        "endLine": 93,
        "endChar": 11
      },
      "revId": "6bf220c55ef9b85aae6b4f45c30c08fd4c233460",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}