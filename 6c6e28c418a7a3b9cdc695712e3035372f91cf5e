{
  "comments": [
    {
      "key": {
        "uuid": "944aed40_b2014068",
        "filename": "/COMMIT_MSG",
        "patchSetId": 10
      },
      "lineNbr": 7,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-06-15T17:20:59Z",
      "side": 1,
      "message": "Why \"push\" instead of \"add\" like is already used in ChangeControl#canAddPatchSet?\n\nIn particular, it is possible to create new patch sets without pushing. Although I guess the counterargument is the permission queried by RefControl#canUpload is neither \"add\" nor \"upload\" but in fact \"push\". So maybe I\u0027ve answered my own question.\n\nHowever, that got me thinking about non-push ways of adding new patch sets. You\u0027ve already identified one, using edits.\n\nAnother way, which I don\u0027t think you\u0027ve addressed here, is by cherry-picking a change when the same Change-Id already exists on the destination branch (see CherryPickChange.java:192).\n\nI think more generally you should add a call to ctl.canAddPatchSet to PatchSetInserter#validate, which would cover the case I just mentioned. It\u0027s really probably a bug that we aren\u0027t already doing that.",
      "range": {
        "startLine": 7,
        "startChar": 4,
        "endLine": 7,
        "endChar": 18
      },
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d472a590_14903408",
        "filename": "/COMMIT_MSG",
        "patchSetId": 10
      },
      "lineNbr": 7,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2016-06-16T07:54:55Z",
      "side": 1,
      "message": "Good idea, I also like \"Add Patch Set\" more for the permission name.\n\nIs CherryPickChange relevant? It\u0027s creating a new change, but the new permission is only about adding new patch sets to existing changes.",
      "parentUuid": "944aed40_b2014068",
      "range": {
        "startLine": 7,
        "startChar": 4,
        "endLine": 7,
        "endChar": 18
      },
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d472a590_14b91490",
        "filename": "/COMMIT_MSG",
        "patchSetId": 10
      },
      "lineNbr": 7,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2016-06-16T08:14:33Z",
      "side": 1,
      "message": "I have renamed it to addPatchSet. Is CherryPickChange worth investigating further and/or should I add the call you mentioned?",
      "parentUuid": "d472a590_14903408",
      "range": {
        "startLine": 7,
        "startChar": 4,
        "endLine": 7,
        "endChar": 18
      },
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "89e81467_428f323c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 10
      },
      "lineNbr": 7,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-06-16T12:57:16Z",
      "side": 1,
      "message": "\u003e Is CherryPickChange relevant?\n\nYes. It is capable of either creating a new change *or* a new patch set on an existing change. Relevant snippet around l. 192:\n\n if (destChanges.size() \u003d\u003d 1) {\n   // The change key exists on the destination branch. The cherry pick\n   // will be added as a new patch set.\n   ChangeControl destCtl \u003d refControl.getProjectControl()\n       .controlFor(destChanges.get(0).notes());\n   result \u003d insertPatchSet(\n       bu, git, destCtl, cherryPickCommit, refControl);\n } else {\n   // Change key not found on destination branch. We can create a new\n   // change.\n   String newTopic \u003d null;\n   if (!Strings.isNullOrEmpty(change.getTopic())) {\n     newTopic \u003d change.getTopic() + \"-\" + newDest.getShortName();\n   }\n   result \u003d\n       createNewChange(bu, cherryPickCommit,\n           refControl.getRefName(), newTopic, change.getDest());\n\n   bu.addOp(change.getId(),\n       new AddMessageToSourceChangeOp(\n           changeMessagesUtil, patch.getId(), destinationBranch,\n           cherryPickCommit));\n }",
      "parentUuid": "d472a590_14903408",
      "range": {
        "startLine": 7,
        "startChar": 4,
        "endLine": 7,
        "endChar": 18
      },
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "944aed40_12c84c55",
        "filename": "Documentation/access-control.txt",
        "patchSetId": 10
      },
      "lineNbr": 571,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-06-15T17:20:59Z",
      "side": 1,
      "message": "This is actually a little surprising because it\u0027s saying if you explicitly DENY this permission to \"Change Owner\", Gerrit will ignore that permission entry.\n\nI\u0027m not saying it\u0027s wrong, just surprising.",
      "range": {
        "startLine": 571,
        "startChar": 18,
        "endLine": 571,
        "endChar": 49
      },
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d472a590_b4a0605f",
        "filename": "Documentation/access-control.txt",
        "patchSetId": 10
      },
      "lineNbr": 571,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2016-06-16T08:14:33Z",
      "side": 1,
      "message": "Yes. Shawn wanted this behavior since he was afraid people/admins can lock change owners out accidentally and there is not real case where you want a change owner not to be able to add/push new patch sets to his changes.",
      "parentUuid": "944aed40_12c84c55",
      "range": {
        "startLine": 571,
        "startChar": 18,
        "endLine": 571,
        "endChar": 49
      },
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "944aed40_f2e2e8db",
        "filename": "Documentation/access-control.txt",
        "patchSetId": 10
      },
      "lineNbr": 576,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-06-15T17:20:59Z",
      "side": 1,
      "message": "Nit: wrapping",
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f4732992_f5fbb87f",
        "filename": "Documentation/access-control.txt",
        "patchSetId": 10
      },
      "lineNbr": 576,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-06-15T17:20:59Z",
      "side": 1,
      "message": "I thought the idea was this is the default? If it is the default, maybe worth mentioning so people don\u0027t think they have to do anythign.",
      "range": {
        "startLine": 576,
        "startChar": 39,
        "endLine": 576,
        "endChar": 83
      },
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1427dd99_a68ae627",
        "filename": "Documentation/access-control.txt",
        "patchSetId": 10
      },
      "lineNbr": 576,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2016-06-16T08:14:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f4732992_f5fbb87f",
      "range": {
        "startLine": 576,
        "startChar": 39,
        "endLine": 576,
        "endChar": 83
      },
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1427dd99_8685ea1c",
        "filename": "Documentation/access-control.txt",
        "patchSetId": 10
      },
      "lineNbr": 576,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2016-06-16T08:14:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "944aed40_f2e2e8db",
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f4732992_15f114a1",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 10
      },
      "lineNbr": 1172,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-06-15T17:20:59Z",
      "side": 1,
      "message": "Nit: pushPatchSet1",
      "range": {
        "startLine": 1172,
        "startChar": 39,
        "endLine": 1172,
        "endChar": 51
      },
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1427dd99_e694de4f",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 10
      },
      "lineNbr": 1172,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2016-06-16T08:14:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f4732992_15f114a1",
      "range": {
        "startLine": 1172,
        "startChar": 39,
        "endLine": 1172,
        "endChar": 51
      },
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f4732992_75e888af",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 10
      },
      "lineNbr": 1175,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-06-15T17:20:59Z",
      "side": 1,
      "message": "Optional: I think you can save some horizontal width by using \u003c?\u003e",
      "range": {
        "startLine": 1175,
        "startChar": 19,
        "endLine": 1175,
        "endChar": 37
      },
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1427dd99_46a4d2bc",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 10
      },
      "lineNbr": 1175,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2016-06-16T08:14:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f4732992_75e888af",
      "range": {
        "startLine": 1175,
        "startChar": 19,
        "endLine": 1175,
        "endChar": 37
      },
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f4732992_35ee10be",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 10
      },
      "lineNbr": 1197,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-06-15T17:20:59Z",
      "side": 1,
      "message": "Assert you have the right message as well.",
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d472a590_d4bebc79",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 10
      },
      "lineNbr": 1197,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2016-06-16T08:14:33Z",
      "side": 1,
      "message": "Done. I also changed the message since \"replace\" was not the correct term I think.",
      "parentUuid": "f4732992_35ee10be",
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f4732992_55eb8cac",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 10
      },
      "lineNbr": 1227,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-06-15T17:20:59Z",
      "side": 1,
      "message": "Patch",
      "range": {
        "startLine": 1227,
        "startChar": 43,
        "endLine": 1227,
        "endChar": 47
      },
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1427dd99_c68fe236",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 10
      },
      "lineNbr": 1227,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2016-06-16T08:14:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f4732992_55eb8cac",
      "range": {
        "startLine": 1227,
        "startChar": 43,
        "endLine": 1227,
        "endChar": 47
      },
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f4732992_9521a405",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 10
      },
      "lineNbr": 1254,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-06-15T17:20:59Z",
      "side": 1,
      "message": "Patch",
      "range": {
        "startLine": 1254,
        "startChar": 43,
        "endLine": 1254,
        "endChar": 47
      },
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1427dd99_069ada78",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 10
      },
      "lineNbr": 1254,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2016-06-16T08:14:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f4732992_9521a405",
      "range": {
        "startLine": 1254,
        "startChar": 43,
        "endLine": 1254,
        "endChar": 47
      },
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "944aed40_72cfd85b",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 10
      },
      "lineNbr": 1266,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-06-15T17:20:59Z",
      "side": 1,
      "message": "I think here you should attempt to push a new patch set as the user prior to being added as a reviewer, and assert that it fails.",
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f4732992_f5301850",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 10
      },
      "lineNbr": 1266,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-06-15T17:23:23Z",
      "side": 1,
      "message": "Ah, I see you already discussed this with Edwin. In that case I would like a TODO or even commented-out code so we know it\u0027s intended.",
      "parentUuid": "944aed40_72cfd85b",
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d472a590_f4c3b8f2",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 10
      },
      "lineNbr": 1266,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2016-06-16T08:14:33Z",
      "side": 1,
      "message": "Yes, that is a different story and handled in a different change.",
      "parentUuid": "f4732992_f5301850",
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f4732992_b526a018",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 10
      },
      "lineNbr": 1287,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-06-15T17:20:59Z",
      "side": 1,
      "message": "Patch",
      "range": {
        "startLine": 1287,
        "startChar": 43,
        "endLine": 1287,
        "endChar": 47
      },
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1427dd99_2697d651",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 10
      },
      "lineNbr": 1287,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2016-06-16T08:14:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f4732992_b526a018",
      "range": {
        "startLine": 1287,
        "startChar": 43,
        "endLine": 1287,
        "endChar": 47
      },
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "944aed40_32c5503e",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 10
      },
      "lineNbr": 1317,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-06-15T17:20:59Z",
      "side": 1,
      "message": "Assert about the message",
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1427dd99_a6b3c603",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 10
      },
      "lineNbr": 1317,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2016-06-16T08:14:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "944aed40_32c5503e",
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f4732992_d52b1cdf",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/edit/ChangeEditIT.java",
        "patchSetId": 10
      },
      "lineNbr": 782,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-06-15T17:20:59Z",
      "side": 1,
      "message": "Patch",
      "range": {
        "startLine": 782,
        "startChar": 43,
        "endLine": 782,
        "endChar": 47
      },
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d472a590_d4a5dc6d",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/edit/ChangeEditIT.java",
        "patchSetId": 10
      },
      "lineNbr": 782,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2016-06-16T08:14:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f4732992_d52b1cdf",
      "range": {
        "startLine": 782,
        "startChar": 43,
        "endLine": 782,
        "endChar": 47
      },
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "944aed40_92fc3c7d",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/edit/ChangeEditIT.java",
        "patchSetId": 10
      },
      "lineNbr": 798,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-06-15T17:20:59Z",
      "side": 1,
      "message": "Hm this interface doesn\u0027t let you inspect the message? That\u0027s too bad.",
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d472a590_f4aad83a",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/edit/ChangeEditIT.java",
        "patchSetId": 10
      },
      "lineNbr": 798,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2016-06-16T08:14:33Z",
      "side": 1,
      "message": "Indeed.",
      "parentUuid": "944aed40_92fc3c7d",
      "revId": "6c6e28c418a7a3b9cdc695712e3035372f91cf5e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}