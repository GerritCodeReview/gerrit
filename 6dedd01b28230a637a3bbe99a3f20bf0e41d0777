{
  "comments": [
    {
      "key": {
        "uuid": "AAAKzn///8k\u003d",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/admin/ProjectInfoScreen.java",
        "patchSetId": 2
      },
      "lineNbr": 238,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2012-10-25T14:24:56Z",
      "side": 1,
      "message": "Can box be null? If yes, it should probably also be checked in getBool(ListBox)",
      "revId": "6dedd01b28230a637a3bbe99a3f20bf0e41d0777",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAK2n////U\u003d",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/admin/ProjectInfoScreen.java",
        "patchSetId": 2
      },
      "lineNbr": 238,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2012-10-25T18:23:51Z",
      "side": 1,
      "message": "Its never null.",
      "parentUuid": "AAAKzn///8k\u003d",
      "revId": "6dedd01b28230a637a3bbe99a3f20bf0e41d0777",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAKzn///8U\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ProjectState.java",
        "patchSetId": 2
      },
      "lineNbr": 300,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2012-10-25T14:34:47Z",
      "side": 1,
      "message": "This and the following 3 methods are identical except the getter call in the switch line. Does it make sense to factor out the logic of computing the inherited value (into an inner class) and make use of it in these 4 methods:\n\n  private abstract class InheritedValue {\n    Set\u003cProject.NameKey\u003e seen \u003d Sets.newHashSet();\n\n    abstract InheritedBoolean getValue(Project p);\n\n    boolean compute() {\n      seen.add(getProject().getNameKey());\n      ProjectState s \u003d ProjectState.this;\n      do {\n        switch (getValue(s.getProject())) {\n          case TRUE:\n            return true;\n          case FALSE:\n            return false;\n          case INHERIT:\n          default:\n            Project.NameKey parent \u003d s.getProject().getParent();\n            if (parent \u003d\u003d null || !seen.add(parent)) {\n              break;\n            }\n            s \u003d projectCache.get(parent);\n        }\n      } while (s !\u003d null);\n      return false;\n    }\n  }\n\n  public boolean isUseContributorAgreements() {\n    return new InheritedValue() {\n      InheritedBoolean getValue(Project p) {\n        return p.getUseContributorAgreements();\n      };\n    }.compute();\n  }",
      "revId": "6dedd01b28230a637a3bbe99a3f20bf0e41d0777",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAK2n////Q\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ProjectState.java",
        "patchSetId": 2
      },
      "lineNbr": 300,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2012-10-25T18:23:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AAAKzn///8U\u003d",
      "revId": "6dedd01b28230a637a3bbe99a3f20bf0e41d0777",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAKzn///8g\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ProjectState.java",
        "patchSetId": 2
      },
      "lineNbr": 312,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2012-10-25T14:24:56Z",
      "side": 1,
      "message": "Shouldn\u0027t this be\n  Project.NameKey parent \u003d s.getProject().getParent(allProjectsName);\n?\n\ns.getProject().getParent() may return null if the project is a child of the All-Projects project.",
      "revId": "6dedd01b28230a637a3bbe99a3f20bf0e41d0777",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAK2n////I\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ProjectState.java",
        "patchSetId": 2
      },
      "lineNbr": 312,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2012-10-25T18:23:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AAAKzn///8g\u003d",
      "revId": "6dedd01b28230a637a3bbe99a3f20bf0e41d0777",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAKzn///8Q\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ProjectState.java",
        "patchSetId": 2
      },
      "lineNbr": 314,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2012-10-25T14:31:26Z",
      "side": 1,
      "message": "This doen\u0027t end the loop, but only terminates the enclosing switch statement. To avoid the endless loop, null should be assigned to \u0027s\u0027.",
      "revId": "6dedd01b28230a637a3bbe99a3f20bf0e41d0777",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAKzn///8s\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ProjectState.java",
        "patchSetId": 2
      },
      "lineNbr": 318,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2012-10-25T13:52:08Z",
      "side": 1,
      "message": "When running the RefControlTest during mvn build I\u0027m getting stuck here in an endless loop.\n\nStacktrace:\n\"main\" prio\u003d6 tid\u003d0x00000000003bb800 nid\u003d0x1c20 runnable [0x000000000276e000]\n   java.lang.Thread.State: RUNNABLE\n  at com.google.gerrit.server.project.ProjectState.isUseContributorAgreements(ProjectState.java:318)\n  at com.google.gerrit.server.project.ProjectControl.canPushToAtLeastOneRef(ProjectControl.java:235)\n  at com.google.gerrit.server.project.RefControlTest.testInheritRead_SingleBranchDeniesUpload(RefControlTest.java:123)\n  ...",
      "revId": "6dedd01b28230a637a3bbe99a3f20bf0e41d0777",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAK2n////M\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ProjectState.java",
        "patchSetId": 2
      },
      "lineNbr": 318,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2012-10-25T18:23:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AAAKzn///8s\u003d",
      "revId": "6dedd01b28230a637a3bbe99a3f20bf0e41d0777",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}