{
  "comments": [
    {
      "key": {
        "uuid": "4ae474be_9a7222d8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 9,
      "author": {
        "id": 1086906
      },
      "writtenOn": "2020-07-06T08:27:16Z",
      "side": 1,
      "message": "hide ?",
      "range": {
        "startLine": 9,
        "startChar": 25,
        "endLine": 9,
        "endChar": 28
      },
      "revId": "6fd8c423f85e7942a42c908f79663bfe8612062a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "919f53ad_e3820191",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 9,
      "author": {
        "id": 1012155
      },
      "writtenOn": "2020-07-11T13:33:42Z",
      "side": 1,
      "message": "Done in PS3",
      "parentUuid": "4ae474be_9a7222d8",
      "range": {
        "startLine": 9,
        "startChar": 25,
        "endLine": 9,
        "endChar": 28
      },
      "revId": "6fd8c423f85e7942a42c908f79663bfe8612062a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "19a2e0e7_7d352418",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1012155
      },
      "writtenOn": "2020-07-05T22:02:50Z",
      "side": 1,
      "message": "Changes from this topic are live on Wikimedia\u0027s Gerrit.\n\nFor a live change that only has `Depends on`, click on\nhttps://gerrit.wikimedia.org/r/c/mediawiki/extensions/Wikibase/+/602279\n\nFor a live change that only has `Needed by`, click on\nhttps://gerrit.wikimedia.org/r/c/mediawiki/extensions/WikibaseQualityConstraints/+/602749\n\nBefore the changes of this topic, the `Depends on` and `Needed by` were invisible.",
      "revId": "6fd8c423f85e7942a42c908f79663bfe8612062a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9bf01fe9_0df16e71",
        "filename": "polygerrit-ui/app/elements/change/gr-related-changes-list/gr-related-changes-list.js",
        "patchSetId": 2
      },
      "lineNbr": 358,
      "author": {
        "id": 1086906
      },
      "writtenOn": "2020-07-06T08:27:16Z",
      "side": 1,
      "message": "maybe just use use `gr-plugin-endpoints.js` (`getDetails`) to see if any plugin registered to  the `related-changes-section` endpoint or not ? it should roughly the same as checking the content. It would be very hard to detect if plugin registers any visible content or not reliably. in general we suggest plugin only register the component if there are something visible, its also good for performance since you just add more unnecessary DOM nodes if they are not visible",
      "revId": "6fd8c423f85e7942a42c908f79663bfe8612062a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9ddd1a2c_dbe614b9",
        "filename": "polygerrit-ui/app/elements/change/gr-related-changes-list/gr-related-changes-list.js",
        "patchSetId": 2
      },
      "lineNbr": 358,
      "author": {
        "id": 1012155
      },
      "writtenOn": "2020-07-09T20:39:24Z",
      "side": 1,
      "message": "\u003e It would be very hard to detect if plugin registers any visible content [...]\n\nIf the plugin plays along, it\u0027s not that hard.\n\nIf the plugin sets the `hidden` attribute correctly on its top level element,\ngr-related-changes-list can detect it nicely and hides/unhides itself accordingly.\n\nFor example the zuul plugin does that in this commit\nhttps://gerrit-review.googlesource.com/c/plugins/zuul/+/274440\nand that works really well for us.\n\nIf you say so, I\u0027ll gladly switch to `getDetails()`. But that boils down to\nthe `gr-related-changes-list` being (unnecessarily) visible always on sites\nthat have a plugin there.",
      "parentUuid": "9bf01fe9_0df16e71",
      "revId": "6fd8c423f85e7942a42c908f79663bfe8612062a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c8940dc8_c66b7f11",
        "filename": "polygerrit-ui/app/elements/change/gr-related-changes-list/gr-related-changes-list.js",
        "patchSetId": 2
      },
      "lineNbr": 358,
      "author": {
        "id": 1012155
      },
      "writtenOn": "2020-07-11T13:33:42Z",
      "side": 1,
      "message": "Maybe I misunderstood your original comment.\n\nAt any rate, I now switched the visibility detection to\n`gr-plugin-endpoints.js` (`getDetails`), while still checking for the\n`hidden` attribute. This makes the code more compact and it looks more\nrobust. While it also allows to dynamically hide the whole related\nchanges list.",
      "parentUuid": "9ddd1a2c_dbe614b9",
      "revId": "6fd8c423f85e7942a42c908f79663bfe8612062a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}