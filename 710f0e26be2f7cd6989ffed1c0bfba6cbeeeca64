{
  "comments": [
    {
      "key": {
        "uuid": "d73267d2_ea8747ed",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/account/GroupControl.java",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-02-05T12:32:47Z",
      "side": 1,
      "message": "With this condition all LDAP groups are now visible to everyone. Is this really what we want? If yes, this should be much clearer in the commit message.\n\nAlso why do we have a special handling only for LDAP groups, shouldn\u0027t all external groups be treated the same way?",
      "range": {
        "startLine": 138,
        "startChar": 6,
        "endLine": 138,
        "endChar": 44
      },
      "revId": "710f0e26be2f7cd6989ffed1c0bfba6cbeeeca64",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "972c6f7c_885fb7dc",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/account/GroupControl.java",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 1012987
      },
      "writtenOn": "2015-02-05T16:16:12Z",
      "side": 1,
      "message": "\u003e With this condition all LDAP groups are now visible to everyone. Is this really what we want? If yes, this should be much clearer in the commit message.\n\nWhat is your opinion about having ldap groups visible to everyone? We did not see any other way than this to allow a someone to include an ldap group (which he is not a member of) in a gerrit group.",
      "parentUuid": "d73267d2_ea8747ed",
      "range": {
        "startLine": 138,
        "startChar": 6,
        "endLine": 138,
        "endChar": 44
      },
      "revId": "710f0e26be2f7cd6989ffed1c0bfba6cbeeeca64",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7cbfe0de_37775825",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/account/GroupControl.java",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-02-10T07:45:47Z",
      "side": 1,
      "message": "I\u0027m pretty sure that not everyone wants all LDAP groups to be visible to everyone. At least we have a huge LDAP system with tons of groups which shouldn\u0027t be public.\n\nMaking all LDAP groups visible for everyone is quite a big change, but the commit message doesn\u0027t mention it at all. It should be clearly said there.\n\nIf we decide that making all LDAP groups visible to everyone is the way to go, I have some comments about this implementation:\n\n- Why are LDAP groups handled different than other external groups?\n- All LDAP-specific group handling should be done in the LdapGroupBackend.\n\nMaybe GroupBackend should have a new method like\n  boolean isVisibleTo(AccountGroup.UUID uuid, IdentifiedUser user)\n?\n\nThen each group backend could decide under which conditions a group is visible. We could then also have a new configuration parameter for LDAP, which decides if groups are visible to all users or not.",
      "parentUuid": "972c6f7c_885fb7dc",
      "range": {
        "startLine": 138,
        "startChar": 6,
        "endLine": 138,
        "endChar": 44
      },
      "revId": "710f0e26be2f7cd6989ffed1c0bfba6cbeeeca64",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "11ab2ff1_ac33c3f1",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/account/GroupControl.java",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 1016722
      },
      "writtenOn": "2015-02-11T19:16:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7cbfe0de_37775825",
      "range": {
        "startLine": 138,
        "startChar": 6,
        "endLine": 138,
        "endChar": 44
      },
      "revId": "710f0e26be2f7cd6989ffed1c0bfba6cbeeeca64",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "91b71f4c_f02da08f",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/account/GroupControl.java",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 1016722
      },
      "writtenOn": "2015-02-11T19:16:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "972c6f7c_885fb7dc",
      "range": {
        "startLine": 138,
        "startChar": 6,
        "endLine": 138,
        "endChar": 44
      },
      "revId": "710f0e26be2f7cd6989ffed1c0bfba6cbeeeca64",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "972c6f7c_48c93f48",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/account/GroupControl.java",
        "patchSetId": 1
      },
      "lineNbr": 139,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-02-05T12:32:47Z",
      "side": 1,
      "message": "This formatting looks strange, why not to write it as\n\n  || group.getName().startsWith(\"ldap/\")\n  || user.getCapabilities().canAdministrateServer();\n\n?",
      "range": {
        "startLine": 138,
        "startChar": 6,
        "endLine": 139,
        "endChar": 54
      },
      "revId": "710f0e26be2f7cd6989ffed1c0bfba6cbeeeca64",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d73267d2_aae2afa3",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/account/GroupControl.java",
        "patchSetId": 1
      },
      "lineNbr": 139,
      "author": {
        "id": 1012987
      },
      "writtenOn": "2015-02-05T16:16:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "972c6f7c_48c93f48",
      "range": {
        "startLine": 138,
        "startChar": 6,
        "endLine": 139,
        "endChar": 54
      },
      "revId": "710f0e26be2f7cd6989ffed1c0bfba6cbeeeca64",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}