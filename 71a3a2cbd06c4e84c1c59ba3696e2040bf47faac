{
  "comments": [
    {
      "key": {
        "uuid": "d86713cc_79c6c784",
        "filename": "gerrit-reviewdb/src/main/java/com/google/gerrit/reviewdb/client/Change.java",
        "patchSetId": 2
      },
      "lineNbr": 456,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-09-29T18:27:42Z",
      "side": 1,
      "message": "Please document this field.",
      "revId": "71a3a2cbd06c4e84c1c59ba3696e2040bf47faac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "98d83b3c_ff695f00",
        "filename": "gerrit-reviewdb/src/main/java/com/google/gerrit/reviewdb/client/Change.java",
        "patchSetId": 2
      },
      "lineNbr": 456,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2015-09-29T19:41:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d86713cc_79c6c784",
      "revId": "71a3a2cbd06c4e84c1c59ba3696e2040bf47faac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d86713cc_99d1db3e",
        "filename": "gerrit-reviewdb/src/main/java/com/google/gerrit/reviewdb/client/Change.java",
        "patchSetId": 2
      },
      "lineNbr": 457,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-09-29T18:27:42Z",
      "side": 1,
      "message": "I think we need a better name. It is not at all obvious, either here or later on when you do searches for \"changeset:X\", that this field is only set on merged changes. I get where you\u0027re coming from, that this is an identifier of a ChangeSet, but I\u0027m arguing that the _use_ of the field is more important than the _origin_ when it comes to naming.",
      "range": {
        "startLine": 457,
        "startChar": 19,
        "endLine": 457,
        "endChar": 28
      },
      "revId": "71a3a2cbd06c4e84c1c59ba3696e2040bf47faac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "98d83b3c_5f308b19",
        "filename": "gerrit-reviewdb/src/main/java/com/google/gerrit/reviewdb/client/Change.java",
        "patchSetId": 2
      },
      "lineNbr": 457,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2015-09-29T19:41:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d86713cc_99d1db3e",
      "range": {
        "startLine": 457,
        "startChar": 19,
        "endLine": 457,
        "endChar": 28
      },
      "revId": "71a3a2cbd06c4e84c1c59ba3696e2040bf47faac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "38990ffa_1ce6951a",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/MergeOp.java",
        "patchSetId": 2
      },
      "lineNbr": 342,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-09-29T18:27:42Z",
      "side": 1,
      "message": "I don\u0027t think this is a great value to store in the index, since it means you have to quote the search strings. But I do kind of like the idea that the timestamp is in there somewhere, which might help for debugging.\n\nThe hashCode() of the Change is not particularly useful, because Change doesn\u0027t implement hashCode(). Maybe just use the numeric change ID?\n\nUnfortunately, then we lose some uniqueness, since the (timestamp, change ID) pair for a submit may not be unique across the fleet.\n\nHow about something like:\n\n String myId \u003d Hashing.sha1().newHasher()\n   .putLong(Thread.getCurrentThread().getId())\n   .putBytes(InetAddress.getLocalHost().getAddress())\n   .toString()\n   .substring(0, 8);\n submissionId \u003d change.getId().get() + \"-\" + TimeUtil.nowMs() + \"-\" + myId;\n logPrefix \u003d \"[\" + submissionId + \"]\";\n\n(Except maybe cache the getLocalHost bytes to avoid having to try/catch on every invocation)\n\nThen you end up with an ID like:\n\n \u003cchange id\u003e-\u003ctimestamp\u003e-\u003cper-host/thread id\u003e\n 12345-1443551195056-ab12cd34",
      "revId": "71a3a2cbd06c4e84c1c59ba3696e2040bf47faac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "98d83b3c_3f3bc701",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/MergeOp.java",
        "patchSetId": 2
      },
      "lineNbr": 342,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2015-09-29T19:41:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "38990ffa_1ce6951a",
      "revId": "71a3a2cbd06c4e84c1c59ba3696e2040bf47faac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}