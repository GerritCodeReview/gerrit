{
  "comments": [
    {
      "key": {
        "uuid": "17a1ecfd_d3d3af4c",
        "filename": "polygerrit-ui/app/elements/shared/gr-label-info/gr-label-info.js",
        "patchSetId": 3
      },
      "lineNbr": 157,
      "author": {
        "id": 1086906
      },
      "writtenOn": "2020-05-18T14:43:36Z",
      "side": 0,
      "message": "this is no longer needed ? or it will be included by the new logic ?",
      "range": {
        "startLine": 151,
        "startChar": 6,
        "endLine": 157,
        "endChar": 7
      },
      "revId": "71ebe320f0d26c9b5b00e91fdc50040a8028c3ca",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "55fdc12f_059a4874",
        "filename": "polygerrit-ui/app/elements/shared/gr-label-info/gr-label-info.js",
        "patchSetId": 3
      },
      "lineNbr": 157,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2020-05-18T15:24:07Z",
      "side": 0,
      "message": "The previous logic was doing the following:\n\n- get a list of all votes done from the LabelInfo object (This also includes all votes that did not change this label at all)\n- go through the list and compare the label value with the default label, e.g:\nUsually the default value is 0. So, if somebody voted +1, the placeholder would \nbe hidden, if nobody voted or if somebody voted 0 (removed his/her vote) the placeholder would stay.\n\nThe issue here was, that prolog rules wouldn\u0027t change the label value and thus the placeholder would stay.\nHowever, as soon as a value other than 0 was applied to the label or if the prolog rule would approve it, there is a field added to the LabelInfo object. This could be one of \u0027approved\u0027 (highest value), \u0027rejected\u0027 (lowest value), \u0027disliked\u0027 (0 \u003e x \u003e min_value) or \u0027recommended\u0027 (0 \u003c x \u003c max_value) [1]. So checking for these fields actually has the same information and even works better and is more efficient, isnce we don\u0027t have to loop through potentially a lot of votes.\n\nSo yes, the new code should include all cases that the old code caught.\n\n[1] https://gerrit-review.googlesource.com/Documentation/rest-api-changes.html#_fields_set_by_code_labels_code",
      "parentUuid": "17a1ecfd_d3d3af4c",
      "range": {
        "startLine": 151,
        "startChar": 6,
        "endLine": 157,
        "endChar": 7
      },
      "revId": "71ebe320f0d26c9b5b00e91fdc50040a8028c3ca",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dd066569_dceb582c",
        "filename": "polygerrit-ui/app/elements/shared/gr-label-info/gr-label-info.js",
        "patchSetId": 3
      },
      "lineNbr": 157,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2020-05-19T10:29:23Z",
      "side": 0,
      "message": "Ok, I understand your concern now. With my change, I assume that the default value is 0, which might not be the case. Let me test, what the behavior is, when the default value is not 0 and adapt my change if necessary.",
      "parentUuid": "55fdc12f_059a4874",
      "range": {
        "startLine": 151,
        "startChar": 6,
        "endLine": 157,
        "endChar": 7
      },
      "revId": "71ebe320f0d26c9b5b00e91fdc50040a8028c3ca",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b83d6980_e1fc8691",
        "filename": "polygerrit-ui/app/elements/shared/gr-label-info/gr-label-info.js",
        "patchSetId": 3
      },
      "lineNbr": 157,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2020-05-19T13:12:07Z",
      "side": 0,
      "message": "Done",
      "parentUuid": "dd066569_dceb582c",
      "range": {
        "startLine": 151,
        "startChar": 6,
        "endLine": 157,
        "endChar": 7
      },
      "revId": "71ebe320f0d26c9b5b00e91fdc50040a8028c3ca",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}