{
  "comments": [
    {
      "key": {
        "uuid": "1d1f737b_f50b5a77",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 7,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-07-19T07:20:00Z",
      "side": 1,
      "message": "I think this could also be clearer, maybe: \"Add REST API to configure notifications on project level\"?",
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9549bcfd_56c01fae",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 7,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-24T12:00:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1d1f737b_f50b5a77",
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "beae68ba_2b913218",
        "filename": "Documentation/rest-api-projects.txt",
        "patchSetId": 6
      },
      "lineNbr": 3190,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-07-18T13:55:34Z",
      "side": 1,
      "message": "Maybe better name this \"notify_configs\"?",
      "range": {
        "startLine": 3190,
        "startChar": 2,
        "endLine": 3190,
        "endChar": 12
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6b5abf57_cb7237b4",
        "filename": "Documentation/rest-api-projects.txt",
        "patchSetId": 6
      },
      "lineNbr": 3190,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-24T12:00:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "beae68ba_2b913218",
      "range": {
        "startLine": 3190,
        "startChar": 2,
        "endLine": 3190,
        "endChar": 12
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d5a78f08_cdfbec8d",
        "filename": "Documentation/rest-api-projects.txt",
        "patchSetId": 6
      },
      "lineNbr": 3191,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-07-18T13:55:34Z",
      "side": 1,
      "message": "Name this NotifyConfigInfo?",
      "range": {
        "startLine": 3191,
        "startChar": 8,
        "endLine": 3191,
        "endChar": 24
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "838a7993_ddebcb94",
        "filename": "Documentation/rest-api-projects.txt",
        "patchSetId": 6
      },
      "lineNbr": 3191,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-07-18T13:55:34Z",
      "side": 1,
      "message": "I think it would be better if this was a map of notify config name to NotifyConfigInfo.",
      "range": {
        "startLine": 3191,
        "startChar": 0,
        "endLine": 3191,
        "endChar": 7
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e7b9b81e_9725294e",
        "filename": "Documentation/rest-api-projects.txt",
        "patchSetId": 6
      },
      "lineNbr": 3191,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-24T12:00:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d5a78f08_cdfbec8d",
      "range": {
        "startLine": 3191,
        "startChar": 8,
        "endLine": 3191,
        "endChar": 24
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7be0f931_5669961b",
        "filename": "Documentation/rest-api-projects.txt",
        "patchSetId": 6
      },
      "lineNbr": 3191,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-24T12:00:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "838a7993_ddebcb94",
      "range": {
        "startLine": 3191,
        "startChar": 0,
        "endLine": 3191,
        "endChar": 7
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "07b3bf7b_99d69de4",
        "filename": "Documentation/rest-api-projects.txt",
        "patchSetId": 6
      },
      "lineNbr": 3263,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-07-18T13:55:34Z",
      "side": 1,
      "message": "Having a single list here is not optimal, since it makes adding a new notify configuration difficult.\nIf this field is set, you overwrite all existing notification configs. This means if a user just wants to add a new entry, but not lose the existing entries, the user must first retrieve all existing entries, then add the new entry, and then set all entries in this field. This is not only difficult to use, but it\u0027s also not safe against races, since somebody else can add entries after you read the entries but before you have sent the update request.\n\nThis is why I suggested to have separate fields for additions and removals, similar to what ProjectAccessInput has [1].\n\n[1] https://gerrit-review.googlesource.com/Documentation/rest-api-projects.html#project-access-input",
      "range": {
        "startLine": 3261,
        "startChar": 0,
        "endLine": 3263,
        "endChar": 40
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "64ea7c09_83c4823c",
        "filename": "Documentation/rest-api-projects.txt",
        "patchSetId": 6
      },
      "lineNbr": 3263,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-24T12:00:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "07b3bf7b_99d69de4",
      "range": {
        "startLine": 3261,
        "startChar": 0,
        "endLine": 3263,
        "endChar": 40
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a1ba0a3_87aa7ff9",
        "filename": "Documentation/rest-api-projects.txt",
        "patchSetId": 6
      },
      "lineNbr": 3268,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-07-18T13:55:34Z",
      "side": 1,
      "message": "\"notify configuration\"?",
      "range": {
        "startLine": 3268,
        "startChar": 46,
        "endLine": 3268,
        "endChar": 80
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5d63c737_b792ffe7",
        "filename": "Documentation/rest-api-projects.txt",
        "patchSetId": 6
      },
      "lineNbr": 3268,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-24T12:00:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5a1ba0a3_87aa7ff9",
      "range": {
        "startLine": 3268,
        "startChar": 46,
        "endLine": 3268,
        "endChar": 80
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "afd8c603_304b2c2d",
        "filename": "Documentation/rest-api-projects.txt",
        "patchSetId": 6
      },
      "lineNbr": 3270,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-07-18T13:55:34Z",
      "side": 1,
      "message": "I think this is an implementation details that shouldn\u0027t be mentioned in the end user documentation. Maybe just drop this?",
      "range": {
        "startLine": 3269,
        "startChar": 0,
        "endLine": 3270,
        "endChar": 34
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dd93d568_aee831e7",
        "filename": "Documentation/rest-api-projects.txt",
        "patchSetId": 6
      },
      "lineNbr": 3270,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-24T12:00:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "afd8c603_304b2c2d",
      "range": {
        "startLine": 3269,
        "startChar": 0,
        "endLine": 3270,
        "endChar": 34
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4ae1ecac_ae42f087",
        "filename": "Documentation/rest-api-projects.txt",
        "patchSetId": 6
      },
      "lineNbr": 3278,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-07-18T13:55:34Z",
      "side": 1,
      "message": "I think you are missing a field for groups here.\n\nIn the notify config you can specify an email or a Gerrit group as recipient, see [1].\n\nBoth of them are stored in the \u0027notify.\u003cname\u003e.email\u0027 field:\n\n- Email -\u003e notify.\u003cname\u003e.email \u003d \u003cEmail\u003e\n- Gerrit group -\u003e notify.\u003cname\u003e.email \u003d group \u003cgroup-UUID\u003e\n\nI think it\u0027s not very nice that in the persistence layer both cases are mapped to a single field, but at least in the REST API we should do better and have 2 seperate fields for this.\n\n[1] https://gerrit-review.googlesource.com/Documentation/user-notify.html#notify.name.email",
      "range": {
        "startLine": 3277,
        "startChar": 0,
        "endLine": 3278,
        "endChar": 46
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "36ca37a6_1d5fa16d",
        "filename": "Documentation/rest-api-projects.txt",
        "patchSetId": 6
      },
      "lineNbr": 3278,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-24T12:00:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4ae1ecac_ae42f087",
      "range": {
        "startLine": 3277,
        "startChar": 0,
        "endLine": 3278,
        "endChar": 46
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "119ee253_28c2848d",
        "filename": "Documentation/rest-api-projects.txt",
        "patchSetId": 6
      },
      "lineNbr": 3288,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-07-18T13:55:34Z",
      "side": 1,
      "message": "For project watches of users we also need to know for which events notifications should be sent. There we have a set of boolean fields to enable/disable notifications for the events, see [1]. Maybe a list of types (as you did it here) is nicer, but for the sake of consistency I think it\u0027s better to use boolean fields here too. I think this way we can also avoid moving the NotifyType enum into the extensions package.\n\n[1] https://gerrit-review.googlesource.com/Documentation/rest-api-accounts.html#project-watch-info",
      "range": {
        "startLine": 3279,
        "startChar": 0,
        "endLine": 3288,
        "endChar": 30
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "651dcb95_9c64592b",
        "filename": "Documentation/rest-api-projects.txt",
        "patchSetId": 6
      },
      "lineNbr": 3288,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-24T12:00:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "119ee253_28c2848d",
      "range": {
        "startLine": 3279,
        "startChar": 0,
        "endLine": 3288,
        "endChar": 30
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "147e84b5_1b040742",
        "filename": "Documentation/rest-api-projects.txt",
        "patchSetId": 6
      },
      "lineNbr": 3290,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-07-18T13:55:34Z",
      "side": 1,
      "message": "This part is not clear to me. Maybe say: \"Email header that is used to send notifications.\"",
      "range": {
        "startLine": 3290,
        "startChar": 18,
        "endLine": 3290,
        "endChar": 41
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "39341645_51d959fd",
        "filename": "Documentation/rest-api-projects.txt",
        "patchSetId": 6
      },
      "lineNbr": 3290,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-24T12:00:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "147e84b5_1b040742",
      "range": {
        "startLine": 3290,
        "startChar": 18,
        "endLine": 3290,
        "endChar": 41
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "063d0d8f_83cb0405",
        "filename": "Documentation/rest-api-projects.txt",
        "patchSetId": 6
      },
      "lineNbr": 3291,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-07-18T13:55:34Z",
      "side": 1,
      "message": "This one should be uppercase too.",
      "range": {
        "startLine": 3291,
        "startChar": 23,
        "endLine": 3291,
        "endChar": 25
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "63f0c635_89a73979",
        "filename": "Documentation/rest-api-projects.txt",
        "patchSetId": 6
      },
      "lineNbr": 3291,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-24T12:00:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "063d0d8f_83cb0405",
      "range": {
        "startLine": 3291,
        "startChar": 23,
        "endLine": 3291,
        "endChar": 25
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "80a2bc40_9f423fbb",
        "filename": "Documentation/rest-api-projects.txt",
        "patchSetId": 6
      },
      "lineNbr": 3296,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-07-18T13:55:34Z",
      "side": 1,
      "message": "Maybe add an anchor to the description of this operator at [1] and then add a link to it here.\n\n[1] https://gerrit-review.googlesource.com/Documentation/user-search.html#_magical_operators",
      "range": {
        "startLine": 3296,
        "startChar": 0,
        "endLine": 3296,
        "endChar": 21
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7428f10f_eefb13f0",
        "filename": "Documentation/rest-api-projects.txt",
        "patchSetId": 6
      },
      "lineNbr": 3296,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-24T12:00:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "80a2bc40_9f423fbb",
      "range": {
        "startLine": 3296,
        "startChar": 0,
        "endLine": 3296,
        "endChar": 21
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "04f5d0a5_248eafb3",
        "filename": "java/com/google/gerrit/extensions/api/projects/NotifyConfigTemp.java",
        "patchSetId": 6
      },
      "lineNbr": 45,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-07-18T13:55:34Z",
      "side": 1,
      "message": "I think this class should follow the example of the other Info classes and just have public fields (e.g. see ProjectWatchInfo). Then you can remove the getters and setters below.",
      "range": {
        "startLine": 40,
        "startChar": 1,
        "endLine": 45,
        "endChar": 53
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e08f7fd5_35968071",
        "filename": "java/com/google/gerrit/extensions/api/projects/NotifyConfigTemp.java",
        "patchSetId": 6
      },
      "lineNbr": 45,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-24T12:00:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "04f5d0a5_248eafb3",
      "range": {
        "startLine": 40,
        "startChar": 1,
        "endLine": 45,
        "endChar": 53
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a4324bdf_e99974e0",
        "filename": "java/com/google/gerrit/reviewdb/client/Project.java",
        "patchSetId": 6
      },
      "lineNbr": 257,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-07-18T13:55:34Z",
      "side": 1,
      "message": "If null for notifyIds is allowed please annotate the method parameter with @Nullable",
      "range": {
        "startLine": 257,
        "startChar": 8,
        "endLine": 257,
        "endChar": 17
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6b3977bf_ef92b63d",
        "filename": "java/com/google/gerrit/reviewdb/client/Project.java",
        "patchSetId": 6
      },
      "lineNbr": 257,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-24T12:00:37Z",
      "side": 1,
      "message": "Null is actually not allowed (it\u0027s being tested before calling this function). I think it contradicts object oriented programming concepts, but seems like all other functions do the same.",
      "parentUuid": "a4324bdf_e99974e0",
      "range": {
        "startLine": 257,
        "startChar": 8,
        "endLine": 257,
        "endChar": 17
      },
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6dc033e7_08b939f8",
        "filename": "java/com/google/gerrit/server/restapi/project/PutConfig.java",
        "patchSetId": 6
      },
      "lineNbr": 156,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-07-19T07:20:00Z",
      "side": 1,
      "message": "I think at this point we also want to do some validation of the user provided input, e.g. did the user provide a well-formed email? Is the provided filter parseable and valid? It would be also good to cover these conditions by tests.",
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ab0f9511_aee328c3",
        "filename": "java/com/google/gerrit/server/restapi/project/PutConfig.java",
        "patchSetId": 6
      },
      "lineNbr": 156,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-24T12:00:37Z",
      "side": 1,
      "message": "How can we check if an email is well formed? I just checked it has @ and . somewhere in there.\nNot sure what kind of test do I need for filters.\nI think it\u0027s not mandatory to even put an email/group inside the config, so I didn\u0027t check if the notifyConfigInfo has any groups/emails inside.",
      "parentUuid": "6dc033e7_08b939f8",
      "revId": "7208e849f7bcbd20569b08f9059317335901449e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}