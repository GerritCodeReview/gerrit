{
  "comments": [
    {
      "key": {
        "uuid": "89314db1_459e50d5",
        "filename": "polygerrit-ui/app/elements/core/gr-reporting/gr-reporting.js",
        "patchSetId": 3
      },
      "lineNbr": 20,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-04-16T08:49:32Z",
      "side": 1,
      "message": "Add .js",
      "range": {
        "startLine": 20,
        "startChar": 44,
        "endLine": 20,
        "endChar": 60
      },
      "revId": "786e8521137dc00bfa256c721617bcb6dd7320ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6ec3831_6e51a5d3",
        "filename": "polygerrit-ui/app/elements/core/gr-reporting/gr-reporting.js",
        "patchSetId": 3
      },
      "lineNbr": 20,
      "author": {
        "id": 1085182
      },
      "writtenOn": "2020-04-16T13:20:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "89314db1_459e50d5",
      "range": {
        "startLine": 20,
        "startChar": 44,
        "endLine": 20,
        "endChar": 60
      },
      "revId": "786e8521137dc00bfa256c721617bcb6dd7320ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b6375f4b_a3ff6e34",
        "filename": "polygerrit-ui/app/elements/core/gr-reporting/gr-reporting.js",
        "patchSetId": 3
      },
      "lineNbr": 282,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-04-16T07:54:04Z",
      "side": 1,
      "message": "I think we have two options here:\n\n1. Using appContext.xyz directly everywhere.\n2. Assign the service in the constructor: this.xyz \u003d appContext.xyz.\n\nI agree that maybe just doing (1) is easier. (2) only has the advantages to be closer to a real DI solution and could be easier to change later.\n\nI could live with both, slight pref for (1).\n\nIf we do (1), then I think we should drop the \"Service\" suffix, otherwise these names get too logs. So just \"appContext.flags\" in this casce.\n\nI could even be convinced to use \"appCtx\" instead of \"appContext\".",
      "range": {
        "startLine": 282,
        "startChar": 31,
        "endLine": 282,
        "endChar": 55
      },
      "revId": "786e8521137dc00bfa256c721617bcb6dd7320ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cc882d73_f6737fbd",
        "filename": "polygerrit-ui/app/elements/core/gr-reporting/gr-reporting.js",
        "patchSetId": 3
      },
      "lineNbr": 282,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-04-16T08:49:32Z",
      "side": 1,
      "message": "In overall, I prefer (2), but also can live with both.\n\nIn the case of GrReporting - at the end, the GrReporting must be a service also (Am I right?).In this case it is expected, that it gets all other services as parameters in constructor.",
      "parentUuid": "b6375f4b_a3ff6e34",
      "range": {
        "startLine": 282,
        "startChar": 31,
        "endLine": 282,
        "endChar": 55
      },
      "revId": "786e8521137dc00bfa256c721617bcb6dd7320ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aafddf74_cf38b544",
        "filename": "polygerrit-ui/app/elements/core/gr-reporting/gr-reporting.js",
        "patchSetId": 3
      },
      "lineNbr": 282,
      "author": {
        "id": 1085182
      },
      "writtenOn": "2020-04-16T13:20:23Z",
      "side": 1,
      "message": "FYI: actually this method is called without initialization of gr-reporting, (GrReporting.Prototype) so I haven\u0027t had chance to do it with (2). I can rewrite it when GrReporting is changed to class.\n\nSo I think we should try 2. everywhere but we allow (1) in some cases.",
      "parentUuid": "cc882d73_f6737fbd",
      "range": {
        "startLine": 282,
        "startChar": 31,
        "endLine": 282,
        "endChar": 55
      },
      "revId": "786e8521137dc00bfa256c721617bcb6dd7320ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38e2c5f6_6c902c0b",
        "filename": "polygerrit-ui/app/elements/core/gr-reporting/gr-reporting.js",
        "patchSetId": 3
      },
      "lineNbr": 282,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-04-16T13:49:50Z",
      "side": 1,
      "message": "ok",
      "parentUuid": "aafddf74_cf38b544",
      "range": {
        "startLine": 282,
        "startChar": 31,
        "endLine": 282,
        "endChar": 55
      },
      "revId": "786e8521137dc00bfa256c721617bcb6dd7320ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ef41931_ec953aae",
        "filename": "polygerrit-ui/app/services/flags_mock.js",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1086906
      },
      "writtenOn": "2020-04-16T07:59:36Z",
      "side": 1,
      "message": "maybe move all mocks to `testing` folder under services folder",
      "revId": "786e8521137dc00bfa256c721617bcb6dd7320ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9ab5769a_89d79fa4",
        "filename": "polygerrit-ui/app/services/flags_mock.js",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1085182
      },
      "writtenOn": "2020-04-17T07:39:56Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "3ef41931_ec953aae",
      "revId": "786e8521137dc00bfa256c721617bcb6dd7320ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "399c0baf_6e9be0ab",
        "filename": "polygerrit-ui/app/services/service-provider-initializer.js",
        "patchSetId": 3
      },
      "lineNbr": 18,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-04-16T08:49:32Z",
      "side": 1,
      "message": "Is it a class or an instance of a class?",
      "range": {
        "startLine": 18,
        "startChar": 8,
        "endLine": 18,
        "endChar": 13
      },
      "revId": "786e8521137dc00bfa256c721617bcb6dd7320ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5d841540_f39fc0dd",
        "filename": "polygerrit-ui/app/services/service-provider-initializer.js",
        "patchSetId": 3
      },
      "lineNbr": 18,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-04-16T08:49:32Z",
      "side": 1,
      "message": "Where is this file?",
      "range": {
        "startLine": 18,
        "startChar": 23,
        "endLine": 18,
        "endChar": 28
      },
      "revId": "786e8521137dc00bfa256c721617bcb6dd7320ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9a63178a_e662fa8c",
        "filename": "polygerrit-ui/app/services/service-provider-initializer.js",
        "patchSetId": 3
      },
      "lineNbr": 18,
      "author": {
        "id": 1085182
      },
      "writtenOn": "2020-04-16T13:20:23Z",
      "side": 1,
      "message": "I put it into app/services .. Should I put it to just app?",
      "parentUuid": "5d841540_f39fc0dd",
      "range": {
        "startLine": 18,
        "startChar": 23,
        "endLine": 18,
        "endChar": 28
      },
      "revId": "786e8521137dc00bfa256c721617bcb6dd7320ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "be1641a3_d7d5c155",
        "filename": "polygerrit-ui/app/services/service-provider-initializer.js",
        "patchSetId": 3
      },
      "lineNbr": 18,
      "author": {
        "id": 1085182
      },
      "writtenOn": "2020-04-16T13:20:23Z",
      "side": 1,
      "message": "I changed it to class from instance",
      "parentUuid": "399c0baf_6e9be0ab",
      "range": {
        "startLine": 18,
        "startChar": 8,
        "endLine": 18,
        "endChar": 13
      },
      "revId": "786e8521137dc00bfa256c721617bcb6dd7320ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6ed79b2b_0535c5f9",
        "filename": "polygerrit-ui/app/services/service-provider-initializer.js",
        "patchSetId": 3
      },
      "lineNbr": 18,
      "author": {
        "id": 1085182
      },
      "writtenOn": "2020-04-17T09:09:01Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9a63178a_e662fa8c",
      "range": {
        "startLine": 18,
        "startChar": 23,
        "endLine": 18,
        "endChar": 28
      },
      "revId": "786e8521137dc00bfa256c721617bcb6dd7320ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f853ddd5_9051919c",
        "filename": "polygerrit-ui/app/services/service-provider-initializer.js",
        "patchSetId": 3
      },
      "lineNbr": 20,
      "author": {
        "id": 1086906
      },
      "writtenOn": "2020-04-16T07:59:36Z",
      "side": 1,
      "message": "maybe `initializedServices` to be more specific",
      "range": {
        "startLine": 20,
        "startChar": 6,
        "endLine": 20,
        "endChar": 14
      },
      "revId": "786e8521137dc00bfa256c721617bcb6dd7320ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a8f1fd0d_5b6e597e",
        "filename": "polygerrit-ui/app/services/service-provider-initializer.js",
        "patchSetId": 3
      },
      "lineNbr": 20,
      "author": {
        "id": 1085182
      },
      "writtenOn": "2020-04-16T13:20:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f853ddd5_9051919c",
      "range": {
        "startLine": 20,
        "startChar": 6,
        "endLine": 20,
        "endChar": 14
      },
      "revId": "786e8521137dc00bfa256c721617bcb6dd7320ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "17118d44_b152626a",
        "filename": "polygerrit-ui/app/services/service-provider-initializer.js",
        "patchSetId": 3
      },
      "lineNbr": 21,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-04-16T07:54:04Z",
      "side": 1,
      "message": "add empty line before this",
      "revId": "786e8521137dc00bfa256c721617bcb6dd7320ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b33b183c_005d7fa6",
        "filename": "polygerrit-ui/app/services/service-provider-initializer.js",
        "patchSetId": 3
      },
      "lineNbr": 21,
      "author": {
        "id": 1086906
      },
      "writtenOn": "2020-04-16T07:59:36Z",
      "side": 1,
      "message": "maybe better to have the constructor here, so the flags.js will just export the FlagsService constructor, and the initializer will initialize the instance, otherwise, the initializier is just doing assignments...",
      "range": {
        "startLine": 21,
        "startChar": 33,
        "endLine": 21,
        "endChar": 48
      },
      "revId": "786e8521137dc00bfa256c721617bcb6dd7320ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c90d32a8_456438fc",
        "filename": "polygerrit-ui/app/services/service-provider-initializer.js",
        "patchSetId": 3
      },
      "lineNbr": 21,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-04-16T08:49:32Z",
      "side": 1,
      "message": "I think, constructor is not enough, if service has other dependencies.\nProbably, it is better to pass some function which returns new instance,\nLike:\n\nfunction createFlagService() {\n    return new service(appContext.dependencyA);\n}\n\nexport function initServiceProvider() {\n    ...\n    flagsService: ... return getService(\u0027flagsService\u0027, createFlagService)\n}\n\n(Or ()\u003d\u003enew service(appContext.dependencyA) )",
      "parentUuid": "b33b183c_005d7fa6",
      "range": {
        "startLine": 21,
        "startChar": 33,
        "endLine": 21,
        "endChar": 48
      },
      "revId": "786e8521137dc00bfa256c721617bcb6dd7320ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "51234ca6_9478b394",
        "filename": "polygerrit-ui/app/services/service-provider-initializer.js",
        "patchSetId": 3
      },
      "lineNbr": 21,
      "author": {
        "id": 1085182
      },
      "writtenOn": "2020-04-16T13:20:23Z",
      "side": 1,
      "message": "Ok, I will do () \u003d\u003e new service",
      "parentUuid": "c90d32a8_456438fc",
      "range": {
        "startLine": 21,
        "startChar": 33,
        "endLine": 21,
        "endChar": 48
      },
      "revId": "786e8521137dc00bfa256c721617bcb6dd7320ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f4cf39e8_5c319434",
        "filename": "polygerrit-ui/app/services/service-provider-initializer.js",
        "patchSetId": 3
      },
      "lineNbr": 21,
      "author": {
        "id": 1085182
      },
      "writtenOn": "2020-04-16T13:20:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "17118d44_b152626a",
      "revId": "786e8521137dc00bfa256c721617bcb6dd7320ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f6b1a47a_0ac9336f",
        "filename": "polygerrit-ui/app/services/service-provider-initializer_mock.js",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-04-16T07:54:04Z",
      "side": 1,
      "message": "Do we want to enforce that a mock must exist for every service?\n\nI would prefer some common test helper and then each test file decide what to mock in beforeEach().\n\nSo you would rather offer a setMock() method to override the default behavior for specific mocks.\n\nThat said, yeah, *some* services could be mocked by default, e.g. the rest-api-service?",
      "revId": "786e8521137dc00bfa256c721617bcb6dd7320ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c51b4863_6d1d4dde",
        "filename": "polygerrit-ui/app/services/service-provider-initializer_mock.js",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1086906
      },
      "writtenOn": "2020-04-16T07:59:36Z",
      "side": 1,
      "message": "agreed, certain cases I might just want to mock one services not the others",
      "parentUuid": "f6b1a47a_0ac9336f",
      "revId": "786e8521137dc00bfa256c721617bcb6dd7320ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6739f4ff_87752e72",
        "filename": "polygerrit-ui/app/services/service-provider-initializer_mock.js",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1085182
      },
      "writtenOn": "2020-04-17T07:39:56Z",
      "side": 1,
      "message": "I tried several approaches and I didn\u0027t like them. I will prepare example for mock for gr-reporting. Flag Service doesn\u0027t need to be mocked.",
      "parentUuid": "c51b4863_6d1d4dde",
      "revId": "786e8521137dc00bfa256c721617bcb6dd7320ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9fd36c5b_9091847c",
        "filename": "polygerrit-ui/app/services/service-provider.js",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-04-16T07:54:04Z",
      "side": 1,
      "message": "I would favor using just one name, either \"AppContext\" or \"ServiceProvider\". I think I like \"AppContext\" better, because it is shorter and more generic.",
      "revId": "786e8521137dc00bfa256c721617bcb6dd7320ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5e79fce6_be271079",
        "filename": "polygerrit-ui/app/services/service-provider.js",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1085182
      },
      "writtenOn": "2020-04-16T13:20:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9fd36c5b_9091847c",
      "revId": "786e8521137dc00bfa256c721617bcb6dd7320ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}