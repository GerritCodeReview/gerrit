{
  "comments": [
    {
      "key": {
        "uuid": "43792d0b_07a9e33f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 7,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2019-07-05T12:29:36Z",
      "side": 1,
      "message": "The summary line (\u003d first line in a commit message) should ideally be concise but still contain enough details so that others know what the commit is about. What I\u0027m missing in this summary line is the context of the option. We have many APIs and the option could be for any of them. In addition, it could also mean a user setting.\nI also wouldn\u0027t emphasize the term \u0027diffstat\u0027 too much. I don\u0027t remember seeing it in Gerrit before and a Google search for it in the context of Git is also not very enlightening. I agreed that we could use it as a name for the ListChangesOption as it concisely describes the fields which aren\u0027t filled. However, the fields themselves are not the actual focus of this effort but rather the diff computation which is behind them. Hence, I would rather mention the latter but that\u0027s just my person opinion.\n\nMy suggestion for a summary line would be:\nAllow to skip diff computations when requesting change details\n\nIf you rather want to stick with mentioning the option, I would maybe use:\nAdd option to skip diff computations when requesting change details",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 43
      },
      "revId": "7a2789c55ce173d56453438dabfeef83ab0ab417",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "337303cf_18372c9f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 7,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-12T08:48:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "43792d0b_07a9e33f",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 43
      },
      "revId": "7a2789c55ce173d56453438dabfeef83ab0ab417",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8133d383_5335c957",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 9,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2019-07-04T12:18:23Z",
      "side": 1,
      "message": "nits: it looks strange to start sentence with\"e.g.\" - also, the scenario only speeds up things if the frontend actually does this.\n\nHow about\n\n\"This enables the change screen to be loaded without waiting for diffstats, yielding a speed up if the diff computation is slow.\"",
      "range": {
        "startLine": 9,
        "startChar": 2,
        "endLine": 9,
        "endChar": 3
      },
      "revId": "7a2789c55ce173d56453438dabfeef83ab0ab417",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "72371ec6_2aad1ede",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 9,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2019-07-05T12:29:36Z",
      "side": 1,
      "message": "I agree with Han-Wen.\n\nThanks for already adding some details as requested. I would still like to see even more details but I understand that you might not be aware of all of them and hence let me provide my own suggestion. Feel free to re-word and adjust it as you like.\n\n\"When requesting change details, an internal diff request is executed to fill the two fields \u0027insertions\u0027 and \u0027deletions\u0027 of ChangeInfo. Most of the time, this request is fast as the result of the underlying diff computation is already stored in the DiffSummary or PatchList cache due previous diff requests (e.g. part of the automatic indexing after change upload). In some cases (e.g. a very slow diff computation, flushed caches), a cached result is not available and hence the change detail request will be delayed until the underlying diff computation finishes.\n\nInterestingly, though, our frontend doesn\u0027t even use the two fields \u0027insertions\u0027 and \u0027deletions\u0027 on the change screen. Hence, introduce an option which allows to skip those two fields and hence the underlying diff computation. When used on the frontend (adjusted in a separate change), this will allow change screens to show more details beyond just \"Loading ...\" when the result of the diff computation is not available yet.\"",
      "parentUuid": "8133d383_5335c957",
      "range": {
        "startLine": 9,
        "startChar": 2,
        "endLine": 9,
        "endChar": 3
      },
      "revId": "7a2789c55ce173d56453438dabfeef83ab0ab417",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4c5c09c_b2305fa3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 9,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-12T08:48:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "72371ec6_2aad1ede",
      "range": {
        "startLine": 9,
        "startChar": 2,
        "endLine": 9,
        "endChar": 3
      },
      "revId": "7a2789c55ce173d56453438dabfeef83ab0ab417",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a253360d_eaf53b2b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 10,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2019-07-05T12:29:36Z",
      "side": 1,
      "message": "This line is 80 characters long. Please stick to our style guide regarding commit messages and hence use at most 72 characters per line (see https://gerrit-review.googlesource.com/Documentation/dev-crafting-changes.html#commit-message). This also applies to other aspects like using present tense (instead of past tense) to describe what this commit does and past tense to refer to the behavior before this commit.",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 10,
        "endChar": 79
      },
      "revId": "7a2789c55ce173d56453438dabfeef83ab0ab417",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e1f907f1_097d6f71",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 10,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-12T08:48:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a253360d_eaf53b2b",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 10,
        "endChar": 79
      },
      "revId": "7a2789c55ce173d56453438dabfeef83ab0ab417",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "99360089_062b04c7",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 7
      },
      "lineNbr": 324,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2019-07-05T12:29:36Z",
      "side": 1,
      "message": "Internal details like \"ChangeData\" are not relevant for users of this documentation and might even be confusing for them. In addition, if we refactor some of our internal code (without changing the behavior), we would need to update this documentation, which is undesired (and we would very likely forget it). As example, see the above documentation on the SKIP_MERGEABLE field. It doesn\u0027t mention any implementation details.\n\nWhat I would include, though, is the exact fields which are omitted. As written in another comment, \"diffstat\" is a term which not everybody might be familiar with. For documentations, it\u0027s also recommended to be very clear. We should also include a link to the definition of ChangeInfo. Hence, I would rather write:\n\"skip the \u0027insertions\u0027 and \u0027deletions\u0027 field in link:#change-info[ChangeInfo]. For large trees, their computation may be expensive.\"",
      "range": {
        "startLine": 323,
        "startChar": 19,
        "endLine": 324,
        "endChar": 56
      },
      "revId": "7a2789c55ce173d56453438dabfeef83ab0ab417",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fb05c092_6d9187a3",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 7
      },
      "lineNbr": 324,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-08T13:14:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "99360089_062b04c7",
      "range": {
        "startLine": 323,
        "startChar": 19,
        "endLine": 324,
        "endChar": 56
      },
      "revId": "7a2789c55ce173d56453438dabfeef83ab0ab417",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2774af46_09bd8b82",
        "filename": "java/com/google/gerrit/extensions/api/changes/ChangeApi.java",
        "patchSetId": 7
      },
      "lineNbr": 251,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2019-07-05T12:29:36Z",
      "side": 1,
      "message": "If the SKIP_DIFFSTAT option is omitted, the diffstat calculations are not skipped. ;-)",
      "range": {
        "startLine": 251,
        "startChar": 33,
        "endLine": 251,
        "endChar": 74
      },
      "revId": "7a2789c55ce173d56453438dabfeef83ab0ab417",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3b4eed90_70ff6b3e",
        "filename": "java/com/google/gerrit/extensions/api/changes/ChangeApi.java",
        "patchSetId": 7
      },
      "lineNbr": 251,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-08T13:14:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2774af46_09bd8b82",
      "range": {
        "startLine": 251,
        "startChar": 33,
        "endLine": 251,
        "endChar": 74
      },
      "revId": "7a2789c55ce173d56453438dabfeef83ab0ab417",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4b6d7f7a_325e620c",
        "filename": "java/com/google/gerrit/extensions/client/ListChangesOption.java",
        "patchSetId": 7
      },
      "lineNbr": 80,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2019-07-05T12:29:36Z",
      "side": 1,
      "message": "You could provide more details here:\n\"(total number of inserted/deleted lines of the latest patch set)\"",
      "range": {
        "startLine": 80,
        "startChar": 31,
        "endLine": 80,
        "endChar": 32
      },
      "revId": "7a2789c55ce173d56453438dabfeef83ab0ab417",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f7700c83_1824d28a",
        "filename": "java/com/google/gerrit/extensions/client/ListChangesOption.java",
        "patchSetId": 7
      },
      "lineNbr": 80,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-08T13:14:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4b6d7f7a_325e620c",
      "range": {
        "startLine": 80,
        "startChar": 31,
        "endLine": 80,
        "endChar": 32
      },
      "revId": "7a2789c55ce173d56453438dabfeef83ab0ab417",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "556bda24_8ec30d02",
        "filename": "java/com/google/gerrit/server/patch/PatchListCacheImpl.java",
        "patchSetId": 7
      },
      "lineNbr": 188,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2019-07-05T12:29:36Z",
      "side": 1,
      "message": "Did you try the other variant I told you about (see below) for injecting the caches directly into the test? If possible, I would rather try to avoid making details such as these publicly available without the need for it.\n\nPatchListCacheIT contains an example for injecting one of the caches directly.",
      "range": {
        "startLine": 175,
        "startChar": 2,
        "endLine": 188,
        "endChar": 3
      },
      "revId": "7a2789c55ce173d56453438dabfeef83ab0ab417",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4db96e7f_1abe0325",
        "filename": "java/com/google/gerrit/server/patch/PatchListCacheImpl.java",
        "patchSetId": 7
      },
      "lineNbr": 188,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-08T13:14:40Z",
      "side": 1,
      "message": "I am pretty sure that we tried that at first and then agreed that this way it works the best. Isn\u0027t that right?",
      "parentUuid": "556bda24_8ec30d02",
      "range": {
        "startLine": 175,
        "startChar": 2,
        "endLine": 188,
        "endChar": 3
      },
      "revId": "7a2789c55ce173d56453438dabfeef83ab0ab417",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2106baa7_d1f69a97",
        "filename": "java/com/google/gerrit/server/patch/PatchListCacheImpl.java",
        "patchSetId": 7
      },
      "lineNbr": 188,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2019-07-11T18:01:01Z",
      "side": 1,
      "message": "I\u0027m remembering this differently. ;-)\n\nAnyway, can you please try it? I\u0027m pretty sure it works if the right generic types are used.",
      "parentUuid": "4db96e7f_1abe0325",
      "range": {
        "startLine": 175,
        "startChar": 2,
        "endLine": 188,
        "endChar": 3
      },
      "revId": "7a2789c55ce173d56453438dabfeef83ab0ab417",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ab5e3da7_f1bf1385",
        "filename": "java/com/google/gerrit/server/patch/PatchListCacheImpl.java",
        "patchSetId": 7
      },
      "lineNbr": 188,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-12T08:48:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2106baa7_d1f69a97",
      "range": {
        "startLine": 175,
        "startChar": 2,
        "endLine": 188,
        "endChar": 3
      },
      "revId": "7a2789c55ce173d56453438dabfeef83ab0ab417",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "57d1aaa7_274606b9",
        "filename": "javatests/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 7
      },
      "lineNbr": 294,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2019-07-05T12:29:36Z",
      "side": 1,
      "message": "What about \"skipDiffstatOptionAvoidsAllDiffComputations\"? I know it\u0027s longer but it better describes this test and its intention. I know that a lot of the existing test names are not good but I hope that we can do better with the code we add or modify. I found some recommendations for test names which I\u0027m quoting below:\n\n\"Test names should include the condition being tested and the expected outcome.\n\nA test\u0027s name should fully describe what a test does, including not only the state and details of the method being tested but also its expected outcome. For example, a method to transfer money probably contains several interesting behaviors, each of which should be tested individually. Each test should explicitly name not only the method being tested, but also the expected outcome and sometimes specific details of the state or input being tested.\n\nExamples:\ntransferMoney_deductsFromSource\ntransferMoney_addsToDestination\ntransferMoney_insufficientFunds_throwsException\nmultiply_twoNegativeValues_returnsPositiveValue\nmultiply_anythingWithNan_returnsNan\n\nAnother popular strategy is to name tests like English sentences containing the word \"should\", such as transferMoneyShouldAddFundsToDestination.\"",
      "range": {
        "startLine": 294,
        "startChar": 14,
        "endLine": 294,
        "endChar": 40
      },
      "revId": "7a2789c55ce173d56453438dabfeef83ab0ab417",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0d8e564e_38ea6da8",
        "filename": "javatests/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 7
      },
      "lineNbr": 294,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-08T13:14:40Z",
      "side": 1,
      "message": "I like the \"should\" system :)",
      "parentUuid": "57d1aaa7_274606b9",
      "range": {
        "startLine": 294,
        "startChar": 14,
        "endLine": 294,
        "endChar": 40
      },
      "revId": "7a2789c55ce173d56453438dabfeef83ab0ab417",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e7a6b3e3_5b55ac5a",
        "filename": "javatests/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 7
      },
      "lineNbr": 294,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-12T08:48:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0d8e564e_38ea6da8",
      "range": {
        "startLine": 294,
        "startChar": 14,
        "endLine": 294,
        "endChar": 40
      },
      "revId": "7a2789c55ce173d56453438dabfeef83ab0ab417",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "784aee28_1fe8f87e",
        "filename": "javatests/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 7
      },
      "lineNbr": 4473,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2019-07-05T12:29:36Z",
      "side": 1,
      "message": "This comment explicitly says that we need to keep the lists in sync. As gr-rest-api-interface.js is not touched in this change, I don\u0027t think we should add the option here. We\u0027ll likely need to do so when the new option is used on the frontend.",
      "range": {
        "startLine": 4473,
        "startChar": 7,
        "endLine": 4473,
        "endChar": 77
      },
      "revId": "7a2789c55ce173d56453438dabfeef83ab0ab417",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "83a13999_b2bb6d3c",
        "filename": "javatests/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 7
      },
      "lineNbr": 4473,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-08T13:14:40Z",
      "side": 1,
      "message": "I think it\u0027s best I just comment it out to help the frontend",
      "parentUuid": "784aee28_1fe8f87e",
      "range": {
        "startLine": 4473,
        "startChar": 7,
        "endLine": 4473,
        "endChar": 77
      },
      "revId": "7a2789c55ce173d56453438dabfeef83ab0ab417",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3162ba98_9f07a1d4",
        "filename": "javatests/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 7
      },
      "lineNbr": 4473,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2019-07-11T18:01:01Z",
      "side": 1,
      "message": "Can you provide some reasons why it\u0027s better to comment it? Just by looking at this test, it\u0027s not even clear that the option needs to be added here. Of course, we do intend to adjust the frontend in the future but in which way and how this relates to this test will only be apparent when we have the frontend change. (By the way, we don\u0027t need to explicitly \"help the frontend\". The frontend code contains an explicit comment to adjust this test and hence there are already some pointers.)\n\nA note regarding TODOs in general: If you add a TODO, please add your name to it. Otherwise, it\u0027s even more likely that the TODO will never be addressed because nobody feels responsible for it.",
      "parentUuid": "83a13999_b2bb6d3c",
      "range": {
        "startLine": 4473,
        "startChar": 7,
        "endLine": 4473,
        "endChar": 77
      },
      "revId": "7a2789c55ce173d56453438dabfeef83ab0ab417",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9345ce52_56f62eee",
        "filename": "javatests/com/google/gerrit/acceptance/api/change/ChangeIT.java",
        "patchSetId": 7
      },
      "lineNbr": 4473,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2019-07-12T08:48:41Z",
      "side": 1,
      "message": "In case there are enough pointers that tell the developers to change this test, then the comment is unnecessary. Although, I don\u0027t see why it hurts :)",
      "parentUuid": "3162ba98_9f07a1d4",
      "range": {
        "startLine": 4473,
        "startChar": 7,
        "endLine": 4473,
        "endChar": 77
      },
      "revId": "7a2789c55ce173d56453438dabfeef83ab0ab417",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}