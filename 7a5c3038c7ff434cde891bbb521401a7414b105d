{
  "comments": [
    {
      "key": {
        "uuid": "ff51f41e_a6c0465e",
        "filename": "Documentation/dev-release.txt",
        "patchSetId": 1
      },
      "lineNbr": 317,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-05-22T06:14:30Z",
      "side": 1,
      "message": "archetypes",
      "range": {
        "startLine": 317,
        "startChar": 13,
        "endLine": 317,
        "endChar": 22
      },
      "revId": "7a5c3038c7ff434cde891bbb521401a7414b105d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff51f41e_86bd4af2",
        "filename": "Documentation/dev-release.txt",
        "patchSetId": 1
      },
      "lineNbr": 317,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-05-22T06:14:30Z",
      "side": 1,
      "message": "The Plugin ...",
      "range": {
        "startLine": 317,
        "startChar": 0,
        "endLine": 317,
        "endChar": 6
      },
      "revId": "7a5c3038c7ff434cde891bbb521401a7414b105d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff51f41e_66c36e71",
        "filename": "Documentation/dev-release.txt",
        "patchSetId": 1
      },
      "lineNbr": 328,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-05-22T06:14:30Z",
      "side": 1,
      "message": "We should explain the preconditions for being able to upload the artifacts, one must have a Sonatype account, one must be allowed to upload to the Gerrit repository at Sonatype, one must have a PGP key that is publicly shared and one must have Maven installed :(\n\nSomewhere we should link to the official Sonatype guide [1] which describes the whole process. The description in this document is actually quite good and helps a lot to understand all the details of the process.\n\n[1] https://docs.sonatype.org/display/Repository/Sonatype+OSS+Maven+Repository+Usage+Guide",
      "range": {
        "startLine": 328,
        "startChar": 0,
        "endLine": 328,
        "endChar": 68
      },
      "revId": "7a5c3038c7ff434cde891bbb521401a7414b105d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff51f41e_c6b34224",
        "filename": "Documentation/dev-release.txt",
        "patchSetId": 1
      },
      "lineNbr": 335,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-05-22T06:14:30Z",
      "side": 1,
      "message": "For the archetype projects there is only the jar file and no sources.jar and no javadoc.jar. We should probably mention this. Also we should say where to find these artifacts (in the target folder of each project). Also the pom.xml files of the archetypes need to be renamed to something like \u0027gerrit-plugin-archetype-2.10.pom\u0027.\n\nFor the other projects we should say as well what needs to be done to produce the artifacts (run buck api build), where to find the artifacts and the poms and how they must be (re)named.",
      "range": {
        "startLine": 330,
        "startChar": 2,
        "endLine": 335,
        "endChar": 30
      },
      "revId": "7a5c3038c7ff434cde891bbb521401a7414b105d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff51f41e_46c8728b",
        "filename": "Documentation/dev-release.txt",
        "patchSetId": 1
      },
      "lineNbr": 343,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-05-22T06:14:30Z",
      "side": 1,
      "message": "Should we submit these poms for now [1] and think about making templates for them later?\n\n[1] https://gerrit-review.googlesource.com/57341",
      "range": {
        "startLine": 343,
        "startChar": 10,
        "endLine": 343,
        "endChar": 40
      },
      "revId": "7a5c3038c7ff434cde891bbb521401a7414b105d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f63e0f1_a997fd63",
        "filename": "Documentation/dev-release.txt",
        "patchSetId": 1
      },
      "lineNbr": 343,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-05-22T06:33:35Z",
      "side": 1,
      "message": "Yes. Let\u0027s do that.",
      "parentUuid": "ff51f41e_46c8728b",
      "range": {
        "startLine": 343,
        "startChar": 10,
        "endLine": 343,
        "endChar": 40
      },
      "revId": "7a5c3038c7ff434cde891bbb521401a7414b105d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff51f41e_c69a228e",
        "filename": "Documentation/dev-release.txt",
        "patchSetId": 1
      },
      "lineNbr": 343,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-05-22T06:45:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5f63e0f1_a997fd63",
      "range": {
        "startLine": 343,
        "startChar": 10,
        "endLine": 343,
        "endChar": 40
      },
      "revId": "7a5c3038c7ff434cde891bbb521401a7414b105d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f63e0f1_e9e295eb",
        "filename": "Documentation/dev-release.txt",
        "patchSetId": 1
      },
      "lineNbr": 359,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-05-22T13:45:51Z",
      "side": 1,
      "message": "I am not sure if we could prevent the file to be renamed. At least from the documentation it sounds like it is not necessary: [1]:\n\n  version:\n\n  Version of the artifact to be deployed. Retrieved from POM file if specified.\n  Type: java.lang.String\n  Since: 1.0-beta-4\n  Required: No\n  User Property: version\n\nSo from this documentation i would expect, that something lie this should work as well:\n\n  mvn gpg:sign-and-deploy-file \\\n  -Durl\u003dhttps://oss.sonatype.org/service/local/staging/deploy/maven2/ \\\n  -DrepositoryId\u003dsonatype-nexus-staging \\\n  -DpomFile\u003dgerrit-plugin-api.pom \\\n  -Dfile\u003dgerrit-plugin-api.jar\n\nNote: generated artifacts are always have the same names, without version name. In this case the version should be induced from provided pom.xml\n\nOr even:\n\n  mvn gpg:sign-and-deploy-file \\\n  -Durl\u003dhttps://oss.sonatype.org/service/local/staging/deploy/maven2/ \\\n  -DrepositoryId\u003dsonatype-nexus-staging \\\n  -DpomFile\u003dgerrit-plugin-api.pom \\\n  -Dfile\u003dgerrit-plugin-api.jar \\\n  -Dversion\u003d2.10-rc1\n\nNote: additional version parameter.\n\nCan you please give it a try and see if this is working as expected with default file names? This would simplify automating the deployment process to Maven central. \n\n[1] http://maven.apache.org/plugins/maven-gpg-plugin/sign-and-deploy-file-mojo.html",
      "range": {
        "startLine": 359,
        "startChar": 0,
        "endLine": 359,
        "endChar": 77
      },
      "revId": "7a5c3038c7ff434cde891bbb521401a7414b105d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f63e0f1_c99a318e",
        "filename": "Documentation/dev-release.txt",
        "patchSetId": 1
      },
      "lineNbr": 360,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-05-22T06:14:30Z",
      "side": 1,
      "message": "We should shortly describe the next steps after upload. Basically what is described at [1].\n\n- Go to the Sonatype Nexus [2]\n- Find the staging repository\n- check its content\n- close it to run the Sonatype validations\n- how to drop it\n- announce the staging repository on the mailing list and ask people to verify it\n- how to do the final release of the repository\n\n[1] https://docs.sonatype.org/display/Repository/Sonatype+OSS+Maven+Repository+Usage+Guide#SonatypeOSSMavenRepositoryUsageGuide-8a.ReleaseIt\n\n[2] https://oss.sonatype.org/",
      "revId": "7a5c3038c7ff434cde891bbb521401a7414b105d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f63e0f1_89943960",
        "filename": "Documentation/dev-release.txt",
        "patchSetId": 1
      },
      "lineNbr": 360,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-05-22T06:33:35Z",
      "side": 1,
      "message": "how to do the final release of the repository:\n\nYou mean to promote them to Maven Central?",
      "parentUuid": "5f63e0f1_c99a318e",
      "revId": "7a5c3038c7ff434cde891bbb521401a7414b105d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff51f41e_661dae52",
        "filename": "Documentation/dev-release.txt",
        "patchSetId": 1
      },
      "lineNbr": 360,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-05-22T06:45:00Z",
      "side": 1,
      "message": "Yes. I named it \u0027release\u0027 because in Nexus the button for this is named \u0027Release\u0027, but promote sounds better to me.",
      "parentUuid": "5f63e0f1_89943960",
      "revId": "7a5c3038c7ff434cde891bbb521401a7414b105d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}