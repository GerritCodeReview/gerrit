{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "7c3a14f4_f5cc5a93",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 20
      },
      "lineNbr": 0,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-05-24T22:24:46Z",
      "side": 1,
      "message": "I think I have addressed all the comments and this change is now ready for another review.\nWould you mind casting your eyes on this one more time?\n\nThanks a lot!",
      "revId": "7ad5d5f222d1c58820d8b9934bb1c99521629a15",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a29aedac_3b875c45",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 20
      },
      "lineNbr": 0,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-05-25T08:00:33Z",
      "side": 1,
      "message": "Some demos of this fix:\n\nSafari 14.1: https://imgur.com/a/e1vX71h\nChrome 90.0.4430.212: https://imgur.com/a/tZdUWFd",
      "revId": "7ad5d5f222d1c58820d8b9934bb1c99521629a15",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9e63e9b7_960b520e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 20
      },
      "lineNbr": 0,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2021-05-25T11:50:17Z",
      "side": 1,
      "message": "Verified on:\nSafari Version 14.0.3 (16610.4.3.1.4)\nFF 86.0 (64-bit)\nChrome Version 90.0.4430.93 (Official Build) (x86_64)\n",
      "revId": "7ad5d5f222d1c58820d8b9934bb1c99521629a15",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "18cc4bd2_ebfdf138",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff/gr-diff.ts",
        "patchSetId": 20
      },
      "lineNbr": 219,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-05-25T10:22:17Z",
      "side": 1,
      "message": "Add a comment explaining the rationale of having such a property.",
      "revId": "7ad5d5f222d1c58820d8b9934bb1c99521629a15",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f0f88551_d9f21a68",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff/gr-diff.ts",
        "patchSetId": 20
      },
      "lineNbr": 219,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-05-25T12:39:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "18cc4bd2_ebfdf138",
      "revId": "7ad5d5f222d1c58820d8b9934bb1c99521629a15",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "285ae3ef_b083eb53",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff/gr-diff.ts",
        "patchSetId": 20
      },
      "lineNbr": 220,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-05-25T10:22:17Z",
      "side": 1,
      "message": "no underscore",
      "revId": "7ad5d5f222d1c58820d8b9934bb1c99521629a15",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9b029abb_a03dc7af",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff/gr-diff.ts",
        "patchSetId": 20
      },
      "lineNbr": 220,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-05-25T12:39:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "285ae3ef_b083eb53",
      "revId": "7ad5d5f222d1c58820d8b9934bb1c99521629a15",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "096833fa_b18d52ba",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff/gr-diff_html.ts",
        "patchSetId": 20
      },
      "lineNbr": 87,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-05-25T10:22:17Z",
      "side": 1,
      "message": "Is this related to the change?",
      "revId": "7ad5d5f222d1c58820d8b9934bb1c99521629a15",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e6ff4583_1a86289c",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff/gr-diff_html.ts",
        "patchSetId": 20
      },
      "lineNbr": 87,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-05-25T12:39:45Z",
      "side": 1,
      "message": "Yes, this is the fix to the styling mentioned in the previous patchsets.\nIt fixes this problem: https://imgur.com/a/c0TRGOY",
      "parentUuid": "096833fa_b18d52ba",
      "revId": "7ad5d5f222d1c58820d8b9934bb1c99521629a15",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d81808e5_94d2d982",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff/gr-diff_html.ts",
        "patchSetId": 20
      },
      "lineNbr": 87,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-05-25T13:02:55Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "e6ff4583_1a86289c",
      "revId": "7ad5d5f222d1c58820d8b9934bb1c99521629a15",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "115fbf0e_881d8be6",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff/gr-diff_html.ts",
        "patchSetId": 20
      },
      "lineNbr": 365,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-05-25T10:22:17Z",
      "side": 1,
      "message": "Is this related to the change?",
      "revId": "7ad5d5f222d1c58820d8b9934bb1c99521629a15",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f0f56c56_af17ac9b",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff/gr-diff_html.ts",
        "patchSetId": 20
      },
      "lineNbr": 365,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-05-25T12:39:45Z",
      "side": 1,
      "message": "Yes, since now the content might be editable (on safari), when clicking on #diffTable the default :focus will be rendered.\n\nThis shows the problem it fixes: https://imgur.com/a/9KsDo28",
      "parentUuid": "115fbf0e_881d8be6",
      "revId": "7ad5d5f222d1c58820d8b9934bb1c99521629a15",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a70e2bd3_3e7562ef",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff/gr-diff_html.ts",
        "patchSetId": 20
      },
      "lineNbr": 365,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-05-25T13:02:55Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "f0f56c56_af17ac9b",
      "revId": "7ad5d5f222d1c58820d8b9934bb1c99521629a15",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "970fe1b6_7abf7ca2",
        "filename": "polygerrit-ui/app/utils/safari-selection-util.ts",
        "patchSetId": 20
      },
      "lineNbr": 26,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-05-25T10:22:17Z",
      "side": 1,
      "message": "Why this wrapper class?\n\nMaybe `contentEditableRange` could just be `Range | null` instead?",
      "revId": "7ad5d5f222d1c58820d8b9934bb1c99521629a15",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fb359c52_0d696940",
        "filename": "polygerrit-ui/app/utils/safari-selection-util.ts",
        "patchSetId": 20
      },
      "lineNbr": 26,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-05-25T12:39:45Z",
      "side": 1,
      "message": "good point, it was a reminiscence of the original proposition[1].\n\nDone.\n\n\n[1]https://jsfiddle.net/dbalcomb/oLnkyv78/",
      "parentUuid": "970fe1b6_7abf7ca2",
      "revId": "7ad5d5f222d1c58820d8b9934bb1c99521629a15",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b9f3a276_10dd67b0",
        "filename": "polygerrit-ui/app/utils/safari-selection-util.ts",
        "patchSetId": 20
      },
      "lineNbr": 50,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-05-25T10:22:17Z",
      "side": 1,
      "message": "I think it would help future developers, if you would add 10-20 lines of comments about how this hack works and maybe add some links to where this pattern is documented or copied from.",
      "revId": "7ad5d5f222d1c58820d8b9934bb1c99521629a15",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7645b017_a2ab535c",
        "filename": "polygerrit-ui/app/utils/safari-selection-util.ts",
        "patchSetId": 20
      },
      "lineNbr": 50,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-05-25T12:39:45Z",
      "side": 1,
      "message": "Yes it makes sense.\nThis is already explained in the commit message but I can port it as a code comment so that it is more accessible.\n\nI will do that.",
      "parentUuid": "b9f3a276_10dd67b0",
      "revId": "7ad5d5f222d1c58820d8b9934bb1c99521629a15",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "89ea6645_083d5f43",
        "filename": "polygerrit-ui/app/utils/safari-selection-util.ts",
        "patchSetId": 20
      },
      "lineNbr": 50,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-05-25T12:40:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7645b017_a2ab535c",
      "revId": "7ad5d5f222d1c58820d8b9934bb1c99521629a15",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "92ae7d99_15119bbc",
        "filename": "polygerrit-ui/app/utils/safari-selection-util.ts",
        "patchSetId": 20
      },
      "lineNbr": 73,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-05-25T10:22:17Z",
      "side": 1,
      "message": "Try to not use `any`. Can you try `event: InputEvent` in line 70?",
      "range": {
        "startLine": 73,
        "startChar": 23,
        "endLine": 73,
        "endChar": 37
      },
      "revId": "7ad5d5f222d1c58820d8b9934bb1c99521629a15",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "75edf4d2_8864918f",
        "filename": "polygerrit-ui/app/utils/safari-selection-util.ts",
        "patchSetId": 20
      },
      "lineNbr": 73,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-05-25T12:39:45Z",
      "side": 1,
      "message": "I did try to use InputEvent, but when I did so, a plethora of errors arised[1], among which:\n\n```\nTSC - 2021/05/25 15:00:35 app/utils/safari-selection-util.ts(73,30): error TS2339: Property \u0027getTargetRanges\u0027 does not exist on type \u0027InputEvent\u0027.\n```\n\nI did try to import the type definition @types/dom-inputevent[2], but looks like the getTargetRanges is not provided either by that type definition?\n\n[1]https://pastebin.com/PdVnvNwX\n[2]https://www.npmjs.com/package/@types/dom-inputevent",
      "parentUuid": "92ae7d99_15119bbc",
      "range": {
        "startLine": 73,
        "startChar": 23,
        "endLine": 73,
        "endChar": 37
      },
      "revId": "7ad5d5f222d1c58820d8b9934bb1c99521629a15",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "318ff188_af53461a",
        "filename": "polygerrit-ui/app/utils/safari-selection-util.ts",
        "patchSetId": 20
      },
      "lineNbr": 73,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-05-25T13:02:55Z",
      "side": 1,
      "message": "Add this interface def somewhere at the top of the file:\n\n  interface InputEventExtended extends InputEvent {\n    getTargetRanges(): StaticRange[];\n  }\n\nThen here do:\n\n  const inputEvent \u003d event as InputEventExtended;\n  if (typeof inputEvent.getTargetRanges !\u003d\u003d \u0027function\u0027) return;\n  const range \u003d inputEvent.getTargetRanges()[0];",
      "parentUuid": "75edf4d2_8864918f",
      "range": {
        "startLine": 73,
        "startChar": 23,
        "endLine": 73,
        "endChar": 37
      },
      "revId": "7ad5d5f222d1c58820d8b9934bb1c99521629a15",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d5e0887c_fbaff740",
        "filename": "polygerrit-ui/app/utils/safari-selection-util.ts",
        "patchSetId": 20
      },
      "lineNbr": 90,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-05-25T10:22:17Z",
      "side": 1,
      "message": "I don\u0027t understand why anything needs to happen when `processing \u003d\u003d\u003d false`. Why do you have to call prevent/stop here? Add a comment.",
      "range": {
        "startLine": 89,
        "startChar": 9,
        "endLine": 90,
        "endChar": 43
      },
      "revId": "7ad5d5f222d1c58820d8b9934bb1c99521629a15",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d21f4c32_9830ca73",
        "filename": "polygerrit-ui/app/utils/safari-selection-util.ts",
        "patchSetId": 20
      },
      "lineNbr": 90,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-05-25T12:39:45Z",
      "side": 1,
      "message": "This is the bit that prevents the content of the diff from being edited.\nI have added a comment.",
      "parentUuid": "d5e0887c_fbaff740",
      "range": {
        "startLine": 89,
        "startChar": 9,
        "endLine": 90,
        "endChar": 43
      },
      "revId": "7ad5d5f222d1c58820d8b9934bb1c99521629a15",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}