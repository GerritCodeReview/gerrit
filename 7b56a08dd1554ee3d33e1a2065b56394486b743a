{
  "comments": [
    {
      "key": {
        "uuid": "d8c3812f_fa21b0c0",
        "filename": "package.json",
        "patchSetId": 13
      },
      "lineNbr": 24,
      "author": {
        "id": 1086906
      },
      "writtenOn": "2020-03-31T11:36:23Z",
      "side": 1,
      "message": "i remember we have certain ignored patterns (not sure why) before, do we need to keep them ?",
      "revId": "7b56a08dd1554ee3d33e1a2065b56394486b743a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "da06db9b_e6b53eed",
        "filename": "package.json",
        "patchSetId": 13
      },
      "lineNbr": 24,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-03-31T12:14:12Z",
      "side": 1,
      "message": "No, now all ignored patterns are placed in the eslintignore (except patterns for bazel-generated files)",
      "parentUuid": "d8c3812f_fa21b0c0",
      "revId": "7b56a08dd1554ee3d33e1a2065b56394486b743a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a4a54a9_0606d2bb",
        "filename": "polygerrit-ui/app/BUILD",
        "patchSetId": 13
      },
      "lineNbr": 88,
      "author": {
        "id": 1086906
      },
      "writtenOn": "2020-03-31T11:36:23Z",
      "side": 1,
      "message": "not sure if you need to change the gerrit-ci-scripts or not, i forgot what target they are using.",
      "revId": "7b56a08dd1554ee3d33e1a2065b56394486b743a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d9060e72_8e7033b7",
        "filename": "polygerrit-ui/app/BUILD",
        "patchSetId": 13
      },
      "lineNbr": 88,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-03-31T12:14:12Z",
      "side": 1,
      "message": "gerrit-ci-scripts uses the following command\nbazelisk test //polygerrit-ui/app:lint_test --test_output errors\n\nThe name for test rule is the same as before, no need to change it.",
      "parentUuid": "7a4a54a9_0606d2bb",
      "revId": "7b56a08dd1554ee3d33e1a2065b56394486b743a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9ce15ac1_d7c45427",
        "filename": "tools/js/BUILD",
        "patchSetId": 13
      },
      "lineNbr": 3,
      "author": {
        "id": 1086906
      },
      "writtenOn": "2020-03-31T11:36:23Z",
      "side": 1,
      "message": "why this is needed ?  i thought the file is removed",
      "revId": "7b56a08dd1554ee3d33e1a2065b56394486b743a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a3707d26_3f17a4b3",
        "filename": "tools/js/BUILD",
        "patchSetId": 13
      },
      "lineNbr": 3,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-03-31T12:14:12Z",
      "side": 1,
      "message": "Yes, you are right.",
      "parentUuid": "9ce15ac1_d7c45427",
      "revId": "7b56a08dd1554ee3d33e1a2065b56394486b743a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5028a154_e8118bb7",
        "filename": "tools/js/eslint.bzl",
        "patchSetId": 13
      },
      "lineNbr": 44,
      "author": {
        "id": 1086906
      },
      "writtenOn": "2020-03-31T11:36:23Z",
      "side": 1,
      "message": "so with this change, the `eslint` used in linter test, at least for master branch, will be the same as the one defined in package.json right ? and will it install it on every job ? can you loop in luca or thomas on this, I think they were trying to avoid installing dependencies on job level. After all the CI will be ran there.",
      "revId": "7b56a08dd1554ee3d33e1a2065b56394486b743a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8cf4876d_340279cf",
        "filename": "tools/js/eslint.bzl",
        "patchSetId": 13
      },
      "lineNbr": 44,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-03-31T12:17:45Z",
      "side": 1,
      "message": "Ok, I added Thomas and Luca to CC.\nBut I am quite sure, the new rules don\u0027t change behavior of every jobs. Maximum it can change only behavior of a job which run linter.",
      "parentUuid": "5028a154_e8118bb7",
      "revId": "7b56a08dd1554ee3d33e1a2065b56394486b743a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6ebf7721_a3e2ab77",
        "filename": "tools/js/eslint.bzl",
        "patchSetId": 13
      },
      "lineNbr": 44,
      "author": {
        "id": 1086906
      },
      "writtenOn": "2020-03-31T12:22:25Z",
      "side": 1,
      "message": "ya that\u0027s what I mean, every linter job. I am wondering if CI is ok with installing eslint and related lint plugins for every linter job or not if that\u0027s the case.\n\n@Luca, @Thomas",
      "parentUuid": "8cf4876d_340279cf",
      "revId": "7b56a08dd1554ee3d33e1a2065b56394486b743a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1097a93c_4116472e",
        "filename": "tools/js/eslint.bzl",
        "patchSetId": 13
      },
      "lineNbr": 44,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-03-31T12:27:06Z",
      "side": 1,
      "message": "It really depends on how long does it take installing it and *IF* that involves downloading further resources from unstable URLs and thus creating more opportunity for flakey builds.",
      "parentUuid": "6ebf7721_a3e2ab77",
      "revId": "7b56a08dd1554ee3d33e1a2065b56394486b743a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7662163c_b335c067",
        "filename": "tools/js/eslint.bzl",
        "patchSetId": 13
      },
      "lineNbr": 44,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2020-03-31T12:37:31Z",
      "side": 1,
      "message": "Is bazel able to cache the eslint installation? If yes, a regular update of the slave images would already reduce the downloads considerably, if bazel would just use the cached eslint, if eslint wasn\u0027t updated in the meantime.",
      "parentUuid": "1097a93c_4116472e",
      "revId": "7b56a08dd1554ee3d33e1a2065b56394486b743a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fe6dfc8e_40892b00",
        "filename": "tools/js/eslint.bzl",
        "patchSetId": 13
      },
      "lineNbr": 44,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-03-31T12:38:41Z",
      "side": 1,
      "message": "Could you please explain a little bit more, what should I check?\nThe eslint rules don\u0027t introduce anything new, we already use npm packages and rules_nodejs in our build rules to build a polygerrit bundle.",
      "parentUuid": "1097a93c_4116472e",
      "revId": "7b56a08dd1554ee3d33e1a2065b56394486b743a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "49c1ef79_c2b259b4",
        "filename": "tools/js/eslint.bzl",
        "patchSetId": 13
      },
      "lineNbr": 44,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2020-03-31T14:00:43Z",
      "side": 1,
      "message": "I just did this following small test on my own machine, having your change checked out:\n\n  git clean -ffdx\n  bazelisk clean --expunge\n  bazelisk test polygerrit-ui/app:lint_test\n  # \u003d\u003e packages were downloaded and node_modules exists\n  git clean -ffdx\n  # \u003d\u003e node_modules is gone from the repository\n  # switched off wifi\n  bazelisk test polygerrit-ui/app:lint_test\n  # \u003d\u003e node_modules exists again and tests ran\n\nSo some cache was apparently used to get the packages, which means that this does what I asked for and the packages are not downloaded every time the build is done.",
      "parentUuid": "fe6dfc8e_40892b00",
      "revId": "7b56a08dd1554ee3d33e1a2065b56394486b743a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a6165048_3aa1fd27",
        "filename": "tools/js/eslint.bzl",
        "patchSetId": 13
      },
      "lineNbr": 44,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-04-01T09:59:53Z",
      "side": 1,
      "message": "I tested it with docker images for jenkins (gerritforge/gerrit-ci-slave-bazel-docker:debian-stretch).\nWarm up from the current master - it uses network to fetch new npm packages.\nWarm up from any change with the same packages - it doesn\u0027t use network to fetch npm packages. Instead it uses npm packages from the yarn cache",
      "parentUuid": "49c1ef79_c2b259b4",
      "revId": "7b56a08dd1554ee3d33e1a2065b56394486b743a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8620a2f7_2f3f41ba",
        "filename": "tools/js/eslint.bzl",
        "patchSetId": 13
      },
      "lineNbr": 44,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-04-01T10:33:52Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a6165048_3aa1fd27",
      "revId": "7b56a08dd1554ee3d33e1a2065b56394486b743a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a58e18e4_3d97b75d",
        "filename": "tools/js/eslint.bzl",
        "patchSetId": 13
      },
      "lineNbr": 52,
      "author": {
        "id": 1086906
      },
      "writtenOn": "2020-03-31T11:36:23Z",
      "side": 1,
      "message": "just curious, what is the `rlocation` ?",
      "range": {
        "startLine": 52,
        "startChar": 12,
        "endLine": 52,
        "endChar": 21
      },
      "revId": "7b56a08dd1554ee3d33e1a2065b56394486b743a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a339d1df_b45dae1f",
        "filename": "tools/js/eslint.bzl",
        "patchSetId": 13
      },
      "lineNbr": 52,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-03-31T12:14:12Z",
      "side": 1,
      "message": "I don\u0027t know exactly what is rlocation, but I added comment about it (this is a recommended workaround from the rules_nodejs doc)",
      "parentUuid": "a58e18e4_3d97b75d",
      "range": {
        "startLine": 52,
        "startChar": 12,
        "endLine": 52,
        "endChar": 21
      },
      "revId": "7b56a08dd1554ee3d33e1a2065b56394486b743a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "96998e49_7f74fbbc",
        "filename": "tools/js/eslint.bzl",
        "patchSetId": 13
      },
      "lineNbr": 62,
      "author": {
        "id": 1086906
      },
      "writtenOn": "2020-03-31T11:36:23Z",
      "side": 1,
      "message": "can you document a bit here on these ignored patterns ?",
      "revId": "7b56a08dd1554ee3d33e1a2065b56394486b743a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "029611dc_e153c356",
        "filename": "tools/js/eslint.bzl",
        "patchSetId": 13
      },
      "lineNbr": 62,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-03-31T12:14:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "96998e49_7f74fbbc",
      "revId": "7b56a08dd1554ee3d33e1a2065b56394486b743a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9646e629_3f3029c5",
        "filename": "tools/js/eslint.bzl",
        "patchSetId": 13
      },
      "lineNbr": 73,
      "author": {
        "id": 1086906
      },
      "writtenOn": "2020-03-31T11:36:23Z",
      "side": 1,
      "message": "ditto",
      "revId": "7b56a08dd1554ee3d33e1a2065b56394486b743a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "89cd4bc6_743d3e6f",
        "filename": "tools/js/eslint.bzl",
        "patchSetId": 13
      },
      "lineNbr": 73,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2020-03-31T12:14:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9646e629_3f3029c5",
      "revId": "7b56a08dd1554ee3d33e1a2065b56394486b743a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}