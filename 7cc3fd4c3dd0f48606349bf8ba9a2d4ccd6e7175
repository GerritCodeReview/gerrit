{
  "comments": [
    {
      "key": {
        "uuid": "7d96d959_8ca107e5",
        "filename": "Documentation/rest-api.txt",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2013-05-31T14:20:47Z",
      "side": 1,
      "message": "Should we keep the restpoints lexicographically ordered?",
      "revId": "7cc3fd4c3dd0f48606349bf8ba9a2d4ccd6e7175",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3db461dd_ba9e11a6",
        "filename": "Documentation/rest-api.txt",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2013-05-31T14:51:09Z",
      "side": 1,
      "message": "I was thinking about the order and decided to put it at the end because this end-point is intended for a different purpose than the 4 above.\nMaybe we should have a new section (Admin Endpoints?)?",
      "parentUuid": "7d96d959_8ca107e5",
      "revId": "7cc3fd4c3dd0f48606349bf8ba9a2d4ccd6e7175",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fdb9e9f9_384f4972",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/UrlModule.java",
        "patchSetId": 2
      },
      "lineNbr": 108,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2013-06-03T14:12:47Z",
      "side": 1,
      "message": "I don\u0027t want to make a large number of new top level servlets like this. In another thread I suggested creating a /config/ top level for server wide configuration, with an id of \"server\" that is hard-coded into the ConfigCollection.\n\nSo this would maybe be: /config/server/etc/{name} and we bind views for etc, static, etc. Or we do /config/server/files/{name}.",
      "revId": "7cc3fd4c3dd0f48606349bf8ba9a2d4ccd6e7175",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fdb9e9f9_184c8579",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/admin/ConfigFilesCollection.java",
        "patchSetId": 2
      },
      "lineNbr": 55,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2013-06-03T14:12:47Z",
      "side": 1,
      "message": "I want to be paranoid here and reject strings that start with \"../\" or \"./\" or \"/\" or \"[a-z]:\" or \"//\" or \"\\\\\" or contain \"/../\" or \"/./\" or \"//\" or \"\\\\\", etc. Its difficult to make this reasonably safe.",
      "revId": "7cc3fd4c3dd0f48606349bf8ba9a2d4ccd6e7175",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fdb9e9f9_f88d517e",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/admin/ConfigFilesCollection.java",
        "patchSetId": 2
      },
      "lineNbr": 71,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2013-06-03T14:12:47Z",
      "side": 1,
      "message": "I\u0027m kind of worried about exporting etc/secure.config or the server SSH private key. Heck even the database configuration section of etc/gerrit.config.",
      "revId": "7cc3fd4c3dd0f48606349bf8ba9a2d4ccd6e7175",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ddbee5e1_b797e88e",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/admin/GetConfigFile.java",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2013-06-03T14:12:47Z",
      "side": 1,
      "message": "I want controlled by a configuration setting somehow. I don\u0027t want this API available on my servers, for example.",
      "revId": "7cc3fd4c3dd0f48606349bf8ba9a2d4ccd6e7175",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ddbee5e1_77a270e9",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/admin/GetConfigFile.java",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2013-06-03T14:29:46Z",
      "side": 1,
      "message": "Your concerns are understandable. And even if the availability of this API would be made configurable there still would be a risk that it gets started due to a bug. Just the presence of this API in the server code seems very risky.\n\nI am thinking about implementing the download/upload of server config files as a plugin. Only the init on startup would stay in the core.",
      "parentUuid": "ddbee5e1_b797e88e",
      "revId": "7cc3fd4c3dd0f48606349bf8ba9a2d4ccd6e7175",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ddbee5e1_37acf8d6",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/admin/GetConfigFile.java",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2013-06-03T14:31:39Z",
      "side": 1,
      "message": "Yes, I was just coming back here to suggest running this in a plugin rather than in the core server. I think it belongs in a plugin. Installation an admin can decide if they want this feature and take its associated risks, or not.\n\nAn admin can hack a server by installing a plugin remotely. So if the feature is not enabled the admin can add it remotely, use it, and disable the plugin. :-)",
      "parentUuid": "ddbee5e1_77a270e9",
      "revId": "7cc3fd4c3dd0f48606349bf8ba9a2d4ccd6e7175",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ddbee5e1_17a9f4c6",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/admin/GetConfigFile.java",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2013-06-03T14:34:47Z",
      "side": 1,
      "message": "OK, agreed. I am going to do this as a plugin.",
      "parentUuid": "ddbee5e1_37acf8d6",
      "revId": "7cc3fd4c3dd0f48606349bf8ba9a2d4ccd6e7175",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}