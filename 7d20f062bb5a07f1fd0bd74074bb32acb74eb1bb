{
  "comments": [
    {
      "key": {
        "uuid": "d92002e1_88d2b7df",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-10-19T09:00:35Z",
      "side": 1,
      "message": "Can we find a subject that describes the change better? :-)",
      "revId": "7d20f062bb5a07f1fd0bd74074bb32acb74eb1bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9e9e22c_60055250",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-10-19T09:04:50Z",
      "side": 1,
      "message": "lol",
      "parentUuid": "d92002e1_88d2b7df",
      "revId": "7d20f062bb5a07f1fd0bd74074bb32acb74eb1bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bb70a7c4_59c7036c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2015-11-16T13:41:09Z",
      "side": 1,
      "message": "OK, it is funny but still too broad subject. Please make it more specific.",
      "parentUuid": "d9e9e22c_60055250",
      "revId": "7d20f062bb5a07f1fd0bd74074bb32acb74eb1bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bb70a7c4_194aeb58",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-11-18T10:19:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bb70a7c4_59c7036c",
      "revId": "7d20f062bb5a07f1fd0bd74074bb32acb74eb1bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9b67630e_988fd5dc",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2015-11-18T09:33:23Z",
      "side": 1,
      "message": "nit:upgrade",
      "range": {
        "startLine": 10,
        "startChar": 21,
        "endLine": 10,
        "endChar": 28
      },
      "revId": "7d20f062bb5a07f1fd0bd74074bb32acb74eb1bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bb70a7c4_79452749",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-11-18T10:19:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9b67630e_988fd5dc",
      "range": {
        "startLine": 10,
        "startChar": 21,
        "endLine": 10,
        "endChar": 28
      },
      "revId": "7d20f062bb5a07f1fd0bd74074bb32acb74eb1bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9e9e22c_400e4e7a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-10-19T09:00:35Z",
      "side": 1,
      "message": "I do agree that it\u0027s always right to upgrade the plugins, but I\u0027m not sure about installation.",
      "range": {
        "startLine": 27,
        "startChar": 0,
        "endLine": 27,
        "endChar": 71
      },
      "revId": "7d20f062bb5a07f1fd0bd74074bb32acb74eb1bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d92002e1_288d8b09",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-10-19T09:04:50Z",
      "side": 1,
      "message": "How often, did we have complaints on dev ML, that the download-commands plugin, that is needed for core functionality of Gerrit site, was missing?",
      "parentUuid": "d9e9e22c_400e4e7a",
      "range": {
        "startLine": 27,
        "startChar": 0,
        "endLine": 27,
        "endChar": 71
      },
      "revId": "7d20f062bb5a07f1fd0bd74074bb32acb74eb1bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9e9e22c_a0491aa6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-10-19T09:21:56Z",
      "side": 1,
      "message": "Yeah, I\u0027m agreeing for the download-commands plugin, but for example SAP is not using the replication plugin, and it could be annoying if on any upgrade one must remember to not accidentally install it.",
      "parentUuid": "d92002e1_288d8b09",
      "range": {
        "startLine": 27,
        "startChar": 0,
        "endLine": 27,
        "endChar": 71
      },
      "revId": "7d20f062bb5a07f1fd0bd74074bb32acb74eb1bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9e9e22c_004f26a8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-10-19T09:27:08Z",
      "side": 1,
      "message": "Agreed. So may be we should be smarter on that. And teach the installer to differentiate between two modes:\n\n* Install\n* Upgrade\n\nand two different kinds of core plugins:\n\n* mandatory\n* optional\n\nThis would allow us to always suggest to install mandatory plugin on first installation; so that replication plugin would be suggested with \"y/N\", but download-command plugin with \"Y/n\" for first site installations.\n\n*But* in any events each and every plugin should be suggested to be upgraded by installer, when it\u0027s already installed on the Gerrit site.",
      "parentUuid": "d9e9e22c_a0491aa6",
      "range": {
        "startLine": 27,
        "startChar": 0,
        "endLine": 27,
        "endChar": 71
      },
      "revId": "7d20f062bb5a07f1fd0bd74074bb32acb74eb1bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9e9e22c_40592e6e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-10-19T09:37:13Z",
      "side": 1,
      "message": "\u003e and two different kinds of core plugins:\n \u003e * mandatory\n \u003e * optional\n\nI\u0027m not sure if we can make this decision for each plugin so that all users are happy. I would like it most if on the initial installation the default for installing would be Y for all plugins. On upgrade the default should be N (you didn\u0027t have the plugin before and it\u0027s likely that you still don\u0027t want it). \n\nA question could be what to do on upgrade when there is a new plugin which didn\u0027t exist before. I would be fine with either Y or N as default in this case. For simplicity I would go for N. Then it should be easy to implement: Initial site installation -\u003e default Y for all plugins; site upgrade -\u003e default for installing new plugins is N, but existing plugins are always upgraded.\n\n \u003e *But* in any events each and every plugin should be \n \u003e suggested to be upgraded by installer, when it\u0027s already \n \u003e installed on the Gerrit site.\n\n+1",
      "parentUuid": "d9e9e22c_004f26a8",
      "range": {
        "startLine": 27,
        "startChar": 0,
        "endLine": 27,
        "endChar": 71
      },
      "revId": "7d20f062bb5a07f1fd0bd74074bb32acb74eb1bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d92002e1_c8a78f7c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2015-10-19T12:05:07Z",
      "side": 1,
      "message": "\u003e Initial site installation -\u003e default Y for all plugins; site upgrade -\u003e default for installing new plugins is N, but existing plugins are always upgraded.\n\nAgreed. Just a small clarification:\n\n\u003e but existing plugins are always upgraded.\n\nThey are not unconditionally upgraded but the default answer for upgrading an existing plugin is Y.",
      "parentUuid": "d9e9e22c_40592e6e",
      "range": {
        "startLine": 27,
        "startChar": 0,
        "endLine": 27,
        "endChar": 71
      },
      "revId": "7d20f062bb5a07f1fd0bd74074bb32acb74eb1bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9e9e22c_c02b7eb8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-10-19T12:06:28Z",
      "side": 1,
      "message": "Yes, this is what I meant. Thanks for clarifying!",
      "parentUuid": "d92002e1_c8a78f7c",
      "range": {
        "startLine": 27,
        "startChar": 0,
        "endLine": 27,
        "endChar": 71
      },
      "revId": "7d20f062bb5a07f1fd0bd74074bb32acb74eb1bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d92002e1_0879a785",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-10-19T12:09:44Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "d92002e1_c8a78f7c",
      "range": {
        "startLine": 27,
        "startChar": 0,
        "endLine": 27,
        "endChar": 71
      },
      "revId": "7d20f062bb5a07f1fd0bd74074bb32acb74eb1bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9b67630e_d8da2d40",
        "filename": "gerrit-pgm/src/main/java/com/google/gerrit/pgm/init/InitPlugins.java",
        "patchSetId": 1
      },
      "lineNbr": 116,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2015-11-16T13:41:09Z",
      "side": 1,
      "message": "For a fresh new install this is OK. It will install all plugins.\n\nFor an upgrade of an existing site we said (see previous comments) that we want to upgrade only existing plugins but NOT install any new plugin(s) by default.",
      "revId": "7d20f062bb5a07f1fd0bd74074bb32acb74eb1bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9b67630e_986835c9",
        "filename": "gerrit-pgm/src/main/java/com/google/gerrit/pgm/init/InitPlugins.java",
        "patchSetId": 1
      },
      "lineNbr": 116,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-11-18T10:19:48Z",
      "side": 1,
      "message": "Yes, that\u0027s correct. We don\u0027t have obvious way to figure out what plugins are installed on Gerrit site. PluginLoader has similar logic in rescan() method, that should be reused here.",
      "parentUuid": "9b67630e_d8da2d40",
      "revId": "7d20f062bb5a07f1fd0bd74074bb32acb74eb1bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7bdf0ff3_cfda5d40",
        "filename": "gerrit-pgm/src/main/java/com/google/gerrit/pgm/init/InitPlugins.java",
        "patchSetId": 1
      },
      "lineNbr": 116,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2015-11-18T15:49:14Z",
      "side": 1,
      "message": "\u003e We don\u0027t have obvious way to figure out what plugins are installed on Gerrit site\n\nLook at the lines 122-123. If plugin.name.jar exists in the site.plugins_dir then we consider that as existence of that plugin.",
      "parentUuid": "9b67630e_986835c9",
      "revId": "7d20f062bb5a07f1fd0bd74074bb32acb74eb1bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9b67630e_f8193163",
        "filename": "gerrit-pgm/src/main/java/com/google/gerrit/pgm/init/InitPlugins.java",
        "patchSetId": 1
      },
      "lineNbr": 116,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2015-11-18T16:01:12Z",
      "side": 1,
      "message": "Thanks. Done.",
      "parentUuid": "7bdf0ff3_cfda5d40",
      "revId": "7d20f062bb5a07f1fd0bd74074bb32acb74eb1bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}