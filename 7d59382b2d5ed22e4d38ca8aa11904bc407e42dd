{
  "comments": [
    {
      "key": {
        "uuid": "24f2500f_90e584f2",
        "filename": "Documentation/config-gerrit.txt",
        "patchSetId": 2
      },
      "lineNbr": 4417,
      "author": {
        "id": 1004034
      },
      "writtenOn": "2019-09-21T20:31:48Z",
      "side": 1,
      "message": "we use 10 minutes and this works for us",
      "revId": "7d59382b2d5ed22e4d38ca8aa11904bc407e42dd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9d78006b_bf4a259e",
        "filename": "Documentation/config-gerrit.txt",
        "patchSetId": 2
      },
      "lineNbr": 4417,
      "author": {
        "id": 1045122
      },
      "writtenOn": "2019-09-21T20:44:12Z",
      "side": 1,
      "message": "Yes, I think 10 minutes could also be a \u0027sane\u0027 default, but also 60 could be. It just depends. I just observed that my local Git client takes 10 minutes as timeout and taking a bit more as the default seems a good idea to me.\n\nAre you saying that I should make it 10 minutes? (as this is an unresolved comment)\n\nIf so, do you have a better argument than \"works for us\"?",
      "parentUuid": "24f2500f_90e584f2",
      "revId": "7d59382b2d5ed22e4d38ca8aa11904bc407e42dd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b56365f9_760a7ed8",
        "filename": "Documentation/config-gerrit.txt",
        "patchSetId": 2
      },
      "lineNbr": 4417,
      "author": {
        "id": 1004034
      },
      "writtenOn": "2019-09-21T21:10:28Z",
      "side": 1,
      "message": "The number of ssh threads is limited to sshd.threads. The larger sshd.idleTimeout\nthe higher is the impact of clients with a bad network connection reducing the number of\nsshd threads available for other more responsive clients.\n\nIf idleTimeout is too large responsive clients may have to wait since threads are occupied\nby non-responsive clients. If it\u0027s too small then non-responsive clients could get kicked out\ntoo early. Hence I\u0027d lean towards a smaller timeout default and document how to tune this\nif clients with poor network link get kicked out too often.\n\nThis could be further improved by either auto-tuning idleTimeout depending on the request rate\nand queue length or by autoscaling resources available to the Gerrit server (on Kubernetes\nwe could use horizontal pod autoscaler). But this is beyond the scope of setting reasonable defaults.",
      "parentUuid": "9d78006b_bf4a259e",
      "revId": "7d59382b2d5ed22e4d38ca8aa11904bc407e42dd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c6d0d815_91d5055a",
        "filename": "Documentation/config-gerrit.txt",
        "patchSetId": 2
      },
      "lineNbr": 4417,
      "author": {
        "id": 1045122
      },
      "writtenOn": "2019-09-21T21:22:10Z",
      "side": 1,
      "message": "Yes, I can follow your reasoning and agree to some extent. However, my opinion is that we should focus on \u0027regular\u0027 installations and the need for tweaking the defaults only if you want to do large scale installations.\n\nLet\u0027s say your average Gerrit server is up for 100 days and you have 10 non-graceful SSH connection terminations per day which stay open stale:\n\nSetting it to ~ 30 minutes is solving the problem.\nSetting it to ~ 10 minutes is likely to break a few more cases compared to 30 minutes.\n\nIf you have a site that big and have a relative large number of non-graceful terminations of connections within 30 minutes then that\u0027s something to reconfigure manually before this change.",
      "parentUuid": "b56365f9_760a7ed8",
      "revId": "7d59382b2d5ed22e4d38ca8aa11904bc407e42dd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}