{
  "comments": [
    {
      "key": {
        "uuid": "66f20827_a32025eb",
        "filename": "java/com/google/gerrit/pgm/Init.java",
        "patchSetId": 3
      },
      "lineNbr": 155,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2020-06-01T23:59:20Z",
      "side": 1,
      "message": "Shouldn\u0027t this be getEnum?",
      "range": {
        "startLine": 155,
        "startChar": 15,
        "endLine": 155,
        "endChar": 24
      },
      "revId": "7e0c5a15186db472f953d83e99e4dd9f4c943c8a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b858514b_2d73a324",
        "filename": "java/com/google/gerrit/pgm/Init.java",
        "patchSetId": 3
      },
      "lineNbr": 155,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-06-02T05:40:07Z",
      "side": 1,
      "message": "With improving user experience for site initialization for Elasticsearch index backend, you broke site upgrades. Say a huge gerrit site has 1 million of changes and 50K projects with ES backend. How is this site supposed to upgrade from release N to release N+1, with this change included? Running init command would never end, not within 4 weeks or similar delay.\n\nWhat you probably want is to use exists method: [1] that I added recently to index machinery and just run the reindex command, it it doesn\u0027t exist. That way you even don\u0027t need at all to ask for index backend type, because even for Lucene backend you want to run reindex.\n\nWhat would also help, if you have tried to merge that change up to master to see that this code area was extended.\n\n[1] https://gerrit-review.googlesource.com/c/gerrit/+/265894/28/java/com/google/gerrit/server/index/GerritIndexStatus.java#51",
      "range": {
        "startLine": 155,
        "startChar": 4,
        "endLine": 155,
        "endChar": 74
      },
      "revId": "7e0c5a15186db472f953d83e99e4dd9f4c943c8a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "103d6b40_fec1ece8",
        "filename": "java/com/google/gerrit/pgm/Init.java",
        "patchSetId": 3
      },
      "lineNbr": 155,
      "author": {
        "id": 1094140
      },
      "writtenOn": "2020-06-02T16:18:52Z",
      "side": 1,
      "message": "I was under the assumption that if not needed, the user can run init with the --no-reindex operation which saves the time and energy needed for an unnecessary (or too heavy) reindex. Thanks for your pointers though, since this was started on 2.16 I missed the most recent changes. This will move to 3.0 since 2.16 is obsolete.",
      "parentUuid": "b858514b_2d73a324",
      "range": {
        "startLine": 155,
        "startChar": 4,
        "endLine": 155,
        "endChar": 74
      },
      "revId": "7e0c5a15186db472f953d83e99e4dd9f4c943c8a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4e57ad55_33ba80cb",
        "filename": "java/com/google/gerrit/pgm/Init.java",
        "patchSetId": 3
      },
      "lineNbr": 155,
      "author": {
        "id": 1094140
      },
      "writtenOn": "2020-06-02T16:19:20Z",
      "side": 1,
      "message": "2.16 is EOL I mean.",
      "parentUuid": "103d6b40_fec1ece8",
      "range": {
        "startLine": 155,
        "startChar": 4,
        "endLine": 155,
        "endChar": 74
      },
      "revId": "7e0c5a15186db472f953d83e99e4dd9f4c943c8a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e4513af_12f9b470",
        "filename": "java/com/google/gerrit/pgm/Init.java",
        "patchSetId": 3
      },
      "lineNbr": 155,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-06-02T17:51:32Z",
      "side": 1,
      "message": "--no-reindex does not exist any more. It was removed starting from 3.2.",
      "parentUuid": "4e57ad55_33ba80cb",
      "range": {
        "startLine": 155,
        "startChar": 4,
        "endLine": 155,
        "endChar": 74
      },
      "revId": "7e0c5a15186db472f953d83e99e4dd9f4c943c8a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "60a8e8fe_cd2e625f",
        "filename": "java/com/google/gerrit/pgm/Init.java",
        "patchSetId": 3
      },
      "lineNbr": 155,
      "author": {
        "id": 1094140
      },
      "writtenOn": "2020-06-02T17:57:28Z",
      "side": 1,
      "message": "Yes, but for branches under it still applies no?",
      "parentUuid": "1e4513af_12f9b470",
      "range": {
        "startLine": 155,
        "startChar": 4,
        "endLine": 155,
        "endChar": 74
      },
      "revId": "7e0c5a15186db472f953d83e99e4dd9f4c943c8a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3a3deeeb_f4b8bf7f",
        "filename": "java/com/google/gerrit/pgm/Init.java",
        "patchSetId": 3
      },
      "lineNbr": 155,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-06-02T18:01:13Z",
      "side": 1,
      "message": "YEs.  But I would not introduce new login based on deprecated option and would have to completely rewrite it in mege commit to stable-3.2 branch. I would say: you fix that problem on master first. Second step is to think about how to back port it to stable branches.",
      "parentUuid": "60a8e8fe_cd2e625f",
      "range": {
        "startLine": 155,
        "startChar": 4,
        "endLine": 155,
        "endChar": 74
      },
      "revId": "7e0c5a15186db472f953d83e99e4dd9f4c943c8a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "abfbff39_b903ec80",
        "filename": "java/com/google/gerrit/pgm/Init.java",
        "patchSetId": 3
      },
      "lineNbr": 155,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-06-02T21:50:04Z",
      "side": 1,
      "message": "\u003e YEs.  But I would not introduce new login based on deprecated option and would have to completely rewrite it in mege commit to stable-3.2 branch. I would say: you fix that problem on master first. Second step is to think about how to back port it to stable branches.\n\n+1, bearing in mind also that ElasticSearch support is experimental and not declared production ready.\n\nLet make it better on master and declare it as \"production-ready\" from v3.3 onwards. v2.16 is EOL and we won\u0027t like to introduce any big change or fixes.",
      "parentUuid": "3a3deeeb_f4b8bf7f",
      "range": {
        "startLine": 155,
        "startChar": 4,
        "endLine": 155,
        "endChar": 74
      },
      "revId": "7e0c5a15186db472f953d83e99e4dd9f4c943c8a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}