{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "2a76c5bd_edfd6928",
        "filename": "/COMMIT_MSG",
        "patchSetId": 31
      },
      "lineNbr": 9,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-10-15T21:43:40Z",
      "side": 1,
      "message": "Maybe you can explain more in the commit message how you are loading and processing ported comments.",
      "revId": "7ecbfd963d442b3302873bd6e73b04b0a289e030",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c5032c2b_531a3a45",
        "filename": "/COMMIT_MSG",
        "patchSetId": 31
      },
      "lineNbr": 9,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2020-10-19T19:30:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2a76c5bd_edfd6928",
      "revId": "7ecbfd963d442b3302873bd6e73b04b0a289e030",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6c59c8fd_b739c508",
        "filename": "/COMMIT_MSG",
        "patchSetId": 31
      },
      "lineNbr": 11,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-10-15T21:43:40Z",
      "side": 1,
      "message": "I think it would be helpful to also do the change-view in one change, because it might be easier to find the right abstractions and be less repetitive.",
      "revId": "7ecbfd963d442b3302873bd6e73b04b0a289e030",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d0294a9a_c7b351a8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 31
      },
      "lineNbr": 11,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2020-10-16T13:27:27Z",
      "side": 1,
      "message": "Marking this change WIP until change-view is implemented then.",
      "parentUuid": "6c59c8fd_b739c508",
      "revId": "7ecbfd963d442b3302873bd6e73b04b0a289e030",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8e2e85bd_cae17f65",
        "filename": "/COMMIT_MSG",
        "patchSetId": 31
      },
      "lineNbr": 11,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2020-10-19T19:30:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d0294a9a_c7b351a8",
      "revId": "7ecbfd963d442b3302873bd6e73b04b0a289e030",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "413655ae_7ee5067c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 31
      },
      "lineNbr": 0,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-10-15T21:43:40Z",
      "side": 1,
      "message": "Just a first round of high-level comments.\n\nAdding Dmitrii as an additional reviewer, because I think the change is substantial enough that four eyes might be good. Also I am OOO next week.",
      "revId": "7ecbfd963d442b3302873bd6e73b04b0a289e030",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c81952cc_0998bed8",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-host/gr-diff-host.ts",
        "patchSetId": 31
      },
      "lineNbr": 133,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-10-15T21:43:40Z",
      "side": 1,
      "message": "If this is unrelated to gr-diff, then maybe move to comment-util?",
      "revId": "7ecbfd963d442b3302873bd6e73b04b0a289e030",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "66c8ae52_7225b599",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-host/gr-diff-host.ts",
        "patchSetId": 31
      },
      "lineNbr": 133,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2020-10-19T19:30:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c81952cc_0998bed8",
      "revId": "7ecbfd963d442b3302873bd6e73b04b0a289e030",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d9838def_033dda34",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-host/gr-diff-host.ts",
        "patchSetId": 31
      },
      "lineNbr": 774,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-10-15T21:43:40Z",
      "side": 1,
      "message": "This is unlikely to be the best way to re-render the diff. Let\u0027s discuss this more.\n\nBut maybe it is a bad user experience anyway to load/show the diff with one set of comments and then (suddenly) reload it with another set of (ported) comments. Maybe we should just wait for the ported comments, and only then show the diff.\n\nAlso note that gr-diff has a (weird) _observeNodes() mechanism for listening on newly attached comment threads. Maybe this could be changed to expand collapsed diff chunks, if ported comments are attached to collapsed lines? I mean if we decide to go for that kind of UX.",
      "revId": "7ecbfd963d442b3302873bd6e73b04b0a289e030",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f36318e3_0ee482a8",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-host/gr-diff-host.ts",
        "patchSetId": 31
      },
      "lineNbr": 774,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2020-10-16T09:04:49Z",
      "side": 1,
      "message": "I think the main issue was that ported comments might have significantly higher latency compared to other calls, especially when comparing patchsets that are not Base/Latest, in which case making users wait so long for the comments might make the feature unusable.\nWe can try the better user experience and see if it is fast enough. I am also not sure of just how slow it is(perhaps it is fast enough). WDYT?",
      "parentUuid": "d9838def_033dda34",
      "revId": "7ecbfd963d442b3302873bd6e73b04b0a289e030",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3dc2de25_12e169ad",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-host/gr-diff-host.ts",
        "patchSetId": 31
      },
      "lineNbr": 774,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-10-16T09:18:39Z",
      "side": 1,
      "message": "I guess we need some data and experience.\n\nYou could just retrieve the comments for now (API call only) and log the latency. Then we know more.\n\nYou could ask Youssef for numbers.\n\nWe should definitely send the API call along with the detail and other comment call, not after them.\n\n*If* we decide that the latency is not good enough, then we have to come up with a plan for the UX, because suddenly have them appear out of nowhere or even re-render the diff is not an option IMO.",
      "parentUuid": "f36318e3_0ee482a8",
      "revId": "7ecbfd963d442b3302873bd6e73b04b0a289e030",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "546f4be8_e0f35fea",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-host/gr-diff-host.ts",
        "patchSetId": 31
      },
      "lineNbr": 774,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2020-10-19T19:30:51Z",
      "side": 1,
      "message": "Hope for the best prepare for the worst.\nI like the idea of tracking the latency by sending the API call. I will send a change for it.\nI guess we can start using the experiment for now and see how bad the latency is and decide after that.\nIf it\u0027s very slow, then we probably need something like a loader to denote the comments are loading. Waiting to display all comments is probably not the best option.",
      "parentUuid": "3dc2de25_12e169ad",
      "revId": "7ecbfd963d442b3302873bd6e73b04b0a289e030",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fb87885a_ab0a029f",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-host/gr-diff-host.ts",
        "patchSetId": 31
      },
      "lineNbr": 774,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2020-11-03T18:45:58Z",
      "side": 1,
      "message": "Icb88045e2 was created to track latency.",
      "parentUuid": "546f4be8_e0f35fea",
      "revId": "7ecbfd963d442b3302873bd6e73b04b0a289e030",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a70f0337_37b38541",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-view/gr-diff-view.ts",
        "patchSetId": 31
      },
      "lineNbr": 1082,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-10-15T21:43:40Z",
      "side": 1,
      "message": "A lot of the content of this method looks like it can be moved to comment-util.",
      "revId": "7ecbfd963d442b3302873bd6e73b04b0a289e030",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "72918080_fe95af81",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-view/gr-diff-view.ts",
        "patchSetId": 31
      },
      "lineNbr": 1082,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2020-10-19T19:30:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a70f0337_37b38541",
      "revId": "7ecbfd963d442b3302873bd6e73b04b0a289e030",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "88dafb4e_a4d6565d",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-view/gr-diff-view.ts",
        "patchSetId": 31
      },
      "lineNbr": 1129,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-10-15T21:43:40Z",
      "side": 1,
      "message": "Is it relevant for the diffHost to know about both, comments and portedCommentThreads? Maybe the diffHost can be agnostic about this?",
      "revId": "7ecbfd963d442b3302873bd6e73b04b0a289e030",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fb1a8802_9f18db08",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-view/gr-diff-view.ts",
        "patchSetId": 31
      },
      "lineNbr": 1129,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2020-10-19T19:30:51Z",
      "side": 1,
      "message": "currently diff-host is forming the threads so I guess we can move the thread-formation logic to diff-host, although I prefer keeping it in diff-view.",
      "parentUuid": "88dafb4e_a4d6565d",
      "revId": "7ecbfd963d442b3302873bd6e73b04b0a289e030",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "91da1fd9_a66c778f",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-view/gr-diff-view.ts",
        "patchSetId": 31
      },
      "lineNbr": 1188,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-10-15T21:43:40Z",
      "side": 1,
      "message": "Is it required to wait for change detail and comments to be loaded before requesting ported comments?\n\nAt least for the !commentId case patchNum can be derived from params, right?",
      "revId": "7ecbfd963d442b3302873bd6e73b04b0a289e030",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ffb73d9c_deb7b5c6",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-view/gr-diff-view.ts",
        "patchSetId": 31
      },
      "lineNbr": 1188,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2020-10-19T19:30:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "91da1fd9_a66c778f",
      "revId": "7ecbfd963d442b3302873bd6e73b04b0a289e030",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7cb182d8_d2aa06fd",
        "filename": "polygerrit-ui/app/utils/comment-util.ts",
        "patchSetId": 31
      },
      "lineNbr": 52,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-10-15T21:43:40Z",
      "side": 1,
      "message": "add comment",
      "revId": "7ecbfd963d442b3302873bd6e73b04b0a289e030",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3a4b5695_8f4f21f5",
        "filename": "polygerrit-ui/app/utils/comment-util.ts",
        "patchSetId": 31
      },
      "lineNbr": 52,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2020-10-19T19:30:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7cb182d8_d2aa06fd",
      "revId": "7ecbfd963d442b3302873bd6e73b04b0a289e030",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}