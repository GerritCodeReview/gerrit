{
  "comments": [
    {
      "key": {
        "uuid": "1a1ba32a_d544dcba",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2016-12-16T09:18:35Z",
      "side": 1,
      "message": "What do you mean by that? How you are triggering SSH free tests? We have similar concepts for pure memory tests and no HTTPD tests and use dedicated annotations for that:\n\n  @NoHttpd\n  public class ServerIT extends AbstractDaemonTest {\n    @Test\n    public void getVersion() throws Exception {\n      assertThat(gApi.config().server().getVersion())\n          .isEqualTo(Version.getVersion());\n    }\n  }\n\nWhy don\u0027t we introduce @NoSsshd (or the opposite @WithSshd if we want to disable SSHD per default and only enable it for minority of checks), and check in the beforeMethod method if Sshd was disabled for the whole unit tests class (or a method) and prevent the SSH initialization code path (including not booting those parts of Guice universe).",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 62
      },
      "revId": "805a60f62bf840dfee50af5f873f66f304c924f1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a1ba32a_353a7028",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2016-12-16T09:21:52Z",
      "side": 1,
      "message": "I was actually considering a @RequireSsh but didn\u0027t want to introduce yet another annotation. I thought I\u0027ll handle it on a class level. *SshTest.java will require SSH.\n\nWe actually only have a hand full of tests that require SSH.\n\nBut if you think @RequireSsh would be a nicer solution I\u0027m happy to go that way.",
      "parentUuid": "1a1ba32a_d544dcba",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 62
      },
      "revId": "805a60f62bf840dfee50af5f873f66f304c924f1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa132f0f_94a54455",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2016-12-16T15:01:53Z",
      "side": 1,
      "message": "\u003e But if you think @RequireSsh would be a nicer solution I\u0027m happy to go that way.\n\nYes, there a should be a declarative way to require resources that tests need. Note, that it\u0027s fine and not a contradiction to define default behaviors, like we do already with\n\n* all tests are per default in-memory tests unless test method is annotated with @UseLocalDisk\n* all tests require per default HTTP daemon, unless a class is annotated with @NoHttpd\n\nSo what you want is either of these:\n\n* all tests require per default SSH daemon, unless a class is annotated with @NoSshd\n* all tests do not require per default SSH daemon, unless a class is annotated with @UseSshd",
      "parentUuid": "1a1ba32a_353a7028",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 62
      },
      "revId": "805a60f62bf840dfee50af5f873f66f304c924f1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}