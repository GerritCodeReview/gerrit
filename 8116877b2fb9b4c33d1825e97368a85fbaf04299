{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "59273b35_5d828a81",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2022-05-25T20:39:22Z",
      "side": 1,
      "message": "Does this invalidate existing entries in the cache?",
      "revId": "8116877b2fb9b4c33d1825e97368a85fbaf04299",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "294a15d8_fb6139a5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-05-30T08:49:58Z",
      "side": 1,
      "message": "Yes. Cache entries are versioned (default is -1). This change sets the new cache version to 1 - replacing default - hence invalidating existing entries.",
      "parentUuid": "59273b35_5d828a81",
      "revId": "8116877b2fb9b4c33d1825e97368a85fbaf04299",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fb8af93d_8928be2e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2022-05-31T19:57:23Z",
      "side": 1,
      "message": "Invalidating a (relatively expensive to populate) cache just \"to get\nrid of the default Java serialization\" seems unnecessary? If we really need to remove default serialization (and I haven\u0027t seen why we need to explained), can we do it in a way that we don\u0027t invalidate the cache?",
      "parentUuid": "294a15d8_fb6139a5",
      "revId": "8116877b2fb9b4c33d1825e97368a85fbaf04299",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3dea913b_6ce11f81",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2022-06-07T14:44:00Z",
      "side": 1,
      "message": "Youssef, could you please provide some more background about the reasoning behind this change? The commit message doesn\u0027t explain benefits of it.\nAlso note, that it is not recommended to use protobuf as a key in dictionary.",
      "parentUuid": "fb8af93d_8928be2e",
      "revId": "8116877b2fb9b4c33d1825e97368a85fbaf04299",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "26279634_d9c3979b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2022-06-07T17:07:00Z",
      "side": 1,
      "message": "The code LGTM. I also would like to get more background about the change - pros for doing it, how deeply it will affect performance of running services during migration and after it (I think this information can also resolve Nasser comments)",
      "revId": "8116877b2fb9b4c33d1825e97368a85fbaf04299",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a2619697_f929930c",
        "filename": "java/com/google/gerrit/server/patch/IntraLineDiff.java",
        "patchSetId": 5
      },
      "lineNbr": 32,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2022-06-07T17:07:00Z",
      "side": 1,
      "message": "Please add javadoc comment to the class",
      "range": {
        "startLine": 32,
        "startChar": 22,
        "endLine": 32,
        "endChar": 35
      },
      "revId": "8116877b2fb9b4c33d1825e97368a85fbaf04299",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0e14d0c6_12373468",
        "filename": "java/com/google/gerrit/server/patch/IntraLineDiff.java",
        "patchSetId": 5
      },
      "lineNbr": 33,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2022-06-07T17:07:00Z",
      "side": 1,
      "message": "Please add javadoc comment",
      "range": {
        "startLine": 33,
        "startChar": 14,
        "endLine": 33,
        "endChar": 20
      },
      "revId": "8116877b2fb9b4c33d1825e97368a85fbaf04299",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "42ada786_a50707d2",
        "filename": "java/com/google/gerrit/server/patch/IntraLineDiff.java",
        "patchSetId": 5
      },
      "lineNbr": 89,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2022-06-07T17:07:00Z",
      "side": 1,
      "message": "Please use Protos.toByteArray (\"No matter whether the use case cares about determinism or not, always use this method in preference to ... MessageLite.toByteArray)",
      "range": {
        "startLine": 89,
        "startChar": 11,
        "endLine": 89,
        "endChar": 22
      },
      "revId": "8116877b2fb9b4c33d1825e97368a85fbaf04299",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d9c21776_2935771f",
        "filename": "java/com/google/gerrit/server/patch/IntraLineDiff.java",
        "patchSetId": 5
      },
      "lineNbr": 100,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2022-06-07T17:07:00Z",
      "side": 1,
      "message": "if Status is UNRECOGNIZED I think we shouldn\u0027t try to load other fields, because it is unclear what do they mean.",
      "range": {
        "startLine": 100,
        "startChar": 6,
        "endLine": 100,
        "endChar": 8
      },
      "revId": "8116877b2fb9b4c33d1825e97368a85fbaf04299",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4b36c6c6_54b3409e",
        "filename": "java/com/google/gerrit/server/patch/IntraLineDiff.java",
        "patchSetId": 5
      },
      "lineNbr": 109,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2022-06-07T17:07:00Z",
      "side": 1,
      "message": "The status is not used here.\nIs it possible to call create(state, edits) to avoid confusion? The serializer always serializes both fields, so it would be good to have a simple desiralizer.",
      "range": {
        "startLine": 109,
        "startChar": 13,
        "endLine": 109,
        "endChar": 41
      },
      "revId": "8116877b2fb9b4c33d1825e97368a85fbaf04299",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e3538745_8fdfdad9",
        "filename": "java/com/google/gerrit/server/patch/IntraLineDiffKey.java",
        "patchSetId": 5
      },
      "lineNbr": 49,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2022-06-07T14:44:00Z",
      "side": 1,
      "message": "There is no guarantee that the protobuf toByteArray is a \"stable\"/\"determenistic\". The output can be changed if a new version of protobuf version is used. It is not recommended to use the protobuf as a key.",
      "range": {
        "startLine": 49,
        "startChar": 13,
        "endLine": 49,
        "endChar": 30
      },
      "revId": "8116877b2fb9b4c33d1825e97368a85fbaf04299",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "316a2c63_8ab2f1ab",
        "filename": "java/com/google/gerrit/server/patch/IntraLineDiffKey.java",
        "patchSetId": 5
      },
      "lineNbr": 49,
      "author": {
        "id": 1085901
      },
      "writtenOn": "2022-06-07T16:15:20Z",
      "side": 1,
      "message": "Seems this risk was accepted here: https://gerrit-review.git.corp.google.com/c/gerrit/+/173552/comments/e9e0d558_81edaf12\n\nSo, this is a separate question, out of scope of this change.",
      "parentUuid": "e3538745_8fdfdad9",
      "range": {
        "startLine": 49,
        "startChar": 13,
        "endLine": 49,
        "endChar": 30
      },
      "revId": "8116877b2fb9b4c33d1825e97368a85fbaf04299",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}