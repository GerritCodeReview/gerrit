{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "65b1b229_fc8255cc",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.ts",
        "patchSetId": 22
      },
      "lineNbr": 1228,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-10-26T08:57:39Z",
      "side": 1,
      "message": "End sentences with a full stop.",
      "range": {
        "startLine": 1228,
        "startChar": 52,
        "endLine": 1228,
        "endChar": 60
      },
      "revId": "81beed90bd1aca43048e0a53da010ebe16942fdd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "18d9bd61_57c7f3fa",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.ts",
        "patchSetId": 22
      },
      "lineNbr": 1228,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2021-10-26T10:53:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "65b1b229_fc8255cc",
      "range": {
        "startLine": 1228,
        "startChar": 52,
        "endLine": 1228,
        "endChar": 60
      },
      "revId": "81beed90bd1aca43048e0a53da010ebe16942fdd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "46065528_684124a8",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.ts",
        "patchSetId": 22
      },
      "lineNbr": 1230,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-10-26T08:57:39Z",
      "side": 1,
      "message": "What is supposed to happen when `patchChanged \u0026\u0026 !patchKnown`? Nothing?",
      "revId": "81beed90bd1aca43048e0a53da010ebe16942fdd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "700e3580_5e1e6b51",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.ts",
        "patchSetId": 22
      },
      "lineNbr": 1230,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2021-10-26T09:24:08Z",
      "side": 1,
      "message": "What is the scenario in which that should happen?\n\npatchKnown isn\u0027t perfectly clear to me. In which scenarios is the patchKnown supposed to be false?\n\nI\u0027m looking at Change 306203 which introduced it. Could the new forceReload parameter be used to remove this variable patchKnown?",
      "parentUuid": "46065528_684124a8",
      "revId": "81beed90bd1aca43048e0a53da010ebe16942fdd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "17daf2fb_b810dfb7",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.ts",
        "patchSetId": 22
      },
      "lineNbr": 1230,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2021-10-26T10:34:04Z",
      "side": 1,
      "message": "The edit flow can be solved with the new forceReload parameter. I think patchKnown can now simply be removed.\nI tested this change on staging and seems to be working fine when editing and publishing edits(I make sure there\u0027s a reload).\nWDYT?",
      "parentUuid": "700e3580_5e1e6b51",
      "revId": "81beed90bd1aca43048e0a53da010ebe16942fdd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ea27f19c_fbf0a971",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.ts",
        "patchSetId": 22
      },
      "lineNbr": 1230,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-10-26T10:54:56Z",
      "side": 1,
      "message": "Yeah, let\u0027s treat `!patchKnown` in the same way as `value.forceReload`.",
      "parentUuid": "17daf2fb_b810dfb7",
      "revId": "81beed90bd1aca43048e0a53da010ebe16942fdd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "447498ac_8fad1a46",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.ts",
        "patchSetId": 22
      },
      "lineNbr": 1230,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-10-26T10:56:34Z",
      "side": 1,
      "message": "I still think it is worthwhile to check whether the requested patchNum is known. If not, then force a reload.",
      "parentUuid": "ea27f19c_fbf0a971",
      "revId": "81beed90bd1aca43048e0a53da010ebe16942fdd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b0a0b9f1_3a9aefae",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.ts",
        "patchSetId": 22
      },
      "lineNbr": 1230,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2021-10-26T11:00:15Z",
      "side": 1,
      "message": "Why do we need the patchKnown variable? \nI can\u0027t think of a use case where this variable would be required.\n\nSpecifically why does gr-change-view need to understand if a patchNum is known or not?",
      "parentUuid": "447498ac_8fad1a46",
      "revId": "81beed90bd1aca43048e0a53da010ebe16942fdd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5786f5af_7b1aac77",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.ts",
        "patchSetId": 22
      },
      "lineNbr": 1230,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-10-26T11:05:02Z",
      "side": 1,
      "message": "If `this._allPatchSets` does not contain `patchRange.patchNum`, then you cannot render it without a full reload.\n\nSuppose the latest ps in 5 and that is what I have loaded as my current change view. Then someone else (or I myself in a different tab) uploads ps 6. Then suppose I manipulate my URL and append \u0027/6\u0027. The change-view will pick up the param change and it will think \"oh great, I know that change already, I don\u0027t have to fully reload, let\u0027s just switch patchsets\". But that will fail and that is what we are guarding against.",
      "parentUuid": "b0a0b9f1_3a9aefae",
      "revId": "81beed90bd1aca43048e0a53da010ebe16942fdd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d32ebb9a_7f466742",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.ts",
        "patchSetId": 22
      },
      "lineNbr": 1230,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2021-10-26T11:15:40Z",
      "side": 1,
      "message": "In that scenario value.patchNum !\u003d patchRange.patchNum and _reloadPatchNumDependentResources is called(as expected). If _reloadPatchNumDependentResources does it\u0027s job then that I would have hoped that somehow worked.\n\nPerhaps it\u0027s a failure of that method.\n\nThe use case(quite unlikely :D ) is possible though. Added patchKnown back and treating !patchKnown as forceReload.",
      "parentUuid": "5786f5af_7b1aac77",
      "revId": "81beed90bd1aca43048e0a53da010ebe16942fdd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6d0338b9_5f62780a",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.ts",
        "patchSetId": 22
      },
      "lineNbr": 1243,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-10-26T08:57:39Z",
      "side": 1,
      "message": "remove",
      "revId": "81beed90bd1aca43048e0a53da010ebe16942fdd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cdc6b429_fc9a3ed7",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.ts",
        "patchSetId": 22
      },
      "lineNbr": 1243,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2021-10-26T10:53:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6d0338b9_5f62780a",
      "revId": "81beed90bd1aca43048e0a53da010ebe16942fdd",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}