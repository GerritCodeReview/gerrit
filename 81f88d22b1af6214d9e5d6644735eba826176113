{
  "comments": [
    {
      "key": {
        "uuid": "5aefd391_3132239c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 7,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2018-11-28T14:46:20Z",
      "side": 1,
      "message": "Can you mention why this change is necessary now?\nE.g. what was changed so that we have a problem with this now?\nIs this related to https://gerrit-review.googlesource.com/c/gerrit/+/203611?",
      "revId": "81f88d22b1af6214d9e5d6644735eba826176113",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3df79d71_e9e4e8f9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 7,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2018-11-28T17:51:15Z",
      "side": 1,
      "message": "Gerrit does not need it, because it requires a Servlet 3.0 compatible engine.\nHowever, I believe you guys at Google have a custom-made Servlet 2.5 engine.\n\nIf that isn\u0027t the case anymore, more than happy to abandon this convoluted solution :-)",
      "parentUuid": "5aefd391_3132239c",
      "revId": "81f88d22b1af6214d9e5d6644735eba826176113",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c0623d4e_1610a300",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 7,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2018-11-28T18:01:48Z",
      "side": 1,
      "message": "No, we still have our custom-made 2.5 servlet engine.\nSo far we didn\u0027t have a problem with it. My question was, what has changed so that we have a problem now and need this change now?",
      "parentUuid": "3df79d71_e9e4e8f9",
      "revId": "81f88d22b1af6214d9e5d6644735eba826176113",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b311b86d_21846346",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 7,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2018-11-28T18:09:16Z",
      "side": 1,
      "message": "\u003e No, we still have our custom-made 2.5 servlet engine.\n\n:-(\n\n\u003e So far we didn\u0027t have a problem with it. My question was, what has changed so that we have a problem now and need this change now?\n\nThe fix of Git/HTTP audit introduced a change not compatible with Servlet 3.0 (I believe back in stable-2.14) and that\u0027s why this fix is needed.\n\nIt could be done on stable-2.14 as well (with pain) but I believe this isn\u0027t impacting any Gerrit v2.14 users, apart Google of course.",
      "parentUuid": "c0623d4e_1610a300",
      "revId": "81f88d22b1af6214d9e5d6644735eba826176113",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8932e8bd_d79386c5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 7,
      "author": {
        "id": 1031898
      },
      "writtenOn": "2018-11-29T02:30:08Z",
      "side": 1,
      "message": "\u003e So far we didn\u0027t have a problem with it. My question was, what has changed so that we have a problem now and need this change now?\n\nI think we didn\u0027t have this problem before because we were very careful to make our code compatible with v2.5. However, [1] broke that by using some methods, e.g. HttpResponse#getStatus, which doesn\u0027t exist in v2.5.\n\n[1] https://gerrit-review.googlesource.com/c/gerrit/+/203611",
      "parentUuid": "b311b86d_21846346",
      "revId": "81f88d22b1af6214d9e5d6644735eba826176113",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "85b231c4_90e6fdea",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 7,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2018-11-29T07:19:20Z",
      "side": 1,
      "message": "Thanks, this was the context I was looking for. Can this be included into the commit message?",
      "parentUuid": "8932e8bd_d79386c5",
      "revId": "81f88d22b1af6214d9e5d6644735eba826176113",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "88b41a4a_aad11672",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 7,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2018-12-04T08:38:19Z",
      "side": 1,
      "message": "Make sense, I\u0027ll incorporate this into the commit messsage.",
      "parentUuid": "85b231c4_90e6fdea",
      "revId": "81f88d22b1af6214d9e5d6644735eba826176113",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f9cb695a_97e4b561",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/git/GitOverHttpServletIT.java",
        "patchSetId": 6
      },
      "lineNbr": 78,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2018-11-28T14:46:20Z",
      "side": 1,
      "message": "Waiting for a timeout in tests is bad, can we avoid this somehow?",
      "revId": "81f88d22b1af6214d9e5d6644735eba826176113",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9440f7f2_bfd1ea3c",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/git/GitOverHttpServletIT.java",
        "patchSetId": 6
      },
      "lineNbr": 78,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2018-11-28T17:51:15Z",
      "side": 1,
      "message": "The wait will exit as soon as an event is received. However, it is bad to have waits without timeouts :-)",
      "parentUuid": "f9cb695a_97e4b561",
      "revId": "81f88d22b1af6214d9e5d6644735eba826176113",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "278acf31_1c118c15",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/git/GitOverHttpServletIT.java",
        "patchSetId": 6
      },
      "lineNbr": 78,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2018-11-29T07:19:20Z",
      "side": 1,
      "message": "But if the event that we are waiting for is not happening, then this blocks the test for 5min?\nI would rather prefer to avoid this.",
      "parentUuid": "9440f7f2_bfd1ea3c",
      "revId": "81f88d22b1af6214d9e5d6644735eba826176113",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a60e33db_7891186a",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/git/GitOverHttpServletIT.java",
        "patchSetId": 6
      },
      "lineNbr": 78,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2018-12-04T08:38:19Z",
      "side": 1,
      "message": "It will block the test for 500 msec (1/2 second) in case of failure. This is the price to pay to avoid flakyiness. The problem with integration tests is that they involve an \"almost real\" Gerrit server that is serving HTTP connections. They are asynchronous by definition because they in a different thread.\n\nDo you have any other proposals to avoid flakyiness?",
      "parentUuid": "278acf31_1c118c15",
      "revId": "81f88d22b1af6214d9e5d6644735eba826176113",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04348e6b_7572410a",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/GitOverHttpServlet.java",
        "patchSetId": 6
      },
      "lineNbr": 216,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2018-11-28T14:46:20Z",
      "side": 1,
      "message": "What\u0027s the advantage of having a local variable for the parameter map?\nWhy not just inline this to avoid the @SuppressWarning?",
      "range": {
        "startLine": 213,
        "startChar": 6,
        "endLine": 216,
        "endChar": 18
      },
      "revId": "81f88d22b1af6214d9e5d6644735eba826176113",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d62b9240_c033413e",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/GitOverHttpServlet.java",
        "patchSetId": 6
      },
      "lineNbr": 216,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2018-11-29T07:19:20Z",
      "side": 1,
      "message": "ping",
      "parentUuid": "04348e6b_7572410a",
      "range": {
        "startLine": 213,
        "startChar": 6,
        "endLine": 216,
        "endChar": 18
      },
      "revId": "81f88d22b1af6214d9e5d6644735eba826176113",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "efdd9d94_929ff86b",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/GitOverHttpServlet.java",
        "patchSetId": 6
      },
      "lineNbr": 216,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2018-12-03T20:59:46Z",
      "side": 1,
      "message": "My guess is if you inline it then you still get the warning but you don\u0027t have an assignment statement to attach the @SuppressWarnings to.",
      "parentUuid": "d62b9240_c033413e",
      "range": {
        "startLine": 213,
        "startChar": 6,
        "endLine": 216,
        "endChar": 18
      },
      "revId": "81f88d22b1af6214d9e5d6644735eba826176113",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5f9106be_46f3b6fa",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/GitOverHttpServlet.java",
        "patchSetId": 6
      },
      "lineNbr": 372,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2018-11-28T14:46:20Z",
      "side": 1,
      "message": "Should this be sendError?",
      "range": {
        "startLine": 372,
        "startChar": 26,
        "endLine": 372,
        "endChar": 35
      },
      "revId": "81f88d22b1af6214d9e5d6644735eba826176113",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e493f94f_14c32349",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/GitOverHttpServlet.java",
        "patchSetId": 6
      },
      "lineNbr": 372,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2018-11-28T17:51:15Z",
      "side": 1,
      "message": "Good point. Let me change it.",
      "parentUuid": "5f9106be_46f3b6fa",
      "range": {
        "startLine": 372,
        "startChar": 26,
        "endLine": 372,
        "endChar": 35
      },
      "revId": "81f88d22b1af6214d9e5d6644735eba826176113",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}