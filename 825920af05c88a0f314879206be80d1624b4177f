{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "2d132c4c_ce56d976",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 27,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2021-04-21T18:22:11Z",
      "side": 1,
      "message": "Unless there is. Rephrase?",
      "range": {
        "startLine": 27,
        "startChar": 6,
        "endLine": 27,
        "endChar": 68
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d4a143a8_43847668",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 27,
      "author": {
        "id": 1122032
      },
      "writtenOn": "2021-04-22T14:24:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2d132c4c_ce56d976",
      "range": {
        "startLine": 27,
        "startChar": 6,
        "endLine": 27,
        "endChar": 68
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "79c7f4a7_d5495321",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 27,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2021-04-21T18:22:11Z",
      "side": 1,
      "message": "\"process_id should be an up and running Gerrit process id (pid).\"\n\nThe current trace doesn\u0027t look nice in the console.",
      "range": {
        "startLine": 26,
        "startChar": 7,
        "endLine": 27,
        "endChar": 58
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d37292b2_d51f438c",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 27,
      "author": {
        "id": 1122032
      },
      "writtenOn": "2021-04-22T14:20:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "79c7f4a7_d5495321",
      "range": {
        "startLine": 26,
        "startChar": 7,
        "endLine": 27,
        "endChar": 58
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0bde2f23_b52c891b",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 35,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2021-04-21T18:22:11Z",
      "side": 1,
      "message": "the",
      "range": {
        "startLine": 35,
        "startChar": 60,
        "endLine": 35,
        "endChar": 64
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6e67047e_5fe47143",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 35,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2021-04-21T18:22:11Z",
      "side": 1,
      "message": "\"\nThere was\n\n(Or so I\u0027d propose, i.e., start this trace on the next line.)",
      "range": {
        "startLine": 35,
        "startChar": 16,
        "endLine": 35,
        "endChar": 25
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e54fff06_5cafd130",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 35,
      "author": {
        "id": 1122032
      },
      "writtenOn": "2021-04-22T14:20:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0bde2f23_b52c891b",
      "range": {
        "startLine": 35,
        "startChar": 60,
        "endLine": 35,
        "endChar": 64
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6dea0646_5a7f3cb2",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 35,
      "author": {
        "id": 1122032
      },
      "writtenOn": "2021-04-22T14:20:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6e67047e_5fe47143",
      "range": {
        "startLine": 35,
        "startChar": 16,
        "endLine": 35,
        "endChar": 25
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cb6b5f40_80671f66",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 35,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2021-04-22T18:42:16Z",
      "side": 1,
      "message": "Not fully done, I think you forgot the new-line, per my original proposal.",
      "parentUuid": "6dea0646_5a7f3cb2",
      "range": {
        "startLine": 35,
        "startChar": 16,
        "endLine": 35,
        "endChar": 25
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "055d78f5_0dc6ebe0",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 35,
      "author": {
        "id": 1122032
      },
      "writtenOn": "2021-04-23T12:46:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cb6b5f40_80671f66",
      "range": {
        "startLine": 35,
        "startChar": 16,
        "endLine": 35,
        "endChar": 25
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "58f8fb4d_3196586b",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 38,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2021-04-21T18:22:11Z",
      "side": 1,
      "message": "Make sure that the ssh key is properly registered in Gerrit, that ssh_port\nis right and that the host is registered as a known host. For the latter,\nthis command can be used:",
      "range": {
        "startLine": 36,
        "startChar": 0,
        "endLine": 38,
        "endChar": 46
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ca51b137_203fe5f4",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 38,
      "author": {
        "id": 1122032
      },
      "writtenOn": "2021-04-22T14:20:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "58f8fb4d_3196586b",
      "range": {
        "startLine": 36,
        "startChar": 0,
        "endLine": 38,
        "endChar": 46
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e1d1726e_be6e7035",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 40,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2021-04-21T18:22:11Z",
      "side": 1,
      "message": "-More:",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 40,
        "endChar": 35
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "439fa1b5_7f3c0579",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 40,
      "author": {
        "id": 1122032
      },
      "writtenOn": "2021-04-22T14:20:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e1d1726e_be6e7035",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 40,
        "endChar": 35
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "caab13b1_48547737",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 41,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2021-04-21T18:22:11Z",
      "side": 1,
      "message": "#ssh would be a broader (more complete) starting point.",
      "range": {
        "startLine": 41,
        "startChar": 69,
        "endLine": 41,
        "endChar": 78
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "77cfb5d4_7ff3f51b",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 41,
      "author": {
        "id": 1122032
      },
      "writtenOn": "2021-04-22T14:20:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "caab13b1_48547737",
      "range": {
        "startLine": 41,
        "startChar": 69,
        "endLine": 41,
        "endChar": 78
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "29547d09_de725f44",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 43,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2021-04-21T18:22:11Z",
      "side": 1,
      "message": "For me on macOS locally, I get 255 as $? no matter if having successfully connected or not. Grepping for \"successfully connected\" in the output of that ssh command might be better as a check.",
      "range": {
        "startLine": 43,
        "startChar": 28,
        "endLine": 43,
        "endChar": 31
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d553c611_fb9ebcba",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 43,
      "author": {
        "id": 1122032
      },
      "writtenOn": "2021-04-22T14:20:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "29547d09_de725f44",
      "range": {
        "startLine": 43,
        "startChar": 28,
        "endLine": 43,
        "endChar": 31
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a6af2441_ae60d1e5",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 60,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2021-04-21T18:22:11Z",
      "side": 1,
      "message": "This looks odd at the console; e.g.:\n\n(...) by\n1.\n\nThe latter number should show on that same line, e.g.: (...) by 1. -But again, the line needs to also be properly wrapped. So maybe a short-named result variable would help here.",
      "range": {
        "startLine": 59,
        "startChar": 74,
        "endLine": 60,
        "endChar": 44
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "43abb3b2_09670fff",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 60,
      "author": {
        "id": 1122032
      },
      "writtenOn": "2021-04-22T14:20:20Z",
      "side": 1,
      "message": "I renamed the variables to fdBefore and fdAfter to wrap the line  but even with this change in names the line reaches 103 colums long according to the IDE.",
      "parentUuid": "a6af2441_ae60d1e5",
      "range": {
        "startLine": 59,
        "startChar": 74,
        "endLine": 60,
        "endChar": 44
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "36ab38cd_376d3457",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 60,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2021-04-22T18:42:16Z",
      "side": 1,
      "message": "Why not using another single variable conveying the fd comparison result? Such a variable could also be reused at line 56.",
      "parentUuid": "43abb3b2_09670fff",
      "range": {
        "startLine": 59,
        "startChar": 74,
        "endLine": 60,
        "endChar": 44
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "024c85c8_3ff802ee",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 60,
      "author": {
        "id": 1122032
      },
      "writtenOn": "2021-04-23T12:46:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "36ab38cd_376d3457",
      "range": {
        "startLine": 59,
        "startChar": 74,
        "endLine": 60,
        "endChar": 44
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "06f31c2b_9e5d903f",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 61,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2021-04-21T18:22:11Z",
      "side": 1,
      "message": "This 2-spaces indent shows at the console. Have you considered using line continuation syntax instead (using backslashes)? You should be able to find an elegant way of coding the echoing of multi-line string values. You could also stick to using one local variable per line as right below.",
      "range": {
        "startLine": 61,
        "startChar": 0,
        "endLine": 61,
        "endChar": 2
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "63b722f8_dbf5580d",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 61,
      "author": {
        "id": 1122032
      },
      "writtenOn": "2021-04-22T14:20:20Z",
      "side": 1,
      "message": "Done, using backslashes worked in the terminal but produced lint errors. Will use a local variable per line.",
      "parentUuid": "06f31c2b_9e5d903f",
      "range": {
        "startLine": 61,
        "startChar": 0,
        "endLine": 61,
        "endChar": 2
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5bdd7562_eb3cbe4b",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 62,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2021-04-21T18:22:11Z",
      "side": 1,
      "message": "Without that NoShell.java fix or change, does this script reach these lines, reproducing the issue? I think this should be clarified in the commit message.",
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "27a1a86a_c4baa27b",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 62,
      "author": {
        "id": 1122032
      },
      "writtenOn": "2021-04-22T14:20:20Z",
      "side": 1,
      "message": "Done. I mentioned that the command was hanging before this change. Therefore, I don\u0027t think it would have reached these lines as the command before this change didn\u0027t end.",
      "parentUuid": "5bdd7562_eb3cbe4b",
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "00afbedc_98e52475",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 62,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2021-04-22T18:42:16Z",
      "side": 1,
      "message": "So then, this test doesn\u0027t really cover the exact issue without the fix. How is this script exactly failing without the latter? I mean, the test should explicitly fail without the fix (then pass with it).",
      "parentUuid": "27a1a86a_c4baa27b",
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "665ad963_4f7627fc",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 62,
      "author": {
        "id": 1122032
      },
      "writtenOn": "2021-04-23T12:46:45Z",
      "side": 1,
      "message": "This check was introduced by the original approach, to remove out.close(), to know the impact of that change. It was not always stable in that change. In fact, this check can help reassure that there is no potential leaked resources introduced by this change, given that the number of times is as high as 1000+. To Address the hanging problem that was there before this change, a timeout can be placed for the first ssh call line 32. It can check if the string closed is present in the server response or not.",
      "parentUuid": "00afbedc_98e52475",
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9b11baca_f23e9d22",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 62,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2021-04-26T18:52:16Z",
      "side": 1,
      "message": "I really think that we need a test that 1. fails without the java fix and 2. passes with it.",
      "parentUuid": "665ad963_4f7627fc",
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9f42aeac_355b39fc",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 65,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2021-04-21T18:22:11Z",
      "side": 1,
      "message": "Should be moved to right after line 49, to not capture another command\u0027s return code inadvertently.",
      "range": {
        "startLine": 65,
        "startChar": 0,
        "endLine": 65,
        "endChar": 22
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "83454cb1_a88d27fd",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 65,
      "author": {
        "id": 1122032
      },
      "writtenOn": "2021-04-22T14:20:20Z",
      "side": 1,
      "message": "Done. But when I try with a number of times different than one it will give me code error 127 on linux which I think is correct given that it is the same code given to the exit at the end of the command. On Mac OS as you mentioned you are getting 255. Will it be left for interpretation at this point given that the termination status is shown on screen?",
      "parentUuid": "9f42aeac_355b39fc",
      "range": {
        "startLine": 65,
        "startChar": 0,
        "endLine": 65,
        "endChar": 22
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5e823a68_43232628",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 65,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2021-04-22T18:42:16Z",
      "side": 1,
      "message": "Maybe you don\u0027t need to show it below, not anymore?",
      "parentUuid": "83454cb1_a88d27fd",
      "range": {
        "startLine": 65,
        "startChar": 0,
        "endLine": 65,
        "endChar": 22
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "826f2242_5bbad080",
        "filename": "resources/com/google/gerrit/sshd/NoShell_test.sh",
        "patchSetId": 7
      },
      "lineNbr": 65,
      "author": {
        "id": 1122032
      },
      "writtenOn": "2021-04-23T12:46:45Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5e823a68_43232628",
      "range": {
        "startLine": 65,
        "startChar": 0,
        "endLine": 65,
        "endChar": 22
      },
      "revId": "825920af05c88a0f314879206be80d1624b4177f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}