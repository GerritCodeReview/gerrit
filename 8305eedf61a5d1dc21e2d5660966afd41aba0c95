{
  "comments": [
    {
      "key": {
        "uuid": "b4329dcd_f6253693",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 9,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2018-07-11T02:14:36Z",
      "side": 1,
      "message": "I\u0027m not sure we can support *all* the languages that CodeMirror supports, or at least not trivially.\n\nPolyGerrit doesn\u0027t use HLJS\u0027s language detection, instead it uses the language specified in the MIME type that appears in the `meta_a.content_type` and `meta_b.content_type` fields on diff responses.\n\nThe Gerrit server chooses the MIME type to appear in the diff response by mapping the file extension using the mime-types.properties document [1]. (Interesting side note: this is the reason we don\u0027t syntax-highlight Prolog files. The traditional Prolog file extension is .pl and that one is already mapped to Perl. Since Perl is rather more popular/common, that\u0027s the one that wins.)\n\nAs such, using HLJS in this way, we can only syntax highlight the *intersection* of HLJS\u0027s language support and the mime-types.properties languages. This isn\u0027t as many languages as CodeMirror.\n\nHere\u0027s a table comparing what\u0027s supported in CodeMirror (CM), HLJS, the mime-types.properties (MIME) and PolyGerrit\u0027s subset of languages at the time that syntax highlighting was added (PG).\n\nOnly the languages with checkmarks in both the HLJS and MIME columns can be added to PG. A lot of those don\u0027t add much value IMO (such as Brainfuck) or are uncommon languages. If there are specific useful languages that are missing and that we can add, I\u0027d feel more comfortable adding them individually.\n\n    +---------------------------+-------+---------+------+----+\n    |           lang            |  CM   |  HLJS   | MIME | PG |\n    +---------------------------+-------+---------+------+----+\n    | 1c                        |       | ✓       |      |    |\n    | access log                |       | ✓       |      |    |\n    | actionscript              |       | ✓       |      |    |\n    | ada                       |       | ✓       |      |    |\n    | apache                    |       | ✓       |      |    |\n    | apl                       | ✓     |         | ✓    |    |\n    | applescript               |       | ✓       |      |    |\n    | arduino                   |       | ✓       |      |    |\n    | arm assembly              |       | ✓       |      |    |\n    | asciidoc                  |       | ✓       |      |    |\n    | asn.1                     | ✓     |         | ✓    |    |\n    | asp                       |       |         | ✓    |    |\n    | aspectj                   |       | ✓       |      |    |\n    | aspx                      |       |         | ✓    |    |\n    | asterisk dialplan         | ✓     |         | ✓    |    |\n    | autohotkey                |       | ✓       |      |    |\n    | autoit                    |       | ✓       |      |    |\n    | avr assembler             |       | ✓       |      |    |\n    | axapta                    |       | ✓       |      |    |\n    | bash                      |       | ✓       | ✓    | ✓  |\n    | basic                     |       | ✓       |      |    |\n    | brainfuck                 | ✓     | ✓       | ✓    |    |\n    | c                         | ✓     | ✓       | ✓    | ✓  |\n    | c++                       | ✓     | ✓       | ✓    | ✓  |\n    | c#                        | ✓     | ✓       | ✓    | ✓  |\n    | cassandra                 |       |         | ✓    |    |\n    | caché object script       |       | ✓       |      |    |\n    | cap’n proto               |       | ✓       |      |    |\n    | ceylon                    | ✓     | ✓       |      |    |\n    | clojure                   | ✓     | ✓       | ✓    | ✓  |\n    | clojure repl              |       | ✓       |      |    |\n    | clojurescript             |       |         | ✓    |    |\n    | closure stylesheets (gss) | ✓     |         |      |    |\n    | cmake                     | ✓     | ✓       | ✓    |    |\n    | cobol                     | ✓     |         | ✓    |    |\n    | coffeescript              | ✓     | ✓       | ✓    |    |\n    | common lisp               | ✓     | ✓       | ✓    | ✓  |\n    | coq                       |       | ✓       |      |    |\n    | crmsh                     |       | ✓       |      |    |\n    | csp                       |       | ✓       |      |    |\n    | css                       | ✓     | ✓       | ✓    | ✓  |\n    | crystal                   | ✓     | ✓       | ✓    |    |\n    | cypher                    | ✓     |         | ✓    |    |\n    | cython                    | ✓     |         |      |    |\n    | d                         | ✓     | ✓       | ✓    | ✓  |\n    | dart                      | ✓     | ✓       | ✓    | ✓  |\n    | delphi                    |       | ✓       |      |    |\n    | device tree               |       | ✓       |      |    |\n    | diff                      | ✓     | ✓       | ✓    |    |\n    | django                    | ✓     | ✓       | ✓    |    |\n    | dns zone file             |       | ✓       |      |    |\n    | dockerfile                | ✓     | ✓       | ✓    |    |\n    | dos .bat                  |       | ✓       |      |    |\n    | dsconfig                  |       | ✓       |      |    |\n    | dtd                       | ✓     |         | ✓    |    |\n    | dust                      |       | ✓       |      |    |\n    | dylan                     | ✓     |         | ✓    |    |\n    | ebnf                      | ✓     | ✓       | ✓    |    |\n    | ecl                       | ✓     |         | ✓    |    |\n    | eiffel                    | ✓     |         | ✓    |    |\n    | ejs                       |       |         | ✓    |    |\n    | elixer                    |       | ✓       |      |    |\n    | elm                       | ✓     | ✓       | ✓    |    |\n    | erb                       |       | ✓       | ✓    |    |\n    | erlang                    | ✓     | ✓       | ✓    |    |\n    | erlang repl               |       | ✓       |      |    |\n    | excel                     |       | ✓       | ✓    |    |\n    | factor                    | ✓     |         | ✓    |    |\n    | fcl                       | ✓     |         | ✓    |    |\n    | fix                       |       | ✓       |      |    |\n    | forth                     | ✓     |         | ✓    |    |\n    | fortran                   | ✓     | ✓       | ✓    |    |\n    | f#                        | ✓     | ✓       | ✓    |    |\n    | g-code (iso 6983)         |       | ✓       |      |    |\n    | gams                      |       | ✓       |      |    |\n    | gas                       | ✓     |         | ✓    |    |\n    | gauss                     |       | ✓       |      |    |\n    | gherkin                   | ✓     | ✓       | ✓    |    |\n    | glsl                      |       | ✓       | ✓    |    |\n    | go                        | ✓     | ✓       | ✓    | ✓  |\n    | golo                      |       | ✓       |      |    |\n    | gradle                    |       | ✓       | ✓    |    |\n    | groovy                    | ✓     | ✓       | ✓    |    |\n    | gss                       |       |         | ✓    |    |\n    | haml                      | ✓     | ✓       | ✓    |    |\n    | handlebars                | ✓     | ✓       |      |    |\n    | haskell                   | ✓     | ✓       | ✓    | ✓  |\n    | literate haskell          | ✓     |         | ✓    |    |\n    | haxe                      | ✓     | ✓       | ✓    |    |\n    | hsp                       |       | ✓       |      |    |\n    | html                      | ✓     | ✓       | ✓    | ✓  |\n    | htmlbars                  |       | ✓       |      |    |\n    | http                      | ✓     | ✓       |      |    |\n    | idl                       | ✓     |         | ✓    |    |\n    | inform 7                  |       | ✓       |      |    |\n    | ini                       |       | ✓       | ✓    |    |\n    | intel x86 assembly        |       | ✓       |      |    |\n    | irpf90                    |       | ✓       |      |    |\n    | java                      | ✓     | ✓       | ✓    | ✓  |\n    | jade                      | ✓     |         | ✓    |    |\n    | javascript                | ✓     | ✓       | ✓    | ✓  |\n    | json                      |       | ✓       | ✓    | ✓  |\n    | jsp                       |       |         | ✓    |    |\n    | jsx                       | ✓     |         | ✓    |    |\n    | jinja2                    | ✓     |         |      |    |\n    | julia                     | ✓     | ✓       | ✓    |    |\n    | kotlin                    | ✓     | ✓       | ✓    |    |\n    | lasso                     |       | ✓       |      |    |\n    | ldif                      |       | ✓       |      |    |\n    | less                      | ✓     | ✓       | ✓    |    |\n    | linden scripting language |       | ✓       |      |    |\n    | livecode                  |       | ✓       |      |    |\n    | livescript                | ✓     | ✓       |      |    |\n    | lua                       | ✓     | ✓       | ✓    | ✓  |\n    | makefile                  |       | ✓       |      |    |\n    | markdown                  | ✓     | ✓       | ✓    | ✓  |\n    | markdown (gfm)            | ✓     | ✓       | ✓    | ✓  |\n    | mathematica               | ✓     | ✓       | ✓    |    |\n    | matlab                    |       | ✓       |      |    |\n    | maxima                    |       | ✓       |      |    |\n    | mbox                      | ✓     |         | ✓    |    |\n    | mel                       |       | ✓       |      |    |\n    | mercury                   |       | ✓       |      |    |\n    | mips assembly             |       | ✓       |      |    |\n    | mirc                      | ✓     |         | ✓    |    |\n    | mizar                     |       | ✓       |      |    |\n    | modelica                  | ✓     |         | ✓    |    |\n    | mojolicious               |       | ✓       |      |    |\n    | monkey                    |       | ✓       |      |    |\n    | moonscript                |       | ✓       |      |    |\n    | mscgen                    | ✓     |         | ✓    |    |\n    | mumps                     | ✓     |         | ✓    |    |\n    | nginx                     | ✓     | ✓       | ✓    |    |\n    | nimrod                    |       | ✓       |      |    |\n    | nix                       |       | ✓       |      |    |\n    | nsis                      | ✓     | ✓       | ✓    |    |\n    | ntriples                  | ✓     |         | ✓    |    |\n    | objective c               | ✓     | ✓       | ✓    | ✓  |\n    | ocaml                     | ✓     | ✓       | ✓    | ✓  |\n    | octave                    | ✓     |         |      |    |\n    | openscad                  |       | ✓       |      |    |\n    | oracle rules language     |       | ✓       |      |    |\n    | oxygene                   |       | ✓       |      |    |\n    | oz                        | ✓     |         | ✓    |    |\n    | parser3                   |       | ✓       |      |    |\n    | pascal                    | ✓     |         | ✓    |    |\n    | peg.js                    | ✓     |         |      |    |\n    | perl                      | ✓     | ✓       | ✓    | ✓  |\n    | pf                        |       | ✓       |      |    |\n    | pgp                       | ✓     |         | ✓    |    |\n    | php                       | ✓     | ✓       | ✓    | ✓  |\n    | pig latin                 | ✓     |         | ✓    |    |\n    | pony                      |       | ✓       |      |    |\n    | powershell                | ✓     | ✓       | ✓    |    |\n    | processing                |       | ✓       |      |    |\n    | prolog                    |       | ✓       |      |    |\n    | properties files          | ✓     |         |      |    |\n    | protobuf                  | ✓     | ✓       | ✓    | ✓  |\n    | puppet                    | ✓     | ✓       | ✓    |    |\n    | purebasic                 |       | ✓       |      |    |\n    | python                    | ✓     | ✓       | ✓    | ✓  |\n    | python procfile           |       | ✓       |      |    |\n    | q                         | ✓     | ✓       | ✓    |    |\n    | qml                       |       | ✓       |      |    |\n    | r                         | ✓     | ✓       | ✓    |    |\n    | rpm                       | ✓     |         |      |    |\n    | renderman rib             |       | ✓       |      |    |\n    | renderman rsl             |       | ✓       |      |    |\n    | restructuredtext          | ✓     |         |      |    |\n    | roboconf                  |       | ✓       |      |    |\n    | ruby                      | ✓     | ✓       | ✓    | ✓  |\n    | rust                      | ✓     | ✓       | ✓    | ✓  |\n    | sas                       | ✓     |         | ✓    |    |\n    | sass                      | ✓     |         | ✓    |    |\n    | spreadsheet               | ✓     |         |      |    |\n    | scala                     | ✓     | ✓       | ✓    | ✓  |\n    | scheme                    | ✓     | ✓       | ✓    |    |\n    | scilab                    |       | ✓       |      |    |\n    | scss                      | ✓     | ✓       | ✓    |    |\n    | sieve                     | ✓     |         | ✓    |    |\n    | slim                      | ✓     |         | ✓    |    |\n    | smali                     |       | ✓       |      |    |\n    | smalltalk                 | ✓     | ✓       |      |    |\n    | smarty                    | ✓     |         | ✓    |    |\n    | sml                       |       | ✓       |      |    |\n    | solr                      | ✓     |         | ✓    |    |\n    | soy                       | ✓     |         | ✓    |    |\n    | stylus                    | ✓     |         |      |    |\n    | sqf                       |       | ✓       |      |    |\n    | sql                       | ✓     | ✓       | ✓    | ✓  |\n    | sparql                    | ✓     |         | ✓    |    |\n    | squirrel                  | ✓     |         | ✓    |    |\n    | stan                      |       | ✓       |      |    |\n    | stata                     |       | ✓       |      |    |\n    | step part 21              |       | ✓       |      |    |\n    | stylus                    |       | ✓       |      |    |\n    | swift                     | ✓     | ✓       | ✓    | ✓  |\n    | tagger script             |       | ✓       |      |    |\n    | tcl                       | ✓     | ✓       | ✓    |    |\n    | test anything protocol    |       | ✓       |      |    |\n    | tex/stex/latex            | ✓     | ✓       | ✓    |    |\n    | textile                   | ✓     |         | ✓    |    |\n    | thrift                    |       | ✓       |      |    |\n    | tiddlywiki                | ✓     |         | ✓    |    |\n    | tiki wiki                 | ✓     |         | ✓    |    |\n    | toml                      | ✓     |         | ✓    |    |\n    | tornado                   | ✓     |         |      |    |\n    | tp                        |       | ✓       |      |    |\n    | troff                     | ✓     |         |      |    |\n    | ttcn                      | ✓     |         | ✓    |    |\n    | ttcn configuration        | ✓     |         | ✓    |    |\n    | turtle                    | ✓     |         | ✓    |    |\n    | twig                      | ✓     | ✓       | ✓    |    |\n    | typescript                |       | ✓       | ✓    | ✓  |\n    | vala                      |       | ✓       |      |    |\n    | vb.net                    | ✓     | ✓       | ✓    |    |\n    | vbscript                  | ✓     | ✓       | ✓    |    |\n    | velocity                  | ✓     |         | ✓    |    |\n    | verilog/systemverilog     | ✓     | ✓       | ✓    |    |\n    | vhdl                      | ✓     | ✓       | ✓    |    |\n    | vim script                |       | ✓       |      |    |\n    | vue.js app                | ✓     |         |      |    |\n    | web idl                   | ✓     |         | ✓    |    |\n    | webgl shader fragment     |       |         | ✓    |    |\n    | xl                        |       | ✓       |      |    |\n    | xml                       | ✓     | ✓       | ✓    | ✓  |\n    | xquery                    | ✓     | ✓       | ✓    |    |\n    | yacas                     | ✓     |         | ✓    |    |\n    | yaml                      | ✓     | ✓       | ✓    | ✓  |\n    | yaml frontmatter          | ✓     |         |      |    |\n    | z80                       | ✓     |         | ✓    |    |\n    | zephir                    |       | ✓       |      |    |\n    +---------------------------+-------+---------+------+----+\n\n[1] https://gerrit.googlesource.com/gerrit/+/master/resources/com/google/gerrit/server/mime/mime-types.properties",
      "range": {
        "startLine": 9,
        "startChar": 34,
        "endLine": 9,
        "endChar": 65
      },
      "revId": "8305eedf61a5d1dc21e2d5660966afd41aba0c95",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8619f1cf_015fa004",
        "filename": "lib/highlightjs/building.md",
        "patchSetId": 5
      },
      "lineNbr": 27,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2018-07-11T02:14:36Z",
      "side": 1,
      "message": "Note: even if a language is included in HLJS, it won\u0027t be used by PolyGerrit unless it\u0027s added to the map in https://gerrit.googlesource.com/gerrit/+/master/polygerrit-ui/app/elements/diff/gr-syntax-layer/gr-syntax-layer.js#20",
      "range": {
        "startLine": 27,
        "startChar": 8,
        "endLine": 27,
        "endChar": 19
      },
      "revId": "8305eedf61a5d1dc21e2d5660966afd41aba0c95",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}