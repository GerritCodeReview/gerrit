{
  "comments": [
    {
      "key": {
        "uuid": "25ac83ae_54cc5f89",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-gerrit-auth.js",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2017-06-12T22:12:58Z",
      "side": 1,
      "message": "GrGerritAuth seems redundant... Could we just do \"GerritAuth\"? Or \"GrAuth\"?",
      "range": {
        "startLine": 18,
        "startChar": 13,
        "endLine": 18,
        "endChar": 25
      },
      "revId": "83ccfe6cec48f5bd4bf50f1a7f07c56cefd02bc4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cc120dcd_b4370bc3",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-gerrit-auth.js",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2017-06-13T17:05:29Z",
      "side": 1,
      "message": "GerritAuth and GrAuth are not sufficient because more auth providers will be added.\nAnother alternative I considered was GrDefaultAuth, but \"default\" carries less context.",
      "parentUuid": "25ac83ae_54cc5f89",
      "range": {
        "startLine": 18,
        "startChar": 13,
        "endLine": 18,
        "endChar": 25
      },
      "revId": "83ccfe6cec48f5bd4bf50f1a7f07c56cefd02bc4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8d4555d8_731644d7",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-gerrit-auth.js",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-06-13T00:19:05Z",
      "side": 1,
      "message": "Why does this need to be instantiated? Why not define this as a static object?\n\nlet GrGerritAuth \u003d {\n  _getCookie() { ... },\n  fetch() { ... },\n};",
      "range": {
        "startLine": 20,
        "startChar": 2,
        "endLine": 20,
        "endChar": 28
      },
      "revId": "83ccfe6cec48f5bd4bf50f1a7f07c56cefd02bc4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a442bae7_0d6bf579",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-gerrit-auth.js",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2017-06-13T17:05:29Z",
      "side": 1,
      "message": "I\u0027m not sure what benefit this adds. Could you please add context?",
      "parentUuid": "8d4555d8_731644d7",
      "range": {
        "startLine": 20,
        "startChar": 2,
        "endLine": 20,
        "endChar": 28
      },
      "revId": "83ccfe6cec48f5bd4bf50f1a7f07c56cefd02bc4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f9f34c31_5126aaca",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-gerrit-auth.js",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-06-13T23:12:01Z",
      "side": 1,
      "message": "The benefit is that it does not need to be instantiated to be used. One could merely call `GrGerritAuth.fetch()` directly and not be concerned with getting an instance.\n\nMoreover, because nothing in this file is scoped to an instance (i.e. it\u0027s effectively static anyway) it feels misleading to suggest that there is instance-scoped state by requiring that it be instantiated.\n\nIs there a benefit to declaring this as an instantiable class?",
      "parentUuid": "a442bae7_0d6bf579",
      "range": {
        "startLine": 20,
        "startChar": 2,
        "endLine": 20,
        "endChar": 28
      },
      "revId": "83ccfe6cec48f5bd4bf50f1a7f07c56cefd02bc4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d321e3fe_98f9c2ed",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-gerrit-auth.js",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2017-06-15T16:51:58Z",
      "side": 1,
      "message": "\u003e The benefit is that it does not need to be instantiated to be used\n\nWhat\u0027s exactly a problem here? Clearly, instantiation isn\u0027t costly. Calling interface methods on an instance or on namespace are no different.\n\nAlso, how would a new auth provided be installed?\nIf auth is an instance, gr-rest-api-interface could select which one to instantiate and use. With static interface this becomes complicated.",
      "parentUuid": "f9f34c31_5126aaca",
      "range": {
        "startLine": 20,
        "startChar": 2,
        "endLine": 20,
        "endChar": 28
      },
      "revId": "83ccfe6cec48f5bd4bf50f1a7f07c56cefd02bc4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "055db329_15909c9a",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-gerrit-auth.js",
        "patchSetId": 2
      },
      "lineNbr": 20,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-06-15T23:58:27Z",
      "side": 1,
      "message": "\u003e Also, how would a new auth provided be installed? [...] With static interface this becomes complicated.\n\nI don\u0027t think it\u0027s complicated, it would just refer to provider `Foo` instead of `new Foo()`...\n\nlet authProvider;\nif (... condition ...) {\n  authProvider \u003d GrGerritAuth;\n} else {\n  authProvider \u003d GrOAthProvider;\n}\n\n\u003e \u003e The benefit is that it does not need to be instantiated to be used\n\u003e \n\u003e What\u0027s exactly a problem here? Clearly, instantiation isn\u0027t costly. Calling interface methods on an instance or on namespace are no different.\n\nIt\u0027s not a big deal, and I don\u0027t think it needs to block this.\n\nThe problem I see is just cleanliness -- analogous to declaring a Java class that doesn\u0027t refer to static fields or methods, but isn\u0027t declared with the static keyword.",
      "parentUuid": "d321e3fe_98f9c2ed",
      "range": {
        "startLine": 20,
        "startChar": 2,
        "endLine": 20,
        "endChar": 28
      },
      "revId": "83ccfe6cec48f5bd4bf50f1a7f07c56cefd02bc4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b5fcfb95_cc6528c3",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-gerrit-auth.js",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2017-06-12T22:12:58Z",
      "side": 1,
      "message": "Why does trim() not suffice? Are there cases in which you need to respect trailing whitespace?",
      "range": {
        "startLine": 27,
        "startChar": 6,
        "endLine": 29,
        "endChar": 7
      },
      "revId": "83ccfe6cec48f5bd4bf50f1a7f07c56cefd02bc4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0dde19af_4968ef5e",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-gerrit-auth.js",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2017-06-13T17:05:29Z",
      "side": 1,
      "message": "I don\u0027t have context for this.\n\nLooks like it was mostly taken from here:\nhttps://stackoverflow.com/questions/14573223/set-cookie-and-get-cookie-with-javascript\n\ntrim() would remove spaces from both start and end, however this shouldn\u0027t matter, done.\nAlso, reworked a bit.",
      "parentUuid": "b5fcfb95_cc6528c3",
      "range": {
        "startLine": 27,
        "startChar": 6,
        "endLine": 29,
        "endChar": 7
      },
      "revId": "83ccfe6cec48f5bd4bf50f1a7f07c56cefd02bc4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ffbf5ea_59ea08e4",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-gerrit-auth.js",
        "patchSetId": 2
      },
      "lineNbr": 37,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-06-13T00:19:05Z",
      "side": 1,
      "message": "Rather than actually doing the fetch, can this function just return the options?",
      "range": {
        "startLine": 37,
        "startChar": 2,
        "endLine": 37,
        "endChar": 30
      },
      "revId": "83ccfe6cec48f5bd4bf50f1a7f07c56cefd02bc4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2f43b773_246ce7f3",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-gerrit-auth.js",
        "patchSetId": 2
      },
      "lineNbr": 37,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2017-06-13T17:05:29Z",
      "side": 1,
      "message": "I\u0027m not sure what benefit this adds. Could you please add context?",
      "parentUuid": "8ffbf5ea_59ea08e4",
      "range": {
        "startLine": 37,
        "startChar": 2,
        "endLine": 37,
        "endChar": 30
      },
      "revId": "83ccfe6cec48f5bd4bf50f1a7f07c56cefd02bc4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d2fe794b_197e6c85",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-gerrit-auth.js",
        "patchSetId": 2
      },
      "lineNbr": 37,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-06-13T23:12:01Z",
      "side": 1,
      "message": "Presumably you will be adding additional auth provider scripts (like OAuth). Is the idea that the future auth-type scripts will match this interface?\n\nIt like the main difference different between auth providers is the way the headers are computed.\n\nI\u0027d guess that, once we have figured out what the headers will be, the way that fetch is called will not differ. Is that right?",
      "parentUuid": "2f43b773_246ce7f3",
      "range": {
        "startLine": 37,
        "startChar": 2,
        "endLine": 37,
        "endChar": 30
      },
      "revId": "83ccfe6cec48f5bd4bf50f1a7f07c56cefd02bc4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6c5b6405_81132421",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-gerrit-auth.js",
        "patchSetId": 2
      },
      "lineNbr": 37,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2017-06-15T16:51:58Z",
      "side": 1,
      "message": "\u003e main difference different between auth providers is the way the headers are computed.\n\nThis assumption is invalid.\n\nfor OAuth, /a/ prefix should be added to the url.\nAlso, credentials need to be refreshed occasionally, so in some cases delaying fetch is needed i.e. wrapping/chaining in another promise. If gr-rest-api-interface makes the fetch and refreshed OAuth credentials, this means the abstraction layer is leaking.",
      "parentUuid": "d2fe794b_197e6c85",
      "range": {
        "startLine": 37,
        "startChar": 2,
        "endLine": 37,
        "endChar": 30
      },
      "revId": "83ccfe6cec48f5bd4bf50f1a7f07c56cefd02bc4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a0abcd8b_a4b5e19e",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-gerrit-auth.js",
        "patchSetId": 2
      },
      "lineNbr": 37,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-06-15T23:58:27Z",
      "side": 1,
      "message": "Gotcha. Thanks",
      "parentUuid": "6c5b6405_81132421",
      "range": {
        "startLine": 37,
        "startChar": 2,
        "endLine": 37,
        "endChar": 30
      },
      "revId": "83ccfe6cec48f5bd4bf50f1a7f07c56cefd02bc4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7862b395_be5fc5d2",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-rest-api-interface.html",
        "patchSetId": 2
      },
      "lineNbr": 27,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2017-06-12T22:12:58Z",
      "side": 1,
      "message": "Alphabetize? Unless the above scripts are dependencies, in which case a comment would be nice.",
      "range": {
        "startLine": 27,
        "startChar": 2,
        "endLine": 27,
        "endChar": 43
      },
      "revId": "83ccfe6cec48f5bd4bf50f1a7f07c56cefd02bc4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8daa6eda_0a8a1160",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-rest-api-interface.html",
        "patchSetId": 2
      },
      "lineNbr": 27,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2017-06-13T17:05:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7862b395_be5fc5d2",
      "range": {
        "startLine": 27,
        "startChar": 2,
        "endLine": 27,
        "endChar": 43
      },
      "revId": "83ccfe6cec48f5bd4bf50f1a7f07c56cefd02bc4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7cfece8d_3d8ea254",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-rest-api-interface.js",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-06-13T00:19:05Z",
      "side": 1,
      "message": "While there is only the one option, can this just be set in l.29?",
      "range": {
        "startLine": 67,
        "startChar": 6,
        "endLine": 68,
        "endChar": 32
      },
      "revId": "83ccfe6cec48f5bd4bf50f1a7f07c56cefd02bc4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d93b682e_d756a306",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-rest-api-interface.js",
        "patchSetId": 2
      },
      "lineNbr": 68,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2017-06-13T17:05:29Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7cfece8d_3d8ea254",
      "range": {
        "startLine": 67,
        "startChar": 6,
        "endLine": 68,
        "endChar": 32
      },
      "revId": "83ccfe6cec48f5bd4bf50f1a7f07c56cefd02bc4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}