{
  "comments": [
    {
      "key": {
        "uuid": "754fb730_b26d4d80",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 1
      },
      "lineNbr": 726,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-03-21T16:52:24Z",
      "side": 1,
      "message": "I would maybe leave this out of the examples as it\u0027s not present in the common case.",
      "revId": "8466262b3ad0b9679e20a029a7ee5c75748f7411",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "35761c4f_ae88de88",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 1
      },
      "lineNbr": 2771,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-03-21T16:52:24Z",
      "side": 1,
      "message": "I think this doesn\u0027t explain the common case; it makes it sound like it\u0027s up to the user to decide whether they are going to add a reviewer by name or by email. But the whole point is that most of the time, the user is going to just write an email without thinking about whether the account exists.\n\nWith enableByEmail\u003dfalse, if you type an email address and it doesn\u0027t correspond to an account, you will get an error (422 I believe). The difference when enableByEmail\u003dtrue is it will always add that email address as a reviewer.",
      "range": {
        "startLine": 2771,
        "startChar": 50,
        "endLine": 2771,
        "endChar": 66
      },
      "revId": "8466262b3ad0b9679e20a029a7ee5c75748f7411",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "89e99e78_0885be83",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 1
      },
      "lineNbr": 2771,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-03-21T16:52:24Z",
      "side": 1,
      "message": "Link to documentation of this option.",
      "range": {
        "startLine": 2771,
        "startChar": 3,
        "endLine": 2771,
        "endChar": 25
      },
      "revId": "8466262b3ad0b9679e20a029a7ee5c75748f7411",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5768853e_07a4845d",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 1
      },
      "lineNbr": 2773,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-03-21T16:52:24Z",
      "side": 1,
      "message": "In the example you only have \"Name \u003cemail\u003e\". I can\u0027t tell from this phrasing whether the proper format for email-only is \"\u003cemail\u003e\" or \"email\". Either make it clear in the description, or include an example of this form.",
      "range": {
        "startLine": 2773,
        "startChar": 0,
        "endLine": 2773,
        "endChar": 16
      },
      "revId": "8466262b3ad0b9679e20a029a7ee5c75748f7411",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a607f53d_9b1cef1a",
        "filename": "Documentation/rest-api-changes.txt",
        "patchSetId": 1
      },
      "lineNbr": 6213,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-03-21T16:52:24Z",
      "side": 1,
      "message": "Also mention that the id field (I forget its exact name) is optional in the case where the reviewer was added by email and no account exists.",
      "revId": "8466262b3ad0b9679e20a029a7ee5c75748f7411",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "722f7fd5_27411db3",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/ChangeJson.java",
        "patchSetId": 1
      },
      "lineNbr": 537,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-03-21T16:52:24Z",
      "side": 1,
      "message": "The guarantee for non-email reviewers is that if a reviewer appears in the ChangeInfo, it\u0027s also accessible by using the reviewer API. So this implies you should be able to parse/return these reviewers from the Reviewers collection as well.\n\nThis would also eliminate the need for the special endpoint for deleting reviewers by email, which is ugly.",
      "revId": "8466262b3ad0b9679e20a029a7ee5c75748f7411",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0d7b97ae_89c0bf8b",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PostReviewers.java",
        "patchSetId": 1
      },
      "lineNbr": 195,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-03-21T16:52:24Z",
      "side": 1,
      "message": "This is bordering on unbearably ugly. We really need to refactor some of these methods to return Optional instead of nesting trys in catches. That said, this particular delta is not so hard to read, so you can leave it like this given the time constraints.\n\nPlease do put a TODO to clean up this technical debt, though.",
      "revId": "8466262b3ad0b9679e20a029a7ee5c75748f7411",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "681395a0_fc9ef885",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PostReviewers.java",
        "patchSetId": 1
      },
      "lineNbr": 274,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-03-21T16:52:24Z",
      "side": 1,
      "message": "Where can IAE be thrown here? Only from Address.parse? If so, please consider  moving the subsequent statements out of the try block.",
      "revId": "8466262b3ad0b9679e20a029a7ee5c75748f7411",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0c60990a_2245f8c0",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PostReviewers.java",
        "patchSetId": 1
      },
      "lineNbr": 375,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-03-21T16:52:24Z",
      "side": 1,
      "message": "For my sanity, please annotate nullable parameters as @Nullable",
      "revId": "8466262b3ad0b9679e20a029a7ee5c75748f7411",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fe834c3d_9629f6e4",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PostReviewers.java",
        "patchSetId": 1
      },
      "lineNbr": 414,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-03-21T16:52:24Z",
      "side": 1,
      "message": "Please factor this into a static factory method in ReviewerInfo with a descriptive name like \"byEmail(@Nullable String name, String email)\"",
      "revId": "8466262b3ad0b9679e20a029a7ee5c75748f7411",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0d4235b5_830c054b",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PostReviewers.java",
        "patchSetId": 1
      },
      "lineNbr": 429,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-03-21T16:52:24Z",
      "side": 1,
      "message": "Please fix unchecked warnings",
      "revId": "8466262b3ad0b9679e20a029a7ee5c75748f7411",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "afc6fae2_0fc628fd",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PostReviewers.java",
        "patchSetId": 1
      },
      "lineNbr": 465,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-03-21T16:52:24Z",
      "side": 1,
      "message": "This silently accepts the input but does nothing under ReviewDb. I think the intended behavior would be to fail rather than drop it on the floor.",
      "revId": "8466262b3ad0b9679e20a029a7ee5c75748f7411",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9317b581_8f9e0f77",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PostReviewers.java",
        "patchSetId": 1
      },
      "lineNbr": 466,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-03-21T16:52:24Z",
      "side": 1,
      "message": "Factor this out of the loop and optionally outside the if.",
      "revId": "8466262b3ad0b9679e20a029a7ee5c75748f7411",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1d89b095_9f6b680f",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PostReviewers.java",
        "patchSetId": 1
      },
      "lineNbr": 485,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-03-21T16:52:24Z",
      "side": 1,
      "message": "Factor out.",
      "revId": "8466262b3ad0b9679e20a029a7ee5c75748f7411",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3aa7ee69_dda4d6c7",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/mail/send/ChangeEmail.java",
        "patchSetId": 1
      },
      "lineNbr": 186,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-03-21T16:52:24Z",
      "side": 1,
      "message": "Why? Everywhere else we are using the most up-to-date versions from the db, not the index. Specifically, ChangeDatas here should always be coming from ChangeEmail#newChangeData, which loads it from the db.",
      "revId": "8466262b3ad0b9679e20a029a7ee5c75748f7411",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "525b4eef_2034a3ad",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/mail/send/ChangeEmail.java",
        "patchSetId": 1
      },
      "lineNbr": 186,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-03-22T00:50:16Z",
      "side": 1,
      "message": "Maybe what you really mean is add a method on ChangeData instead?",
      "parentUuid": "3aa7ee69_dda4d6c7",
      "revId": "8466262b3ad0b9679e20a029a7ee5c75748f7411",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f71e80c6_3d5cf3fa",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/mail/send/ChangeEmail.java",
        "patchSetId": 1
      },
      "lineNbr": 186,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2017-03-22T07:21:14Z",
      "side": 1,
      "message": "I think this goes back to one of my comments. What I meant is that below we should not call\n\n   changeData.notes().getReviewersByEmail()\n\nbut rather something like\n\n   changeData.reviewersByEmail()\n\nE.g. in line 369 we also call \n\n  changeData.reviewers()\n\nand not\n\n  changeData.notes().getReviewers()",
      "parentUuid": "525b4eef_2034a3ad",
      "revId": "8466262b3ad0b9679e20a029a7ee5c75748f7411",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "18566a3f_7880a67e",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/mail/send/NewChangeSender.java",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-03-21T16:52:24Z",
      "side": 1,
      "message": "I guess you didn\u0027t make this decision, but why are these not methods on the superclass?",
      "revId": "8466262b3ad0b9679e20a029a7ee5c75748f7411",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}