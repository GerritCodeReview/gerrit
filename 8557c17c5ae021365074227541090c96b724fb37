{
  "comments": [
    {
      "key": {
        "uuid": "103989d0_3117f08d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PatchSetInserter.java",
        "patchSetId": 9
      },
      "lineNbr": 81,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-10-07T07:19:01Z",
      "side": 1,
      "message": "Why PatchSetInfo and not PatchSetInserter?",
      "range": {
        "startLine": 81,
        "startChar": 4,
        "endLine": 81,
        "endChar": 16
      },
      "revId": "8557c17c5ae021365074227541090c96b724fb37",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7033a5f5_4cf9bfb1",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PatchSetInserter.java",
        "patchSetId": 9
      },
      "lineNbr": 81,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-10-07T18:45:07Z",
      "side": 1,
      "message": "Because it\u0027s unused otherwise I would have noticed a compile error somewhere :)\n\nFixed.",
      "parentUuid": "103989d0_3117f08d",
      "range": {
        "startLine": 81,
        "startChar": 4,
        "endLine": 81,
        "endChar": 16
      },
      "revId": "8557c17c5ae021365074227541090c96b724fb37",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "50194171_532264ef",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PatchSetInserter.java",
        "patchSetId": 9
      },
      "lineNbr": 119,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-10-07T07:19:01Z",
      "side": 1,
      "message": "Why is the default changed, doesn\u0027t this effect any existing callers?",
      "range": {
        "startLine": 118,
        "startChar": 1,
        "endLine": 119,
        "endChar": 34
      },
      "revId": "8557c17c5ae021365074227541090c96b724fb37",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "902499ae_4df9b9b1",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PatchSetInserter.java",
        "patchSetId": 9
      },
      "lineNbr": 119,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-10-07T18:45:07Z",
      "side": 1,
      "message": "Before, these were set to true by default in the constructor body (l. 157 in the base). Now, there are multiple constructors, so to avoid having to duplicate the initialization in both constructors, I moved it up here.",
      "parentUuid": "50194171_532264ef",
      "range": {
        "startLine": 118,
        "startChar": 1,
        "endLine": 119,
        "endChar": 34
      },
      "revId": "8557c17c5ae021365074227541090c96b724fb37",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a5979d01_deb8e504",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PatchSetInserter.java",
        "patchSetId": 9
      },
      "lineNbr": 119,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-10-08T06:23:49Z",
      "side": 1,
      "message": "Ah, I missed this.",
      "parentUuid": "902499ae_4df9b9b1",
      "range": {
        "startLine": 118,
        "startChar": 1,
        "endLine": 119,
        "endChar": 34
      },
      "revId": "8557c17c5ae021365074227541090c96b724fb37",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "50194171_131cecab",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PatchSetInserter.java",
        "patchSetId": 9
      },
      "lineNbr": 400,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-10-07T07:19:01Z",
      "side": 1,
      "message": "1. If we have this do we still need to check for certain exception types above?\n\n2. Shouldn\u0027t we throw an exception if propagation is not possible?",
      "revId": "8557c17c5ae021365074227541090c96b724fb37",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7033a5f5_2cfe739b",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PatchSetInserter.java",
        "patchSetId": 9
      },
      "lineNbr": 400,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-10-07T18:45:07Z",
      "side": 1,
      "message": "1. Yes, propagateIfPossible just rethrows if it\u0027s a RuntimeException, it doesn\u0027t know the declared exception types in the calling method. There are overloads that take 1 and 2 types, but we have (sigh) 4, and there is no varargs overload.\n\n2. Done.",
      "parentUuid": "50194171_131cecab",
      "revId": "8557c17c5ae021365074227541090c96b724fb37",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "50194171_3317e88d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/BatchUpdate.java",
        "patchSetId": 9
      },
      "lineNbr": 187,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-10-07T07:19:01Z",
      "side": 1,
      "message": "It may make sense to execute some (or all?) post operations in parallel (e.g. sending email and triggering hooks).",
      "range": {
        "startLine": 187,
        "startChar": 22,
        "endLine": 187,
        "endChar": 47
      },
      "revId": "8557c17c5ae021365074227541090c96b724fb37",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7033a5f5_0c03b755",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/BatchUpdate.java",
        "patchSetId": 9
      },
      "lineNbr": 187,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-10-07T18:45:07Z",
      "side": 1,
      "message": "There might be races between background operations if they do writes; I haven\u0027t looked through all of them to be sure, so I did the safe/short thing. (I want to avoid something like https://gerrit-review.googlesource.com/67223)\n\nBasically I haven\u0027t thought about it fully so I did the safe thing.",
      "parentUuid": "50194171_3317e88d",
      "range": {
        "startLine": 187,
        "startChar": 22,
        "endLine": 187,
        "endChar": 47
      },
      "revId": "8557c17c5ae021365074227541090c96b724fb37",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "45c9819b_f3a450e5",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/BatchUpdate.java",
        "patchSetId": 9
      },
      "lineNbr": 187,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-10-08T06:23:49Z",
      "side": 1,
      "message": "I agree, it\u0027s something we can worry about later.",
      "parentUuid": "7033a5f5_0c03b755",
      "range": {
        "startLine": 187,
        "startChar": 22,
        "endLine": 187,
        "endChar": 47
      },
      "revId": "8557c17c5ae021365074227541090c96b724fb37",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "50194171_731d60ab",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/BatchUpdate.java",
        "patchSetId": 9
      },
      "lineNbr": 217,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-10-07T07:19:01Z",
      "side": 1,
      "message": "I wonder whether firing the refUpdated events should rather be a post operation. In the past we had bug reports that complained that the ref event is received before the database is updated. E.g. a plugin that listens to ref updates would do a query to fetch the corresponding data from the database and this then fails because it\u0027s not there yet, see [1,2].\n\n[1] https://code.google.com/p/gerrit/issues/detail?id\u003d2181\n[2] https://code.google.com/p/gerrit/issues/detail?id\u003d2090",
      "revId": "8557c17c5ae021365074227541090c96b724fb37",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "902499ae_2dfe6d9b",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/BatchUpdate.java",
        "patchSetId": 9
      },
      "lineNbr": 217,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-10-07T18:45:07Z",
      "side": 1,
      "message": "That\u0027s a really good point. Done.\n\n(Won\u0027t it be nice when everything uses this one interface, so we would only have to make one change to fix the ordering everywhere? :)",
      "parentUuid": "50194171_731d60ab",
      "revId": "8557c17c5ae021365074227541090c96b724fb37",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a5979d01_3eb4690e",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/BatchUpdate.java",
        "patchSetId": 9
      },
      "lineNbr": 217,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-10-08T06:23:49Z",
      "side": 1,
      "message": "Yes, this shows how useful this class is. Ensuring this when the code is distributed over all the code base is rather a nightmare...",
      "parentUuid": "902499ae_2dfe6d9b",
      "revId": "8557c17c5ae021365074227541090c96b724fb37",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}