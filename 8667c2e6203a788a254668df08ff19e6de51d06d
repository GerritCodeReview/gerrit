{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "4fd6d9d7_f0c5c9ef",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2023-09-01T10:13:58Z",
      "side": 1,
      "message": "SR errors could be due to code or config changes. The latter is release independent (though we have validators to prevent uploading a faulty SR config for review, but it still might slip if this validation is bypassed e.g. through direct push - though I think it\u0027s unlikely / impossible at Google).\n\nFor the config change case, getting HTTP 500 errors will be worse than the \"SR errors that still allow change review\".\n\nBut anyway that could prevent an outage like b/266550628#comment8. Thanks for adding!",
      "range": {
        "startLine": 13,
        "startChar": 11,
        "endLine": 14,
        "endChar": 51
      },
      "revId": "8667c2e6203a788a254668df08ff19e6de51d06d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "286c408a_cf39e8e5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2023-08-24T13:23:07Z",
      "side": 1,
      "message": "Why do we need the config param, can we just make this the default one-and-only behavior?",
      "revId": "8667c2e6203a788a254668df08ff19e6de51d06d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4c9944fa_17cb439d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2023-08-24T13:25:58Z",
      "side": 1,
      "message": "I think on-prem admins will not be amused by \n\n\u003e This makes Gerrit unusable for such a change, \n\nbut let\u0027s ask them\n\n@nasser.grainawi@linaro.org, @matthias.sohn@gmail.com, @luca.milanesio@gmail.com",
      "parentUuid": "286c408a_cf39e8e5",
      "revId": "8667c2e6203a788a254668df08ff19e6de51d06d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fe195414_d860466e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-08-25T19:02:55Z",
      "side": 1,
      "message": "What would be the user-experience in that case? Just a global greyed out screen with a 500?",
      "parentUuid": "4c9944fa_17cb439d",
      "revId": "8667c2e6203a788a254668df08ff19e6de51d06d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "186304f8_cb01c034",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2023-08-28T08:51:00Z",
      "side": 1,
      "message": "yes: the dashboard page would work, but the change page would not load.",
      "parentUuid": "fe195414_d860466e",
      "revId": "8667c2e6203a788a254668df08ff19e6de51d06d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "37b7c080_174d818f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2023-08-28T22:13:11Z",
      "side": 1,
      "message": "Yeah, I think that would be a deal breaker. We have a similar scenario with the task plugin where a task can end up in an INVALID state, but we just display that status in the task UI. I get your reason for wanting the new behavior, but please do keep it a config.",
      "parentUuid": "186304f8_cb01c034",
      "revId": "8667c2e6203a788a254668df08ff19e6de51d06d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6477e597_29d94606",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2023-08-31T14:43:55Z",
      "side": 1,
      "message": "Also, on a related note, we were thinking of disabling the default predicate for SRs. \n\nThat is hard to automatically migrate; by setting an ERROR state, we can punt on a migration, and on-prem users can tweak the SRs as needed.",
      "parentUuid": "186304f8_cb01c034",
      "revId": "8667c2e6203a788a254668df08ff19e6de51d06d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "549184fb_3121da3a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2023-08-31T14:52:05Z",
      "side": 1,
      "message": "\u003e Also, on a related note, we were thinking of disabling the default predicate for SRs. \n\nAs in, remove the default that requires Code-Review+2 (and Verified+1 if that label was installed)?",
      "parentUuid": "6477e597_29d94606",
      "revId": "8667c2e6203a788a254668df08ff19e6de51d06d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bdc249ac_11e0ef61",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2023-08-31T14:54:06Z",
      "side": 1,
      "message": "as in\n\n```\n  applicableIf \u003d foobar\n```\n\nwhich we reinterpret as something like\n\n```\n  applicableIf \u003d (message:foobar OR file:foobar OR owner:foobar)\n```",
      "parentUuid": "549184fb_3121da3a",
      "revId": "8667c2e6203a788a254668df08ff19e6de51d06d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ca3768a9_5f69268f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2023-08-31T15:00:59Z",
      "side": 1,
      "message": "\u003e as in\n\u003e \n\u003e ```\n\u003e   applicableIf \u003d foobar\n\u003e ```\n\u003e \n\u003e which we reinterpret as something like\n\u003e \n\u003e ```\n\u003e   applicableIf \u003d (message:foobar OR file:foobar OR owner:foobar)\n\u003e ```\n\nGotcha! So for SRs (not queries in general), you would be forcing the use of specific operators/predicates? I have no problem with that, but I agree it\u0027s a challenge for migration. You could start with deprecating support and log a warning (once a day?) for SRs that rely on the default. You could also provide a short-lived config for admins to choose to hard-fail if any SRs rely on the default. Getting that deprecation into master in time for 3.9 means you can probably disable it completely on master later this calendar year.",
      "parentUuid": "bdc249ac_11e0ef61",
      "revId": "8667c2e6203a788a254668df08ff19e6de51d06d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2a7d076d_f8a79460",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2023-09-01T10:14:56Z",
      "side": 1,
      "message": "JFYI I went through the comments and made sure it has no objections against this change.",
      "parentUuid": "ca3768a9_5f69268f",
      "revId": "8667c2e6203a788a254668df08ff19e6de51d06d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "adca0c9f_2a02a7d0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2023-09-04T13:24:42Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "2a7d076d_f8a79460",
      "revId": "8667c2e6203a788a254668df08ff19e6de51d06d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ce09cac2_f7431fd8",
        "filename": "java/com/google/gerrit/server/query/change/ChangeData.java",
        "patchSetId": 2
      },
      "lineNbr": 474,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2023-09-01T10:13:58Z",
      "side": 1,
      "message": "```suggestion\n            ? serverConfig.getBoolean(\"change\", \"propagateSubmitRequirementErrors\", false)\n```",
      "range": {
        "startLine": 474,
        "startChar": 38,
        "endLine": 474,
        "endChar": 88
      },
      "revId": "8667c2e6203a788a254668df08ff19e6de51d06d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7d4902e3_3005b18a",
        "filename": "java/com/google/gerrit/server/query/change/ChangeData.java",
        "patchSetId": 2
      },
      "lineNbr": 474,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2023-09-04T13:24:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ce09cac2_f7431fd8",
      "range": {
        "startLine": 474,
        "startChar": 38,
        "endLine": 474,
        "endChar": 88
      },
      "revId": "8667c2e6203a788a254668df08ff19e6de51d06d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "247424e4_11adc0f8",
        "filename": "java/com/google/gerrit/server/query/change/ChangeData.java",
        "patchSetId": 2
      },
      "lineNbr": 1072,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-08-25T19:02:55Z",
      "side": 1,
      "message": "You are stopping here at the first error, however, it would be useful to have the visibility of the full list of errors generated by the submit requirement.",
      "range": {
        "startLine": 1070,
        "startChar": 0,
        "endLine": 1072,
        "endChar": 13
      },
      "revId": "8667c2e6203a788a254668df08ff19e6de51d06d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7d40a8b9_8b3d90e6",
        "filename": "java/com/google/gerrit/server/query/change/ChangeData.java",
        "patchSetId": 2
      },
      "lineNbr": 1072,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2023-08-28T08:51:00Z",
      "side": 1,
      "message": "you get a full list with propagateSubmitRequirementErrors\u003d\u003dfalse.",
      "parentUuid": "247424e4_11adc0f8",
      "range": {
        "startLine": 1070,
        "startChar": 0,
        "endLine": 1072,
        "endChar": 13
      },
      "revId": "8667c2e6203a788a254668df08ff19e6de51d06d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "103233af_398109ee",
        "filename": "java/com/google/gerrit/server/query/change/ChangeData.java",
        "patchSetId": 2
      },
      "lineNbr": 1072,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2023-08-31T14:44:22Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "7d40a8b9_8b3d90e6",
      "range": {
        "startLine": 1070,
        "startChar": 0,
        "endLine": 1072,
        "endChar": 13
      },
      "revId": "8667c2e6203a788a254668df08ff19e6de51d06d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "939e1e7b_308b99c8",
        "filename": "javatests/com/google/gerrit/acceptance/server/project/SubmitRequirementsValidationIT.java",
        "patchSetId": 2
      },
      "lineNbr": 560,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2023-09-01T10:13:58Z",
      "side": 1,
      "message": "Why is the SAMPLE SR failing? Isn\u0027t the predicate available by the installed plugin?\n\nMaybe we can add a comment above this line.",
      "revId": "8667c2e6203a788a254668df08ff19e6de51d06d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b1adef36_2fea0ccb",
        "filename": "javatests/com/google/gerrit/acceptance/server/project/SubmitRequirementsValidationIT.java",
        "patchSetId": 2
      },
      "lineNbr": 560,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2023-09-04T13:24:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "939e1e7b_308b99c8",
      "revId": "8667c2e6203a788a254668df08ff19e6de51d06d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8964dc09_65ad4a6e",
        "filename": "javatests/com/google/gerrit/acceptance/server/project/SubmitRequirementsValidationIT.java",
        "patchSetId": 2
      },
      "lineNbr": 594,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2023-09-01T10:13:58Z",
      "side": 1,
      "message": "I\u0027d also assert on the exception message.",
      "revId": "8667c2e6203a788a254668df08ff19e6de51d06d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7c04ed63_1a335358",
        "filename": "javatests/com/google/gerrit/acceptance/server/project/SubmitRequirementsValidationIT.java",
        "patchSetId": 2
      },
      "lineNbr": 594,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2023-09-04T13:24:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8964dc09_65ad4a6e",
      "revId": "8667c2e6203a788a254668df08ff19e6de51d06d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}