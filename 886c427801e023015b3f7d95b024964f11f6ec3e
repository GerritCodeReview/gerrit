{
  "comments": [
    {
      "key": {
        "uuid": "ab68629f_99b71bfa",
        "filename": "/COMMIT_MSG",
        "patchSetId": 12
      },
      "lineNbr": 19,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2016-04-13T20:37:22Z",
      "side": 1,
      "message": "I would prefer to only fire the hook, reviewer-deleted event and send a mail in the case, the reviewer was deleted with a vote. The same logic when a message is added to the change table. Any changes to this logic should be done in its own change.",
      "range": {
        "startLine": 19,
        "startChar": 1,
        "endLine": 19,
        "endChar": 34
      },
      "revId": "886c427801e023015b3f7d95b024964f11f6ec3e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "68f5903c_bfadf7af",
        "filename": "/COMMIT_MSG",
        "patchSetId": 12
      },
      "lineNbr": 19,
      "author": {
        "id": 1012623
      },
      "writtenOn": "2016-04-15T04:42:14Z",
      "side": 1,
      "message": "Ok.  I have done as you request.  \n\nAlthough there is one thing about this that might be inconsistent with how `add-reviewer` event works.  add-reviewer will send event, hook and email every time a reviewer is added, it just doesn\u0027t add a comment to the change history.  It seems like to be more consistent with `add-reviewer` behavior the `delete-reviewer` event should also send event, hook and email every time a reviewer is removed regardless of whether the reviewer has a vote.  Also reviewer-delete should should only write to the comment history if a vote is removed. \n\nI\u0027m ok implementing either way,  I thought I would just point out that possible discrepancy.",
      "parentUuid": "ab68629f_99b71bfa",
      "range": {
        "startLine": 19,
        "startChar": 1,
        "endLine": 19,
        "endChar": 34
      },
      "revId": "886c427801e023015b3f7d95b024964f11f6ec3e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ab4dc25b_d1f96466",
        "filename": "/COMMIT_MSG",
        "patchSetId": 12
      },
      "lineNbr": 19,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2016-04-15T05:06:05Z",
      "side": 1,
      "message": "Sending a mail to reviewer on `add-reviewer` event is necessary. How the reviewer would be notified otherwise.",
      "parentUuid": "68f5903c_bfadf7af",
      "range": {
        "startLine": 19,
        "startChar": 1,
        "endLine": 19,
        "endChar": 34
      },
      "revId": "886c427801e023015b3f7d95b024964f11f6ec3e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8bb55eae_88521757",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteReviewer.java",
        "patchSetId": 12
      },
      "lineNbr": 162,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2016-04-12T07:06:01Z",
      "side": 1,
      "message": "Why are we changing the logic here and adding it unconditionally? Why this noise: add reviewer/remove reviewer would add this comment even though the reviewer hasn\u0027t voted on this change. If at all this shouldn\u0027t be changed in this change. Here this should stay:\n\n  if (msg.length() \u003e 0) {\n    ChangeMessage changeMessage \u003d [...]",
      "range": {
        "startLine": 161,
        "startChar": 6,
        "endLine": 162,
        "endChar": 78
      },
      "revId": "886c427801e023015b3f7d95b024964f11f6ec3e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ebca5a38_8b30cdc4",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteReviewer.java",
        "patchSetId": 12
      },
      "lineNbr": 162,
      "author": {
        "id": 1012623
      },
      "writtenOn": "2016-04-12T15:05:23Z",
      "side": 1,
      "message": "So this what I\u0027ve been referring to from discussion[1] on Gerrit ML.  Andrew\u0027s suggestion was to \"Include reviewer additions/removals in the message log\".  Did i misinterpret? \n\n[1] https://groups.google.com/d/msg/repo-discuss/aULNkde4DKc/WK3Ckr5aEgAJ",
      "parentUuid": "8bb55eae_88521757",
      "range": {
        "startLine": 161,
        "startChar": 6,
        "endLine": 162,
        "endChar": 78
      },
      "revId": "886c427801e023015b3f7d95b024964f11f6ec3e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ab68629f_79ac07b2",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteReviewer.java",
        "patchSetId": 12
      },
      "lineNbr": 162,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2016-04-13T20:37:22Z",
      "side": 1,
      "message": "I don\u0027t have opinion on Andrew\u0027s suggestion (but this can be a controversal proposal, as the core developers (maintainers) in many projects often complain that they are getting a lot of spam from many tools. For example they are added to every change in Gerrit and to every issue in Bugzilla, etc.).\n\nAll I\u0027m saying here, this shouldn\u0027t be changed here, where we fire a hook and extending the notification firehose from change message table only to email as well. Any changes to the logic when to spam the change table (and reiewers) should be done in its own change.",
      "parentUuid": "ebca5a38_8b30cdc4",
      "range": {
        "startLine": 161,
        "startChar": 6,
        "endLine": 162,
        "endChar": 78
      },
      "revId": "886c427801e023015b3f7d95b024964f11f6ec3e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "68f5903c_dfa0bbb9",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteReviewer.java",
        "patchSetId": 12
      },
      "lineNbr": 162,
      "author": {
        "id": 1012623
      },
      "writtenOn": "2016-04-15T04:42:14Z",
      "side": 1,
      "message": "ok.  I see what you mean and that\u0027s probably a good idea.  I have changed it to send event, hook and email only when a vote has been removed.",
      "parentUuid": "ab68629f_79ac07b2",
      "range": {
        "startLine": 161,
        "startChar": 6,
        "endLine": 162,
        "endChar": 78
      },
      "revId": "886c427801e023015b3f7d95b024964f11f6ec3e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "abbea28e_898459ff",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteReviewer.java",
        "patchSetId": 12
      },
      "lineNbr": 181,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2016-04-12T07:06:01Z",
      "side": 1,
      "message": "This is now always false, see the comment above.",
      "range": {
        "startLine": 179,
        "startChar": 6,
        "endLine": 181,
        "endChar": 7
      },
      "revId": "886c427801e023015b3f7d95b024964f11f6ec3e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "68f5903c_9faa3394",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteReviewer.java",
        "patchSetId": 12
      },
      "lineNbr": 181,
      "author": {
        "id": 1012623
      },
      "writtenOn": "2016-04-15T04:42:14Z",
      "side": 1,
      "message": "as-is should be ok now.",
      "parentUuid": "abbea28e_898459ff",
      "range": {
        "startLine": 179,
        "startChar": 6,
        "endLine": 181,
        "endChar": 7
      },
      "revId": "886c427801e023015b3f7d95b024964f11f6ec3e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}