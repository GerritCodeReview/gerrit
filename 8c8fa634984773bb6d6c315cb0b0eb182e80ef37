{
  "comments": [
    {
      "key": {
        "uuid": "cf7b9935_cb9e5554",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/admin/ProjectInfoScreen.java",
        "patchSetId": 7
      },
      "lineNbr": 517,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-02-19T09:13:11Z",
      "side": 1,
      "message": "Remove this?",
      "range": {
        "startLine": 517,
        "startChar": 4,
        "endLine": 517,
        "endChar": 19
      },
      "revId": "8c8fa634984773bb6d6c315cb0b0eb182e80ef37",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2f8fd5ae_1ed4cd0f",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/admin/ProjectInfoScreen.java",
        "patchSetId": 7
      },
      "lineNbr": 517,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-02-21T22:12:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cf7b9935_cb9e5554",
      "range": {
        "startLine": 517,
        "startChar": 4,
        "endLine": 517,
        "endChar": 19
      },
      "revId": "8c8fa634984773bb6d6c315cb0b0eb182e80ef37",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cf7b9935_eba31195",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/projects/ConfigInfo.java",
        "patchSetId": 7
      },
      "lineNbr": 173,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-02-19T09:13:11Z",
      "side": 1,
      "message": "Should init() only be invoked if multiple values are set?\n\nOtherwise for a single value it will look like this in JSON:\n\n  {\"values\":[], \"value\":\"true\"}\n\n\u0027\"values\":[]\u0027 seems to be unnecassary here.",
      "range": {
        "startLine": 173,
        "startChar": 6,
        "endLine": 173,
        "endChar": 15
      },
      "revId": "8c8fa634984773bb6d6c315cb0b0eb182e80ef37",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2f8fd5ae_3ed18920",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/projects/ConfigInfo.java",
        "patchSetId": 7
      },
      "lineNbr": 173,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-02-21T22:12:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cf7b9935_eba31195",
      "range": {
        "startLine": 173,
        "startChar": 6,
        "endLine": 173,
        "endChar": 15
      },
      "revId": "8c8fa634984773bb6d6c315cb0b0eb182e80ef37",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "af6ae563_8a028bd4",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ConfigInfo.java",
        "patchSetId": 7
      },
      "lineNbr": 212,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-02-19T09:13:11Z",
      "side": 1,
      "message": "[optional] I\u0027m not sure this is possible, but I\u0027m wondering if we could have only a \u0027value\u0027 field that then either contains a single value\n\n  \"value\": \"a\"\n\nor a list of values:\n\n  \"value\": [\"a\", \"b\", \"c\"]\n\nI believe on client side it should be possible to differentiate if the value of \"value\" is a single string or a list of strings, isn\u0027t it?",
      "range": {
        "startLine": 212,
        "startChar": 4,
        "endLine": 212,
        "endChar": 31
      },
      "revId": "8c8fa634984773bb6d6c315cb0b0eb182e80ef37",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "af6ae563_0af77ba8",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ConfigInfo.java",
        "patchSetId": 7
      },
      "lineNbr": 212,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-02-19T09:30:43Z",
      "side": 1,
      "message": "Well, that how the old patch set was working: The section wasn\u0027t parsed on the client side; instead unparsed string was passed to the server, that was doing the splitting on new line character. You made a valid point to make the interface symmetric for read and write operations.\n\nAre you proposing now to change String value to List\u003cString\u003evalue?\n\nThen we would pass also single values as an array:\n\n* single value \u003d\u003e \"value\": [\"a\"]\n* multiple value \u003d\u003e \"value\": [\"a\", \"b\", \"c\"]\n\nGson is the parser that we are using on the server side, and it relies entirely on reflection. It takes a string and try to match to the fields in Input class that is defined in view accessed in the request to set the values. So with\n\n value: \"a\"\n\nit expect to have String value field in the Input class, whereas for\n\n value: [\"a\", \"b\", \"c\"]\n\nIt expect to have List\u003cString\u003e. That\u0027s how i understand it.",
      "parentUuid": "af6ae563_8a028bd4",
      "range": {
        "startLine": 212,
        "startChar": 4,
        "endLine": 212,
        "endChar": 31
      },
      "revId": "8c8fa634984773bb6d6c315cb0b0eb182e80ef37",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "af6ae563_eaba27c3",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ConfigInfo.java",
        "patchSetId": 7
      },
      "lineNbr": 212,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-02-19T09:57:40Z",
      "side": 1,
      "message": "\u003e Are you proposing now to change String value to \n \u003e List\u003cString\u003evalue?\n\nThis would be possible and maybe this is the easiest solution. However what I meant was a bit different. I was imagening something like this:\n\n  public static class ConfigParameterInfo {\n    public String displayName;\n    public String description;\n    public String warning;\n    public ProjectConfigEntry.Type type;\n    public Boolean editable;\n    public Boolean inheritable;\n    public String configuredValue;\n    public String inheritedValue;\n    public List\u003cString\u003e permittedValues;\n  }\n\n  public static class SingleValueConfigParameterInfo extends ConfigParameterInfo {\n    public String value;\n  }\n\n  public static class ArrayValueConfigParameterInfo extends ConfigParameterInfo {\n    public List\u003cString\u003e value;\n  }\n\nThen we could either return SingleValueConfigParameterInfo which results in\n\n  \"value\": \"a\"\n\nor return ArrayValueConfigParameterInfo which results in\n\n  \"value\": [\"a\", \"b\", \"c\"]\n\nNot sure though if it\u0027s worth the effort. Only wanted to put it into the discussion.",
      "parentUuid": "af6ae563_0af77ba8",
      "range": {
        "startLine": 212,
        "startChar": 4,
        "endLine": 212,
        "endChar": 31
      },
      "revId": "8c8fa634984773bb6d6c315cb0b0eb182e80ef37",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cf7b9935_ab92e93c",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ConfigInfo.java",
        "patchSetId": 7
      },
      "lineNbr": 212,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-02-19T10:26:33Z",
      "side": 1,
      "message": "But wouldn\u0027t that mean that we would have to duplicate the view:\n\n class PutConfigSingle implements RestModifyView\u003cProjectResource, SingleValueConfigParameterInfo\u003e { …\n\nand\n\n class PutConfigArray implements RestModifyView\u003cProjectResource, ArrayValueConfigParameterInfo\u003e { …",
      "parentUuid": "af6ae563_eaba27c3",
      "range": {
        "startLine": 212,
        "startChar": 4,
        "endLine": 212,
        "endChar": 31
      },
      "revId": "8c8fa634984773bb6d6c315cb0b0eb182e80ef37",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "af6ae563_6ac71753",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ConfigInfo.java",
        "patchSetId": 7
      },
      "lineNbr": 212,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-02-19T10:32:45Z",
      "side": 1,
      "message": "Ah, yes, looks like for the PutConfig case this doesn\u0027t work.\n\nThen I\u0027m fine with either solution\n\n a) having 2 fields (\"value\" + \"values\") or\n b) having just \"value\" which is always a list.",
      "parentUuid": "cf7b9935_ab92e93c",
      "range": {
        "startLine": 212,
        "startChar": 4,
        "endLine": 212,
        "endChar": 31
      },
      "revId": "8c8fa634984773bb6d6c315cb0b0eb182e80ef37",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2f8fd5ae_5ede552f",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ConfigInfo.java",
        "patchSetId": 7
      },
      "lineNbr": 212,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-02-21T22:12:48Z",
      "side": 1,
      "message": "I suggest to go for a) then. Switching to list semantic for single value configuration parameters for both input and output containers (symmetry) would make the code more complex.",
      "parentUuid": "af6ae563_6ac71753",
      "range": {
        "startLine": 212,
        "startChar": 4,
        "endLine": 212,
        "endChar": 31
      },
      "revId": "8c8fa634984773bb6d6c315cb0b0eb182e80ef37",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cf7b9935_8b984d67",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/PutConfig.java",
        "patchSetId": 7
      },
      "lineNbr": 57,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-02-19T09:13:11Z",
      "side": 1,
      "message": "[optional] Same as in [1]. I\u0027m wondering if we could have a single value field here which either contains a string or a list of strings.\n\n[1] https://gerrit-review.googlesource.com/#/c/54230/7/gerrit-server/src/main/java/com/google/gerrit/server/project/ConfigInfo.java",
      "range": {
        "startLine": 56,
        "startChar": 4,
        "endLine": 57,
        "endChar": 31
      },
      "revId": "8c8fa634984773bb6d6c315cb0b0eb182e80ef37",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0fc771d6_05d11220",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/PutConfig.java",
        "patchSetId": 7
      },
      "lineNbr": 57,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-02-21T22:12:48Z",
      "side": 1,
      "message": "We have concluded to let it as is.",
      "parentUuid": "cf7b9935_8b984d67",
      "range": {
        "startLine": 56,
        "startChar": 4,
        "endLine": 57,
        "endChar": 31
      },
      "revId": "8c8fa634984773bb6d6c315cb0b0eb182e80ef37",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}