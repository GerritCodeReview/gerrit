{
  "comments": [
    {
      "key": {
        "uuid": "8e6375c3_57946c4b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 9,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-01-14T00:11:35Z",
      "side": 1,
      "message": "Why? Provide some justification.",
      "revId": "8ceca273bfeeaaa0b5a78ae7df1c3a341ad3322d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e6375c3_f70f4024",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 9,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2015-01-14T00:14:21Z",
      "side": 1,
      "message": "As Shawn said in patch set 4 (I\u0027ll add that to the commit message):\n\nYou can\u0027t use .Factory inside of REST API handlers. Stefan and Jonathan mistakenly tried and wasted a few hours on it.\nThere are only 3 callers of .Factory. Its easier to remove this than to keep it around confusing people that are newer to the code base than myself, Dave Borowitz, or yourself.",
      "parentUuid": "8e6375c3_57946c4b",
      "revId": "8ceca273bfeeaaa0b5a78ae7df1c3a341ad3322d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e6375c3_17159431",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 9,
      "author": {
        "id": 1011842
      },
      "writtenOn": "2015-01-14T00:20:14Z",
      "side": 1,
      "message": "I actually only spent a few minutes before asking Shawn about request scopes. :)\n\nThe question is whether access to the PerRequestProjectControlCache is worth the complication.",
      "parentUuid": "8e6375c3_f70f4024",
      "revId": "8ceca273bfeeaaa0b5a78ae7df1c3a341ad3322d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cedbadab_0912c949",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 9,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2015-01-14T00:23:49Z",
      "side": 1,
      "message": "For these functions? NO.",
      "parentUuid": "8e6375c3_17159431",
      "revId": "8ceca273bfeeaaa0b5a78ae7df1c3a341ad3322d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cedbadab_c9e1d1de",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 9,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-01-14T00:35:54Z",
      "side": 1,
      "message": "Yes, I saw that, I meant put it in the commit message.",
      "parentUuid": "8e6375c3_f70f4024",
      "revId": "8ceca273bfeeaaa0b5a78ae7df1c3a341ad3322d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e6375c3_3739b8c2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 9,
      "author": {
        "id": 1011842
      },
      "writtenOn": "2015-01-14T00:36:44Z",
      "side": 1,
      "message": "Exactly. That\u0027s the justification. It makes it clear that ChangeControl.Factory is unnecessary while ProjectControl.Factory might still be useful (e.g. for SuggestService).",
      "parentUuid": "cedbadab_0912c949",
      "revId": "8ceca273bfeeaaa0b5a78ae7df1c3a341ad3322d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cedbadab_c9a431bf",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/rpc/changedetail/PatchSetDetailFactory.java",
        "patchSetId": 7
      },
      "lineNbr": 130,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-01-14T00:11:21Z",
      "side": 1,
      "message": "This pattern appears a number of times. I think it might make sense to provide controlFor/validateFor methods in GenericFactory that take Change.Id and do the lookup there.\n\nYou can use the existing Provider\u003cReviewDb\u003e. Calls to that method will still only work when a RequestContext is properly set up (e.g. in the REST API code path), but that\u0027s true of a lot of methods.",
      "revId": "8ceca273bfeeaaa0b5a78ae7df1c3a341ad3322d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e6375c3_17b914bb",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/rpc/changedetail/PatchSetDetailFactory.java",
        "patchSetId": 7
      },
      "lineNbr": 130,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2015-01-14T01:43:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cedbadab_c9a431bf",
      "revId": "8ceca273bfeeaaa0b5a78ae7df1c3a341ad3322d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}