{
  "comments": [
    {
      "key": {
        "uuid": "326c9e14_d60c6456",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2014-01-24T08:59:45Z",
      "side": 1,
      "message": "s/creations/creation ?",
      "revId": "8dfc212dac6eb7a3bbeb0bb826a7669b455ee6b2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d24982a5_7b33bf0e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 7,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-01-24T09:13:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "326c9e14_d60c6456",
      "revId": "8dfc212dac6eb7a3bbeb0bb826a7669b455ee6b2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d24982a5_1b2efba6",
        "filename": "Documentation/config-validation.txt",
        "patchSetId": 2
      },
      "lineNbr": 35,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2014-01-24T09:02:14Z",
      "side": 1,
      "message": "optional: looking above we have the \"new-commit-validation\u0027. Based on that, this one could be named \"new-project-validation\"",
      "revId": "8dfc212dac6eb7a3bbeb0bb826a7669b455ee6b2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d24982a5_5b3883e9",
        "filename": "Documentation/config-validation.txt",
        "patchSetId": 2
      },
      "lineNbr": 35,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-01-24T09:13:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d24982a5_1b2efba6",
      "revId": "8dfc212dac6eb7a3bbeb0bb826a7669b455ee6b2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f2a76688_04893660",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/CreateProject.java",
        "patchSetId": 2
      },
      "lineNbr": 143,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2014-01-24T08:01:50Z",
      "side": 1,
      "message": "Why resource conflict?\n\nWould it not be better to raise \"bad request\" or \"project creation failed\"?",
      "range": {
        "startLine": 143,
        "startChar": 18,
        "endLine": 143,
        "endChar": 43
      },
      "revId": "8dfc212dac6eb7a3bbeb0bb826a7669b455ee6b2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "326c9e14_563854e9",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/CreateProject.java",
        "patchSetId": 2
      },
      "lineNbr": 143,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-01-24T08:40:34Z",
      "side": 1,
      "message": "\u0027Conflict\u0027 may not be perfect but looking at the possible response codes [1] I think it\u0027s the best suitable response code here. Of course it depends also on the reason why the plugin is rejecting the project creation.\n\nI wouldn\u0027t use \u0027Bad Request\u0027 since this response code indicates a syntactically malformed request that the server doesn\u0027t understand, which is not the case here.\n\n\"project creation failed\" is bad because this results in a \u0027500 Internal Server Error\u0027 which should only be used if there is a real error in the server. Actually because of this \"project creation failed\" shouldn\u0027t be thrown at all but rather be mapped to correct response codes. It is only thrown because at this place we cannot diffierentiate between different reasons for throwing \"project creation failed\" from PerformCreateProject and we would need to refactor PerformCreateProject first to include the relevant information into the exception or to throw different exceptions.\n\n[1] https://gerrit-review.googlesource.com/Documentation/rest-api.html#response-codes",
      "parentUuid": "f2a76688_04893660",
      "range": {
        "startLine": 143,
        "startChar": 18,
        "endLine": 143,
        "endChar": 43
      },
      "revId": "8dfc212dac6eb7a3bbeb0bb826a7669b455ee6b2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f2a76688_c4923e8c",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/CreateProject.java",
        "patchSetId": 2
      },
      "lineNbr": 143,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2014-01-24T08:49:09Z",
      "side": 1,
      "message": "Thanks for the explanation.  It does seem to be the only reasonable response from the ones available.",
      "parentUuid": "326c9e14_563854e9",
      "range": {
        "startLine": 143,
        "startChar": 18,
        "endLine": 143,
        "endChar": 43
      },
      "revId": "8dfc212dac6eb7a3bbeb0bb826a7669b455ee6b2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "326c9e14_96194c92",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/validators/ProjectCreationValidationListener.java",
        "patchSetId": 2
      },
      "lineNbr": 23,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2014-01-24T08:59:45Z",
      "side": 1,
      "message": "It is actually invoked (just) before a new project is going to be created.",
      "revId": "8dfc212dac6eb7a3bbeb0bb826a7669b455ee6b2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "326c9e14_16553c17",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/validators/ProjectCreationValidationListener.java",
        "patchSetId": 2
      },
      "lineNbr": 23,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-01-24T09:13:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "326c9e14_96194c92",
      "revId": "8dfc212dac6eb7a3bbeb0bb826a7669b455ee6b2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d24982a5_3b29379f",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/validators/ProjectCreationValidationListener.java",
        "patchSetId": 2
      },
      "lineNbr": 33,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2014-01-24T08:59:45Z",
      "side": 1,
      "message": "This name gives impression as if this method is called when the project creation is already done.\n\nHow about:\n\n  validate(...)",
      "revId": "8dfc212dac6eb7a3bbeb0bb826a7669b455ee6b2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f2a76688_849c46a0",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/validators/ProjectCreationValidationListener.java",
        "patchSetId": 2
      },
      "lineNbr": 33,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2014-01-24T09:05:28Z",
      "side": 1,
      "message": "The other validator interfaces have methods `onCommitReceived` and `onPreMerge`.\n\nThis should be consistent with those.  Or should also rename those to `validate`?\n\nLatter case will break existing plugins, so I don\u0027t favour that approach.",
      "parentUuid": "d24982a5_3b29379f",
      "revId": "8dfc212dac6eb7a3bbeb0bb826a7669b455ee6b2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "326c9e14_764ab076",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/validators/ProjectCreationValidationListener.java",
        "patchSetId": 2
      },
      "lineNbr": 33,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2014-01-24T09:12:40Z",
      "side": 1,
      "message": "The \"validate\" may not the the best name but the point is that it should be clear that this extension point is called before project creation.\n\nThe \"onCommitReceived\" is called after a commit is received... therefore, \"onProjectCreated\" would be bad because it is called before a project is created.\n\nI couldn\u0027t find any good name that starts with \"on\".",
      "parentUuid": "f2a76688_849c46a0",
      "revId": "8dfc212dac6eb7a3bbeb0bb826a7669b455ee6b2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d24982a5_9b196b92",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/validators/ProjectCreationValidationListener.java",
        "patchSetId": 2
      },
      "lineNbr": 33,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-01-24T09:13:56Z",
      "side": 1,
      "message": "I\u0027ve renamed the method now to \u0027onProjectCreation\u0027. This looks consistent with other method names and doesn\u0027t sound too much like it\u0027s invoked after the project creation.",
      "parentUuid": "f2a76688_849c46a0",
      "revId": "8dfc212dac6eb7a3bbeb0bb826a7669b455ee6b2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}