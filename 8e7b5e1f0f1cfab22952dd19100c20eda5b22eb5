{
  "comments": [
    {
      "key": {
        "uuid": "UQQEJajw",
        "filename": ".gitmodules",
        "patchSetId": 13
      },
      "lineNbr": 0,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2013-05-02T06:26:25Z",
      "side": 1,
      "message": "To make this work on an already existing clone of gerrit, where you\u0027ve cherry picked or merged this change in, you need to do:\n\n $ git submodule init\n $ git submodule update\n\nThe latter will fail since the sha1s referenced in the subprojects are of changes not yet merged, so for each subproject you need to:\n\n $ git reset --hard HEAD\n $ git fetch https://gerrit-review... refs/changes/... \u0026\u0026 git cherry-pick FETCH_HEAD\n\nand then run `submodule update` again.",
      "revId": "8e7b5e1f0f1cfab22952dd19100c20eda5b22eb5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UO8dTHh8",
        "filename": ".gitmodules",
        "patchSetId": 13
      },
      "lineNbr": 0,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2013-05-02T08:17:07Z",
      "side": 1,
      "message": "Shouldn\u0027t git modularization be done in separate commit?",
      "revId": "8e7b5e1f0f1cfab22952dd19100c20eda5b22eb5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UJnz2eck",
        "filename": ".gitmodules",
        "patchSetId": 13
      },
      "lineNbr": 3,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2013-05-02T10:15:21Z",
      "side": 1,
      "message": "This breaks if Gerrit is cloned from a server where the paths of the repositories are not on this relative path, or don\u0027t exist at all.\n\nFor example in my case I have cloned gerrit from our internal repository where we have a mirror of gerrit and some of the plugins:\n\n git://review/tools/gerrit.git\n\nBut the replication plugin is at a different relative path compared to the original at gerrit-review:\n\n git://review/tools/gerrit/plugins/replication.git\n\nSo running `git submodule update` fails with:\n\n fatal: \u0027/tools/plugins/replication\u0027: not a Gerrit project\n\nAnd for reviewnotes, we don\u0027t have a mirror of it on our server, so that will also fail.",
      "revId": "8e7b5e1f0f1cfab22952dd19100c20eda5b22eb5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UJtxdTf4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 13
      },
      "lineNbr": 61,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2013-05-02T06:26:25Z",
      "side": 1,
      "message": "Can you add examples of how to build the plugins?\n\nThe following seem to work OK:\n\nAll core plugins:\n\n $ buck build plugins:core\n\nSpecific plugin:\n\n $ buck build plugins/replication\n\nBut if I try to build a plugin like:\n\n $ cd plugins\n $ buck build replication\n\nIt fails with:\n\n NameError: name \u0027gerrit_plugin\u0027 is not defined",
      "revId": "8e7b5e1f0f1cfab22952dd19100c20eda5b22eb5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UPiQA8sE",
        "filename": "/COMMIT_MSG",
        "patchSetId": 13
      },
      "lineNbr": 61,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2013-05-02T06:48:56Z",
      "side": 1,
      "message": "I missed that building within the plugin itself fails. This happens because buck is looking for the repository boundary at the same place Git does, so buck has scoped itself to be within the plugin only and can\u0027t use anything up in the gerrit container. Being anywhere in the gerrit container repository makes buck find what its looking for.\n\nThis of course means I didn\u0027t test building a plugin with buck in isolation either. I hadn\u0027t figured out how to define gerrit_plugin(). It may be that we copy the definition into a DEFS file and add a .buckconfig in the plugin to implicitly load //DEFS like we do in the gerrit project with //lib/DEFS.",
      "parentUuid": "UJtxdTf4",
      "revId": "8e7b5e1f0f1cfab22952dd19100c20eda5b22eb5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UPEZgkuE",
        "filename": "Documentation/BUCK",
        "patchSetId": 13
      },
      "lineNbr": 51,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2013-05-02T08:17:07Z",
      "side": 1,
      "message": "why don\u0027t you use \u0027mkdir -p\u0027 here?",
      "revId": "8e7b5e1f0f1cfab22952dd19100c20eda5b22eb5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UJjxJ0T8",
        "filename": "Documentation/generate_licenses.py",
        "patchSetId": 13
      },
      "lineNbr": 6,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2013-05-02T06:26:25Z",
      "side": 1,
      "message": "deque does not seem to be used.",
      "revId": "8e7b5e1f0f1cfab22952dd19100c20eda5b22eb5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UJrxUAdY",
        "filename": "lib/download_jar.py",
        "patchSetId": 13
      },
      "lineNbr": 3,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2013-05-02T07:05:53Z",
      "side": 1,
      "message": "argparse is not available in all versions of Python.  On my system with 2.6.5 this fails with ImportError.\n\nThe documentation [1] says it\u0027s from 3.2 but it seems to be available on my laptop that has 2.7.3.\n\nCan this be changed to optparse?\n\n[1] http://docs.python.org/dev/library/argparse.html",
      "revId": "8e7b5e1f0f1cfab22952dd19100c20eda5b22eb5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UPoTuhug",
        "filename": "lib/download_jar.py",
        "patchSetId": 13
      },
      "lineNbr": 3,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2013-05-02T08:08:44Z",
      "side": 1,
      "message": "Fixed this with:\n\n $ sudo apt-get install python-argparse\n\nBut it\u0027s still not possible to run with python \u003c 2.7 due to problem with ZipFile below.",
      "parentUuid": "UJrxUAdY",
      "revId": "8e7b5e1f0f1cfab22952dd19100c20eda5b22eb5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UPqRU4tU",
        "filename": "lib/download_jar.py",
        "patchSetId": 13
      },
      "lineNbr": 5,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2013-05-02T06:26:25Z",
      "side": 1,
      "message": "Importing `exit` like this causes it to override Python\u0027s builtin.\n\n \u003e\u003e\u003e type(exit)\n \u003cclass \u0027site.Quitter\u0027\u003e\n \u003e\u003e\u003e from sys import exit\n \u003e\u003e\u003e type(exit)\n \u003ctype \u0027builtin_function_or_method\u0027\u003e\n \u003e\u003e\u003e\n\nSame in the other .py files.",
      "revId": "8e7b5e1f0f1cfab22952dd19100c20eda5b22eb5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UJrw94Zc",
        "filename": "lib/download_jar.py",
        "patchSetId": 13
      },
      "lineNbr": 32,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2013-05-02T02:33:41Z",
      "side": 1,
      "message": "OSError is raised here if curl is not installed.",
      "revId": "8e7b5e1f0f1cfab22952dd19100c20eda5b22eb5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UJhxEFSc",
        "filename": "lib/download_jar.py",
        "patchSetId": 13
      },
      "lineNbr": 46,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2013-05-02T06:26:25Z",
      "side": 1,
      "message": "The name `zip` overrides the Python builtin.  Not a problem now, but will be if the builtin is ever needed in this code.",
      "revId": "8e7b5e1f0f1cfab22952dd19100c20eda5b22eb5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UPuThevk",
        "filename": "lib/download_jar.py",
        "patchSetId": 13
      },
      "lineNbr": 46,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2013-05-02T08:08:44Z",
      "side": 1,
      "message": "With Python 2.6.5 I\u0027m getting this error:\n\n AttributeError: ZipFile instance has no attribute \u0027__exit__\u0027\n\nThis is because support for context managers (i.e. being able to use the `with Object() as x:` construct) was only introduced for ZipFile objects in Python 2.7 [1]\n\nTo work with python \u003c 2.7 this needs to be refactored to not use context management, i.e.:\n\n zip \u003d ZipFile(args.o, \u0027r\u0027)\n for n in zip.namelist():\n   ...\n zip.close()\n\nAt the same time it might be worth putting the whole block in a try/except and catching problems like `zipfile.BadZipfile`\n\n[1] http://docs.python.org/2/library/zipfile.html#zipfile-objects",
      "revId": "8e7b5e1f0f1cfab22952dd19100c20eda5b22eb5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UPgRE1iY",
        "filename": "lib/maven.defs",
        "patchSetId": 13
      },
      "lineNbr": 1,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2013-05-02T02:33:41Z",
      "side": 1,
      "message": "https?",
      "revId": "8e7b5e1f0f1cfab22952dd19100c20eda5b22eb5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UJnxPWUc",
        "filename": "lib/maven.defs",
        "patchSetId": 13
      },
      "lineNbr": 1,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2013-05-02T03:46:35Z",
      "side": 1,
      "message": "Actually, not necessary now. We get SHA-1s through a trusted source (Git over HTTPS) and use those to validate the downloaded file content. Weren\u0027t you the one that wanted to use plaintext HTTP? This is for you. :-)",
      "parentUuid": "UPgRE1iY",
      "revId": "8e7b5e1f0f1cfab22952dd19100c20eda5b22eb5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UPoRXZto",
        "filename": "lib/maven.defs",
        "patchSetId": 13
      },
      "lineNbr": 1,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2013-05-02T04:45:13Z",
      "side": 1,
      "message": "I only commented because you\u0027d said before that you have a requirement to use https for this repository :)\n\nGood that we can now use http. Makes things a little easier.",
      "parentUuid": "UJnxPWUc",
      "revId": "8e7b5e1f0f1cfab22952dd19100c20eda5b22eb5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UPmT26sk",
        "filename": "lib/pack_war.py",
        "patchSetId": 13
      },
      "lineNbr": 5,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2013-05-02T06:26:25Z",
      "side": 1,
      "message": "stderr is not used.",
      "revId": "8e7b5e1f0f1cfab22952dd19100c20eda5b22eb5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UPqTrgtc",
        "filename": "lib/pack_war.py",
        "patchSetId": 13
      },
      "lineNbr": 6,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2013-05-02T10:15:21Z",
      "side": 1,
      "message": "check_output is only available from Python 2.7",
      "revId": "8e7b5e1f0f1cfab22952dd19100c20eda5b22eb5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UPiRJ0j8",
        "filename": "lib/pack_war.py",
        "patchSetId": 13
      },
      "lineNbr": 21,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2013-05-02T02:36:22Z",
      "side": 1,
      "message": "Raises KeyError if TMP is not in the environment.",
      "revId": "8e7b5e1f0f1cfab22952dd19100c20eda5b22eb5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}