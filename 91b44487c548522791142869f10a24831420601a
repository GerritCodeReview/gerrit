{
  "comments": [
    {
      "key": {
        "uuid": "9e6c2731_7be5ff4e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 11,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-05-14T10:27:18Z",
      "side": 1,
      "message": "How this problem shows up? What was not working without this hange?",
      "revId": "91b44487c548522791142869f10a24831420601a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e73eb49_98b558b9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 11,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-05-14T10:31:49Z",
      "side": 1,
      "message": "If you look at the InternalUser definition, it is an identity that has been created for plugins. Potentially plenty of plugins that were working fine until v2.15 they\u0027ll stop working from v2.16 onwards.\n\nI found it accidentally by analysing an issue with the healthcheck plugin, and then opened up the pandorra box :-(\n\nWe never figured that out because a test for InternalUser access was missing. Added that one too in this change.",
      "parentUuid": "9e6c2731_7be5ff4e",
      "revId": "91b44487c548522791142869f10a24831420601a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8d56ac4e_989edee3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 11,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-05-14T10:39:26Z",
      "side": 1,
      "message": "\u003e I found it accidentally by analysing an issue with the healthcheck plugin\n\nAm I understanding correctly, that without this change plugin cannot query for changes any more? Would you mind to mention that in the commit message?",
      "parentUuid": "1e73eb49_98b558b9",
      "revId": "91b44487c548522791142869f10a24831420601a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cd6643de_233fc243",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 11,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-05-14T10:50:01Z",
      "side": 1,
      "message": "\u003e Am I understanding correctly, that without this change plugin cannot query for changes any more? Would you mind to mention that in the commit message?\n\nAn InternalUser cannot query the changes anymore, which is what is mentioned in the commit message.",
      "parentUuid": "8d56ac4e_989edee3",
      "revId": "91b44487c548522791142869f10a24831420601a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "73a5683d_4e4c762a",
        "filename": "java/com/google/gerrit/server/query/change/ChangeIsVisibleToPredicate.java",
        "patchSetId": 6
      },
      "lineNbr": 95,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-05-14T10:27:18Z",
      "side": 1,
      "message": "Well that\u0027s ugly. Could we add boolean isEligibleForQueryChangeInReadlOnlyMode() to the base classe and override it in derived classes?",
      "range": {
        "startLine": 95,
        "startChar": 28,
        "endLine": 95,
        "endChar": 90
      },
      "revId": "91b44487c548522791142869f10a24831420601a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c535e06_1c1866d7",
        "filename": "java/com/google/gerrit/server/query/change/ChangeIsVisibleToPredicate.java",
        "patchSetId": 6
      },
      "lineNbr": 95,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-05-14T10:31:49Z",
      "side": 1,
      "message": "Yes, it is ugly as it was ugly before. Happy to make some stylish refactoring and rebase on that.",
      "parentUuid": "73a5683d_4e4c762a",
      "range": {
        "startLine": 95,
        "startChar": 28,
        "endLine": 95,
        "endChar": 90
      },
      "revId": "91b44487c548522791142869f10a24831420601a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9ade9cd3_740bc541",
        "filename": "java/com/google/gerrit/server/query/change/ChangeIsVisibleToPredicate.java",
        "patchSetId": 6
      },
      "lineNbr": 95,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2020-05-14T10:39:04Z",
      "side": 1,
      "message": "Do we need to refactor this?\n\nIf so, let\u0027s do it on a later branch.",
      "parentUuid": "6c535e06_1c1866d7",
      "range": {
        "startLine": 95,
        "startChar": 28,
        "endLine": 95,
        "endChar": 90
      },
      "revId": "91b44487c548522791142869f10a24831420601a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "feba2099_5636dd37",
        "filename": "java/com/google/gerrit/server/query/change/ChangeIsVisibleToPredicate.java",
        "patchSetId": 6
      },
      "lineNbr": 95,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-05-14T10:48:54Z",
      "side": 1,
      "message": "I\u0027m fine with keeping the ugliness on v2.16 and sort this out in stable-3.2 and master. However, I\u0027ll wait for DavidO to comment on this.\n\nI\u0027m preparing the separate change, as refactoring should NOT be part of a fix or a feature.",
      "parentUuid": "9ade9cd3_740bc541",
      "range": {
        "startLine": 95,
        "startChar": 28,
        "endLine": 95,
        "endChar": 90
      },
      "revId": "91b44487c548522791142869f10a24831420601a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}