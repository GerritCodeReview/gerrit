{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "1eeb6aef_f5313789",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-01-31T11:51:05Z",
      "side": 1,
      "message": "The commit message and/or the documentation should describe what happens when the existing but stale entries in the index.",
      "revId": "95d190580a20ef8eee443fdd8c5ce8436dc02bcc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1294d371_6044c903",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-02-05T07:45:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1eeb6aef_f5313789",
      "revId": "95d190580a20ef8eee443fdd8c5ce8436dc02bcc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c6219d5a_bbc0fd84",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 14,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-01-31T11:51:05Z",
      "side": 1,
      "message": "did this happen only for the offline case?",
      "range": {
        "startLine": 13,
        "startChar": 12,
        "endLine": 14,
        "endChar": 17
      },
      "revId": "95d190580a20ef8eee443fdd8c5ce8436dc02bcc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "95ff028b_e29b9c7e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 14,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-02-05T07:45:41Z",
      "side": 1,
      "message": "Yes. For online reindexing the deletion of the existing index had been removed as part of my original change. I missed it for offline reindexing, likely because I intended offline reindexing to never reuse the index and didn\u0027t realise that the index deletion was never committed.",
      "parentUuid": "c6219d5a_bbc0fd84",
      "range": {
        "startLine": 13,
        "startChar": 12,
        "endLine": 14,
        "endChar": 17
      },
      "revId": "95d190580a20ef8eee443fdd8c5ce8436dc02bcc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "db5c301d_dcf04b96",
        "filename": "Documentation/config-gerrit.txt",
        "patchSetId": 6
      },
      "lineNbr": 3491,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-01-31T11:51:05Z",
      "side": 1,
      "message": "Maybe `reuseExistingDocuments` is a better name as it describes the desired outcome?",
      "range": {
        "startLine": 3491,
        "startChar": 37,
        "endLine": 3491,
        "endChar": 58
      },
      "revId": "95d190580a20ef8eee443fdd8c5ce8436dc02bcc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "723c3d70_f7285880",
        "filename": "Documentation/config-gerrit.txt",
        "patchSetId": 6
      },
      "lineNbr": 3491,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-02-05T07:45:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "db5c301d_dcf04b96",
      "range": {
        "startLine": 3491,
        "startChar": 37,
        "endLine": 3491,
        "endChar": 58
      },
      "revId": "95d190580a20ef8eee443fdd8c5ce8436dc02bcc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9c440bbc_909f7f0c",
        "filename": "java/com/google/gerrit/pgm/Reindex.java",
        "patchSetId": 6
      },
      "lineNbr": 261,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-01-31T11:51:05Z",
      "side": 1,
      "message": "I think that the `reuse...` name would be easier to read here:\n\n````\n  if (!reuseExistingDocuments) {\n    deleteAll();\n  }\n````  \n\nvs\n\n````\n  if (!skipExistingDocuments) {\n    deleteAll();\n  }\n````",
      "revId": "95d190580a20ef8eee443fdd8c5ce8436dc02bcc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4a8dbe45_8519f14f",
        "filename": "java/com/google/gerrit/pgm/Reindex.java",
        "patchSetId": 6
      },
      "lineNbr": 261,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-02-05T07:45:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9c440bbc_909f7f0c",
      "revId": "95d190580a20ef8eee443fdd8c5ce8436dc02bcc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b3165188_a7ebe74b",
        "filename": "java/com/google/gerrit/server/index/change/ChangeIndexer.java",
        "patchSetId": 6
      },
      "lineNbr": 275,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-01-31T11:51:05Z",
      "side": 1,
      "message": "Why is the latest index `Optional`? IIUC, either `this.index` is not `null` or `this.indexes` is not `null`.\n\nAnyway, what would it mean to perform indexing when the latest write index is `null`. We shall rather fail immediately in that case?",
      "range": {
        "startLine": 275,
        "startChar": 9,
        "endLine": 275,
        "endChar": 30
      },
      "revId": "95d190580a20ef8eee443fdd8c5ce8436dc02bcc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "201fb928_a048c4d0",
        "filename": "java/com/google/gerrit/server/index/change/ChangeIndexer.java",
        "patchSetId": 6
      },
      "lineNbr": 275,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-01-31T11:51:05Z",
      "side": 1,
      "message": "`getLatestWriteIndex`",
      "range": {
        "startLine": 275,
        "startChar": 31,
        "endLine": 275,
        "endChar": 45
      },
      "revId": "95d190580a20ef8eee443fdd8c5ce8436dc02bcc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8d044e08_a64f1fa3",
        "filename": "java/com/google/gerrit/server/index/change/ChangeIndexer.java",
        "patchSetId": 6
      },
      "lineNbr": 275,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-02-05T07:45:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "201fb928_a048c4d0",
      "range": {
        "startLine": 275,
        "startChar": 31,
        "endLine": 275,
        "endChar": 45
      },
      "revId": "95d190580a20ef8eee443fdd8c5ce8436dc02bcc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f3a73e43_6e2a78c1",
        "filename": "java/com/google/gerrit/server/index/change/ChangeIndexer.java",
        "patchSetId": 6
      },
      "lineNbr": 275,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-02-05T07:45:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b3165188_a7ebe74b",
      "range": {
        "startLine": 275,
        "startChar": 9,
        "endLine": 275,
        "endChar": 30
      },
      "revId": "95d190580a20ef8eee443fdd8c5ce8436dc02bcc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b0e9f6b5_ce3f4d36",
        "filename": "java/com/google/gerrit/server/index/change/ChangeIndexer.java",
        "patchSetId": 6
      },
      "lineNbr": 275,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-02-05T09:28:43Z",
      "side": 1,
      "message": "This is marked as done but actually left unchanged?",
      "parentUuid": "f3a73e43_6e2a78c1",
      "range": {
        "startLine": 275,
        "startChar": 9,
        "endLine": 275,
        "endChar": 30
      },
      "revId": "95d190580a20ef8eee443fdd8c5ce8436dc02bcc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7bca33e7_9c9746ce",
        "filename": "java/com/google/gerrit/server/index/change/ChangeIndexer.java",
        "patchSetId": 6
      },
      "lineNbr": 275,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-02-05T09:37:57Z",
      "side": 1,
      "message": "Hm. Actually wanted to reply a bit longer. Probably forgot.\nThere are scenarios where both `index` and `indexes` are `null`. This occurred when running tests for me during starting the test daemon. Instead of having null-checks I would prefer Optional.",
      "parentUuid": "b0e9f6b5_ce3f4d36",
      "range": {
        "startLine": 275,
        "startChar": 9,
        "endLine": 275,
        "endChar": 30
      },
      "revId": "95d190580a20ef8eee443fdd8c5ce8436dc02bcc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "03d12b7e_9ed246c6",
        "filename": "java/com/google/gerrit/server/index/change/ChangeIndexer.java",
        "patchSetId": 6
      },
      "lineNbr": 275,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-02-09T14:41:33Z",
      "side": 1,
      "message": "method removed",
      "parentUuid": "7bca33e7_9c9746ce",
      "range": {
        "startLine": 275,
        "startChar": 9,
        "endLine": 275,
        "endChar": 30
      },
      "revId": "95d190580a20ef8eee443fdd8c5ce8436dc02bcc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c141ae8a_4d06876c",
        "filename": "java/com/google/gerrit/server/index/change/ChangeIndexer.java",
        "patchSetId": 6
      },
      "lineNbr": 275,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-02-12T12:11:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "03d12b7e_9ed246c6",
      "range": {
        "startLine": 275,
        "startChar": 9,
        "endLine": 275,
        "endChar": 30
      },
      "revId": "95d190580a20ef8eee443fdd8c5ce8436dc02bcc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "93a0de31_7ac9d0b4",
        "filename": "java/com/google/gerrit/server/index/change/ChangeIndexer.java",
        "patchSetId": 6
      },
      "lineNbr": 386,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-01-31T11:51:05Z",
      "side": 1,
      "message": "This should also be named `latestWriteIndex`, like this method is named.",
      "range": {
        "startLine": 386,
        "startChar": 8,
        "endLine": 386,
        "endChar": 19
      },
      "revId": "95d190580a20ef8eee443fdd8c5ce8436dc02bcc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d1389523_a5b4921c",
        "filename": "java/com/google/gerrit/server/index/change/ChangeIndexer.java",
        "patchSetId": 6
      },
      "lineNbr": 386,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-02-05T07:45:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "93a0de31_7ac9d0b4",
      "range": {
        "startLine": 386,
        "startChar": 8,
        "endLine": 386,
        "endChar": 19
      },
      "revId": "95d190580a20ef8eee443fdd8c5ce8436dc02bcc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "334d21b9_aeae40e6",
        "filename": "java/com/google/gerrit/server/index/change/ChangeIndexer.java",
        "patchSetId": 6
      },
      "lineNbr": 578,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2024-01-31T11:51:05Z",
      "side": 1,
      "message": "This index is not necessarily stale, I think this shall be just named `index`.",
      "revId": "95d190580a20ef8eee443fdd8c5ce8436dc02bcc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "aa3db112_7e18c8d5",
        "filename": "java/com/google/gerrit/server/index/change/ChangeIndexer.java",
        "patchSetId": 6
      },
      "lineNbr": 578,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2024-02-05T07:45:41Z",
      "side": 1,
      "message": "Using `index` would shadow the field in the superclass. I have changed it to `indexToCheck`.",
      "parentUuid": "334d21b9_aeae40e6",
      "revId": "95d190580a20ef8eee443fdd8c5ce8436dc02bcc",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}