{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "6f1efd0b_8a42a808",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.ts",
        "patchSetId": 4
      },
      "lineNbr": 1354,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-06-30T09:41:40Z",
      "side": 1,
      "message": "put this in {}, because the the `if` above also has it",
      "range": {
        "startLine": 1354,
        "startChar": 34,
        "endLine": 1354,
        "endChar": 74
      },
      "revId": "96ee23b5595e41aed2b1349be764f75d00ae4ceb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "38ab1edc_6dce0d1d",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.ts",
        "patchSetId": 4
      },
      "lineNbr": 1354,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2021-07-01T14:36:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6f1efd0b_8a42a808",
      "range": {
        "startLine": 1354,
        "startChar": 34,
        "endLine": 1354,
        "endChar": 74
      },
      "revId": "96ee23b5595e41aed2b1349be764f75d00ae4ceb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8fd8f5d9_99f6fbd9",
        "filename": "polygerrit-ui/app/elements/change/gr-thread-list/gr-thread-list.ts",
        "patchSetId": 4
      },
      "lineNbr": 141,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-06-30T09:41:40Z",
      "side": 1,
      "message": "If you call it `focus`, then you should also focus it, not just scroll into view. :-)",
      "revId": "96ee23b5595e41aed2b1349be764f75d00ae4ceb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3918c91e_21954445",
        "filename": "polygerrit-ui/app/elements/change/gr-thread-list/gr-thread-list.ts",
        "patchSetId": 4
      },
      "lineNbr": 141,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2021-07-01T14:36:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8fd8f5d9_99f6fbd9",
      "revId": "96ee23b5595e41aed2b1349be764f75d00ae4ceb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a3b477ad_f8226c5b",
        "filename": "polygerrit-ui/app/elements/shared/gr-comment-thread/gr-comment-thread.ts",
        "patchSetId": 4
      },
      "lineNbr": 234,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-06-30T09:41:40Z",
      "side": 1,
      "message": "Why a resize observer?",
      "revId": "96ee23b5595e41aed2b1349be764f75d00ae4ceb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f2ab9963_ce41a997",
        "filename": "polygerrit-ui/app/elements/shared/gr-comment-thread/gr-comment-thread.ts",
        "patchSetId": 4
      },
      "lineNbr": 234,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2021-06-30T14:53:55Z",
      "side": 1,
      "message": "The scroll was being called before the element was added to the view and hence I needed resizeObserver to determine when it was being added.",
      "parentUuid": "a3b477ad_f8226c5b",
      "revId": "96ee23b5595e41aed2b1349be764f75d00ae4ceb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "deab1fcb_c0ee30aa",
        "filename": "polygerrit-ui/app/elements/shared/gr-comment-thread/gr-comment-thread.ts",
        "patchSetId": 4
      },
      "lineNbr": 234,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-07-01T13:26:45Z",
      "side": 1,
      "message": "Add a comment.",
      "parentUuid": "f2ab9963_ce41a997",
      "revId": "96ee23b5595e41aed2b1349be764f75d00ae4ceb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a9788fbd_b7490211",
        "filename": "polygerrit-ui/app/elements/shared/gr-comment-thread/gr-comment-thread.ts",
        "patchSetId": 4
      },
      "lineNbr": 234,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2021-07-01T14:36:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "deab1fcb_c0ee30aa",
      "revId": "96ee23b5595e41aed2b1349be764f75d00ae4ceb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fee6cb2f_755794d1",
        "filename": "polygerrit-ui/app/elements/shared/gr-comment-thread/gr-comment-thread.ts",
        "patchSetId": 4
      },
      "lineNbr": 242,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-06-30T09:41:40Z",
      "side": 1,
      "message": "I think it would be nice, if the thread list could handle all this. That would have the advantage that we don\u0027t have to push comment ids into threads that don\u0027t have anything to do with it. And it is more of a reponsibility of the surrounding thread list to scroll the comment into view.",
      "range": {
        "startLine": 234,
        "startChar": 4,
        "endLine": 242,
        "endChar": 38
      },
      "revId": "96ee23b5595e41aed2b1349be764f75d00ae4ceb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "17c96641_98621d9f",
        "filename": "polygerrit-ui/app/elements/shared/gr-comment-thread/gr-comment-thread.ts",
        "patchSetId": 4
      },
      "lineNbr": 242,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2021-06-30T14:53:55Z",
      "side": 1,
      "message": "The extra code is due to the timing issue, scrollIntoView needs to wait for  the ResizeObserver to tell it that it\u0027s now attached.\n\nThe alternative is removing focusCommentId from gr-comment-thread, firing an event to gr-thread-list upon attaching to DOM which calls scrollIntoView.\n\nNot sure that is much cleaner, though it does remove sending focusCommentId to gr-comment-thread.",
      "parentUuid": "fee6cb2f_755794d1",
      "range": {
        "startLine": 234,
        "startChar": 4,
        "endLine": 242,
        "endChar": 38
      },
      "revId": "96ee23b5595e41aed2b1349be764f75d00ae4ceb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "10d1b661_114c823c",
        "filename": "polygerrit-ui/app/elements/shared/gr-comment-thread/gr-comment-thread.ts",
        "patchSetId": 4
      },
      "lineNbr": 242,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-07-01T13:26:45Z",
      "side": 1,
      "message": "I understand why you are using a ResizeObserver, but can\u0027t the thread-list create the observer instead of the thread itself?",
      "parentUuid": "17c96641_98621d9f",
      "range": {
        "startLine": 234,
        "startChar": 4,
        "endLine": 242,
        "endChar": 38
      },
      "revId": "96ee23b5595e41aed2b1349be764f75d00ae4ceb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7726420a_d2703c0f",
        "filename": "polygerrit-ui/app/elements/shared/gr-comment-thread/gr-comment-thread.ts",
        "patchSetId": 4
      },
      "lineNbr": 242,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2021-07-01T14:36:37Z",
      "side": 1,
      "message": "Not sure where to put it.\n\nTried adding in the constructor but as expected, it\u0027s being called before the thread element is attached.\n\ngr-comment-thread constructor feels like a natural place to observe \u0026 do some action when it\u0027s added to DOM rather than in thread-list.",
      "parentUuid": "10d1b661_114c823c",
      "range": {
        "startLine": 234,
        "startChar": 4,
        "endLine": 242,
        "endChar": 38
      },
      "revId": "96ee23b5595e41aed2b1349be764f75d00ae4ceb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}