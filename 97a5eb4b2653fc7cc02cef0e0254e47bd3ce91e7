{
  "comments": [
    {
      "key": {
        "uuid": "UDdX7-Po",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 14,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2013-04-25T21:39:54Z",
      "side": 1,
      "message": "This is a very ugly syntax. I would prefer something like:\n\n  label:Code-Review\u003d1 BY user:jsmith\n\nThat means adding a token BY to Query.g to support getting this into the parse tree, and then altering the way the parse tree is handled in QueryBuilder so that the BY operator can connect the label and user/group child nodes together into a meaningful predicate.\n\nCurrently the parser can \"sort of\" grok this:\n\n  label:(Code-Review\u003d1 user:jsmith)\n\nby rewriting this as though you had written:\n\n  label:Code-Review\u003d1 label:user:jsmith\n\nUsing () here to bind these isn\u0027t as easy to use as having a specialized operator \"BY\" that accepts a user/group predicate as a child.",
      "revId": "97a5eb4b2653fc7cc02cef0e0254e47bd3ce91e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UDZUFhCE",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 14,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2013-04-25T22:08:58Z",
      "side": 1,
      "message": "I don\u0027t think using BY is a generic enough extensible mechanism.  Imagine trying to tie in the time of the approval also, how would you do it? \n\n   label:Code-Review\u003d1 BY user:jsmith BY time:\"1hour ago\"\n\nHere the second BY doesn\u0027t make linguistic sense, and what would it be joining?\n\nThe \",keyword\u003dvalue\" mechanism is easily extensible to many scenarios (we have already used it on other custom operators of ours).  It is also possible to make it order insensitive.  The BY seems strange and un-intuitive, it pretends to join 2 predicates but it really isn\u0027t; it is just a mechanism to add additional parameters to the first Predicate.",
      "parentUuid": "UDdX7-Po",
      "revId": "97a5eb4b2653fc7cc02cef0e0254e47bd3ce91e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UDRURdGA",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 14,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2013-04-25T22:28:24Z",
      "side": 1,
      "message": "Maybe we modify the way () works then:\n\n  label:(Code-Review\u003d1 user:jsmith age:1h)\n\nCurrently this is not permitted by the query language, so nobody is using this syntax at present.",
      "parentUuid": "UDZUFhCE",
      "revId": "97a5eb4b2653fc7cc02cef0e0254e47bd3ce91e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UDfUl2LY",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 14,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2013-04-25T22:38:33Z",
      "side": 1,
      "message": "Is your intention to require that every term like \"age\" be a predicate which exists outside of the context of the leftmost predicate (label in this case)?  How would the age predicate be implemented, would it now have to understand how to do ages for changes and for approvals (and any new thing which can be joined with age)?\n\nWhat about auto completion suggestions?  If I type label:Code-Review\u003d1 and then want to add another argument, what do I do (do I have to go back and add in the paren)?  With a comma this should be easy to make work.",
      "parentUuid": "UDRURdGA",
      "revId": "97a5eb4b2653fc7cc02cef0e0254e47bd3ce91e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "UDjQMcEg",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 14,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2013-04-25T22:42:24Z",
      "side": 1,
      "message": "The existing AgePredicate wouldn\u0027t know about this usage in a label. Instead we would make the additional fields available to the LabelPredicate as arguments similar to what this change wants to do, and then its up to LabelPredicate to grok these. It could run a new type of PredicateBuilder to convert the parse tree for itself.\n\nAs far as autocomplete, yes, you would have to go back and insert a ( after the label: operator to indicate the grouping, and we would need specialized auto-complete for label: to recognize what parameters are valid within that scope.\n\nIf we are doing a specialized autocomplete for label then we might be able to hint suggestions so that a completion attempt for:\n\n  label:Code-\n\nwould offer things like:\n\n  label:Code-Review\u003d2\n  label:(Code-Review\u003d2 user:\n  label:(Code-Review\u003d2 age:\n\nto give the user a hint on what replacement they can take.",
      "parentUuid": "UDfUl2LY",
      "revId": "97a5eb4b2653fc7cc02cef0e0254e47bd3ce91e7",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}