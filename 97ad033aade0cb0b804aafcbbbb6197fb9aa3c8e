{
  "pushCert": "certificate version 0.1\npusher A0D0EF51 1494236192 +0200\nnonce APbwY4pIoUB4xAPGz4BMlnMNXOyBSG8hUScxtnSz/HQIKJSMs+8O+BacNwNVC+iq6TsEKSf5gPUY\n\n0000000000000000000000000000000000000000 97ad033aade0cb0b804aafcbbbb6197fb9aa3c8e refs/for/master\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQEcBAABAgAGBQJZEDwgAAoJEFG1/Zeg0O9RNwoIAIkxKbfYt6L1xu+sAMDO8hbZ\nEp4uI/EUTLxa8DX+kRfoBSFkxTZnZbkNhYcJOfRlFCtRmTgRXIbsqhtls/XnP1D/\nmkAaQH1ruMA4BJ64k+PZY7YOqpXVOfmcN4nOF+AtduuJ1fG0e8OUduIIZeDz4+KD\nGJn/COqKpZ+ftwUYvr5kKmASkEFferCh15hAXYsZlcqPj6JkgYT+1oITZaDAdAhZ\nqKrXbP3YQRQjC8ou3hTMVUXClfguEoQMTllxcIuJPfx3wuYWDD3+bvq+WfYoqHdZ\njKcOzrjXEAxXMyhqLFYuBVg1M2V3SpoZtknFueab3DZG5WKgd/9s1+xIq/DO7rA\u003d\n\u003dldpA\n-----END PGP SIGNATURE-----\n",
  "comments": [
    {
      "key": {
        "uuid": "6df83bfc_82039740",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-05-10T15:55:59Z",
      "side": 1,
      "message": "This is a sizable behavior change from the way the index system was originally designed, but I\u0027m ok with it.\n\nThe original reason for supporting mixed index/non-index terms for things that we planned to be in the index *eventually* was so we could incrementally add support for them during the initial implementation stage. But we are far past that stage, so I don\u0027t think that argument still applies.\n\nActually, I think if we do this, then we can also remove Matchable from ChangeIndexPredicate, which would be awesome.",
      "range": {
        "startLine": 11,
        "startChar": 22,
        "endLine": 12,
        "endChar": 31
      },
      "revId": "97ad033aade0cb0b804aafcbbbb6197fb9aa3c8e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "de0d35a7_29a77a73",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2017-05-10T16:38:45Z",
      "side": 1,
      "message": "You can still mix index/non-index terms. Only when you implement an IndexPredicate which is mapped to a field in the index, this field must exist. Non index predicates such as IsMergePredicate, OwnerinPredicate and ChangeIsVisibleToPredicate still work. I\u0027m afraid at least those still need Matchable.",
      "parentUuid": "6df83bfc_82039740",
      "range": {
        "startLine": 11,
        "startChar": 22,
        "endLine": 12,
        "endChar": 31
      },
      "revId": "97ad033aade0cb0b804aafcbbbb6197fb9aa3c8e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d3b5fb96_3f406b4e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-05-10T16:50:23Z",
      "side": 1,
      "message": "Right, that\u0027s what I mean, I was only talking about removing Matchable from ChangeIndexPredicate. In other words, if both:\n\n* it is an error to construct a query containing a ChangeIndexPredicate where the corresponding field is not in the index\n* if there is an index predicate subtree in the query, then that subtree is always chosen as the ChangeDataSource\n\nthen there is no need for index predicate implementations to implement Matchable.",
      "parentUuid": "de0d35a7_29a77a73",
      "range": {
        "startLine": 11,
        "startChar": 22,
        "endLine": 12,
        "endChar": 31
      },
      "revId": "97ad033aade0cb0b804aafcbbbb6197fb9aa3c8e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b3dc3535_1d8e408d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2017-05-11T12:52:03Z",
      "side": 1,
      "message": "Would indeed be nice if we could get rid of all the Matchable implementations in the ChangeIndexPredicates, but we are not there yet. At least if I naively remove all of them, some tests start failing and I didn\u0027t find a fast solution to fix them. Let\u0027s submit this change and see if we can do this cleanup later.",
      "parentUuid": "d3b5fb96_3f406b4e",
      "range": {
        "startLine": 11,
        "startChar": 22,
        "endLine": 12,
        "endChar": 31
      },
      "revId": "97ad033aade0cb0b804aafcbbbb6197fb9aa3c8e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bd05edf_abbcbe8b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 12,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-05-11T13:18:19Z",
      "side": 1,
      "message": "Ack, I did not mean for that to block this change.",
      "parentUuid": "b3dc3535_1d8e408d",
      "range": {
        "startLine": 11,
        "startChar": 22,
        "endLine": 12,
        "endChar": 31
      },
      "revId": "97ad033aade0cb0b804aafcbbbb6197fb9aa3c8e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}