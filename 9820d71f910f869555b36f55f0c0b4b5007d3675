{
  "comments": [
    {
      "key": {
        "uuid": "307ae4aa_141714ec",
        "filename": "Documentation/config-gerrit.txt",
        "patchSetId": 14
      },
      "lineNbr": 2110,
      "author": {
        "id": 1017389
      },
      "writtenOn": "2014-10-06T06:24:35Z",
      "side": 1,
      "message": "I assume HTTPS will be supported out of box, but we should also support authentication. Doesn\u0027t appear to be any support for it in JEST though :-/",
      "revId": "9820d71f910f869555b36f55f0c0b4b5007d3675",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1077a0c2_d3553491",
        "filename": "Documentation/config-gerrit.txt",
        "patchSetId": 14
      },
      "lineNbr": 2117,
      "author": {
        "id": 1017389
      },
      "writtenOn": "2014-10-06T06:24:35Z",
      "side": 1,
      "message": "Will this be compatible with a (future?) change to support online index rebuilds via aliases?\n\nhttp://www.elasticsearch.org/guide/en/elasticsearch/guide/current/index-aliases.html\n\nI\u0027m thinking we\u0027ll want to have one configuration parameter containing the name of the read index, which is actually an alias pointing to the index that\u0027s currently online. We may then want another parameter (or two) containing the names of the actual indexes. Something like\n\n index.name \u003d gerrit\n index.alternating-names \u003d gerrit-a, gerrit-b\n\nperhaps? With that feature in place I\u0027d find it more descriptive to call index.name something else, like index.alias or index.readonly, but that wouldn\u0027t fly with an implementation without online reindexing support.",
      "revId": "9820d71f910f869555b36f55f0c0b4b5007d3675",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b07b3336_cbcf35c7",
        "filename": "gerrit-elasticsearch/src/main/java/com/google/gerrit/elasticsearch/ElasticsearchChangeIndex.java",
        "patchSetId": 14
      },
      "lineNbr": 197,
      "author": {
        "id": 1017389
      },
      "writtenOn": "2014-09-18T19:41:43Z",
      "side": 1,
      "message": "Quite possibly a premature optimization, but the bulk API would allow us to perform both operations with a single server RTT and a single index refresh (although the latter could be accomplished by other means).\n\nhttp://www.elasticsearch.org/guide/en/elasticsearch/reference/current/docs-bulk.html",
      "range": {
        "startLine": 196,
        "startChar": 0,
        "endLine": 197,
        "endChar": 35
      },
      "revId": "9820d71f910f869555b36f55f0c0b4b5007d3675",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90df0f7f_8207ba3a",
        "filename": "gerrit-elasticsearch/src/main/java/com/google/gerrit/elasticsearch/ElasticsearchChangeIndex.java",
        "patchSetId": 14
      },
      "lineNbr": 197,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-09-19T19:13:56Z",
      "side": 1,
      "message": "+1\n\nThough I assume you mean a single index refresh call, since I thought these were independent Lucene indexes and thus would necessarily be flushed separately on the backend.",
      "parentUuid": "b07b3336_cbcf35c7",
      "range": {
        "startLine": 196,
        "startChar": 0,
        "endLine": 197,
        "endChar": 35
      },
      "revId": "9820d71f910f869555b36f55f0c0b4b5007d3675",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30902399_4f16ed68",
        "filename": "gerrit-elasticsearch/src/main/java/com/google/gerrit/elasticsearch/ElasticsearchChangeIndex.java",
        "patchSetId": 14
      },
      "lineNbr": 197,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2014-09-20T12:05:19Z",
      "side": 1,
      "message": "Yes, the add and remove can probably be done in a single call to the bulk API.  I\u0027ll look into implementing this, but there are other things that ought to be fixed first.",
      "parentUuid": "90df0f7f_8207ba3a",
      "range": {
        "startLine": 196,
        "startChar": 0,
        "endLine": 197,
        "endChar": 35
      },
      "revId": "9820d71f910f869555b36f55f0c0b4b5007d3675",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b07b3336_8b704d5a",
        "filename": "gerrit-elasticsearch/src/main/java/com/google/gerrit/elasticsearch/ElasticsearchChangeIndex.java",
        "patchSetId": 14
      },
      "lineNbr": 197,
      "author": {
        "id": 1017389
      },
      "writtenOn": "2014-09-22T08:57:28Z",
      "side": 1,
      "message": "\u003e ... but there are other things that ought to be fixed first.\n\nI realize this is still WIP. Should we have discussions about more big-picture stuff like online reindexing and use of the bulk API for bulk-able operations in this change or should we move it elsewhere? Having a sense of direction on those items could be good even if we can implement them as follow-up changes.",
      "parentUuid": "30902399_4f16ed68",
      "range": {
        "startLine": 196,
        "startChar": 0,
        "endLine": 197,
        "endChar": 35
      },
      "revId": "9820d71f910f869555b36f55f0c0b4b5007d3675",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b07b3336_eb7b113c",
        "filename": "gerrit-elasticsearch/src/main/java/com/google/gerrit/elasticsearch/ElasticsearchChangeIndex.java",
        "patchSetId": 14
      },
      "lineNbr": 197,
      "author": {
        "id": 1017389
      },
      "writtenOn": "2014-09-22T08:57:28Z",
      "side": 1,
      "message": "\u003e Though I assume you mean a single index refresh call ...\n\nYes, it\u0027s only the refresh RPC I was talking about. Such a call can indeed result in more than one physical refresh of a Lucene index.",
      "parentUuid": "90df0f7f_8207ba3a",
      "range": {
        "startLine": 196,
        "startChar": 0,
        "endLine": 197,
        "endChar": 35
      },
      "revId": "9820d71f910f869555b36f55f0c0b4b5007d3675",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30902399_0f6b05bc",
        "filename": "gerrit-elasticsearch/src/main/java/com/google/gerrit/elasticsearch/ElasticsearchChangeIndex.java",
        "patchSetId": 14
      },
      "lineNbr": 197,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2014-09-22T09:03:03Z",
      "side": 1,
      "message": "\u003e  Should we have discussions about more big-picture stuff like online reindexing and use of the bulk API for bulk-able operations in this change or should we move it elsewhere?\n\nWe can keep it here.  Not all of the operations are easily \"bulk-able\" though since the interface is called for single changes.\n\nI was thinking about adding an API on the index interface to add a \"bulk replace\" but that should of course be done in a separate change.",
      "parentUuid": "b07b3336_8b704d5a",
      "range": {
        "startLine": 196,
        "startChar": 0,
        "endLine": 197,
        "endChar": 35
      },
      "revId": "9820d71f910f869555b36f55f0c0b4b5007d3675",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}