{
  "pushCert": "certificate version 0.1\npusher Dave Borowitz \u003cdborowitz@google.com\u003e 1477944344 -0400\nnonce AG58fQpUWtA4Lytl0ol88DF68t20dRTp5MYnHWGycd/LgR0T2PTcnEfoW0+lUaMqOlTu/CBYypTf\n\n0000000000000000000000000000000000000000 47a7607658cc79fa2c6e630878f3e11ad263cdb5 refs/for/master\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJYF6QYAAoJEF/XxZqaEoiMq58QANYrCLCUiaXS3uDd+p4rdvfL\nW5dVNm7mqTB5+gFDOab4S2gnfV+Z2Fbi92UspVwG+DB1HrWYWevS3aflFXt04pKg\ntL14in44ZxnSJCvL4t4Hf+6Xww3mviyMVB+x/gsjkvlUZcWZx61oXKkdl76i6y/R\nLlLCXId3LNykqY/uYdU41aCviD34FDG0c0Ynb6pFMcteetavHPPBFGGza79YqOE5\nCEHI6tbKwX9R3amEbqNQsEO6zuYIW1ogAmm1yHKBk7u/ct6J6G6a/oDVAlsobviN\njMGK7elQipM4Xb4kImqaotmbDp+kBRVxpokXJrFpPx9huANCghlnhBHM3XZK80Oo\neOAIzERakPFirvoUyCXTkJ4OqdcUwlvJi1NH1lUhp4HNlxHC3E+X57VZAWYOeNtd\nIIQ+54JHh8TxiWJLD6lMDpDHueTK0NrIW4ETKSBFfxwNve911xi9nSx3hgzkQAzV\nzfjlY1i3dm9PW8qoKr8PAsShf64f0FCbyBbdr7Li7V7ZcMDMMJfWQAP8uZEMhfj8\niPbUJBbtvQr3j6vPpfA8lFMe9Xo9b5bD3xBL6bhJ4jJ0PBKK417oiSEkVrTwwMEc\nKreuqxPjpcr4L11OshkYuiKMG6qydIn7ZtUhpHHMFmpPStXPu6HlPsvpP4d/PsVm\ng26cxIztF6kqHr0hVc+B\n\u003d8Pgz\n-----END PGP SIGNATURE-----\n",
  "comments": [
    {
      "key": {
        "uuid": "c6d852b2_4a2dd3f0",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/BatchUpdate.java",
        "patchSetId": 4
      },
      "lineNbr": 948,
      "author": {
        "id": 1019407
      },
      "writtenOn": "2016-11-02T17:07:26Z",
      "side": 1,
      "message": "If primary storage is notedb, why do you have to look at any migration state? I would think that would only be for reverse migration, which the change description declared is not addressed here.\n\nIs there a fuller explanation of post migration states somewhere?",
      "range": {
        "startLine": 947,
        "startChar": 0,
        "endLine": 948,
        "endChar": 0
      },
      "revId": "995f4f62dbbe9b6b67e55f523260bb1fa55f950a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c6d852b2_4a0e7353",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/BatchUpdate.java",
        "patchSetId": 4
      },
      "lineNbr": 948,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-11-02T21:47:43Z",
      "side": 1,
      "message": "\u003e If primary storage is notedb, why do you have to look at any migration state?\n\nThis is just a sanity check in case you accidentally turn off NoteDb reads once you\u0027ve started migrating the PrimaryStorages. If we didn\u0027t this check, we might start writing data back to ReviewDb for migrated changes, which would make things irreparably out of sync.\n\n \u003e Is there a fuller explanation of post migration states somewhere?\n\nI\u0027m not sure what you\u0027re asking here.",
      "parentUuid": "c6d852b2_4a2dd3f0",
      "revId": "995f4f62dbbe9b6b67e55f523260bb1fa55f950a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c6d852b2_8aa98b36",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/BatchUpdate.java",
        "patchSetId": 4
      },
      "lineNbr": 993,
      "author": {
        "id": 1019407
      },
      "writtenOn": "2016-11-02T17:07:26Z",
      "side": 1,
      "message": "Seems very spammy, with not much value.",
      "range": {
        "startLine": 990,
        "startChar": 0,
        "endLine": 993,
        "endChar": 0
      },
      "revId": "995f4f62dbbe9b6b67e55f523260bb1fa55f950a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "46a38215_0e392b06",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/BatchUpdate.java",
        "patchSetId": 4
      },
      "lineNbr": 993,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-11-02T21:47:43Z",
      "side": 1,
      "message": "It\u0027s a debug log which is already pretty chatty. IMO this has equal value to the existing logDebug statements in the if block.\n\nPut another way, if I\u0027m walking through a debug log and the corresponding code, I would want to know why you\u0027re *not* seeing the \"Updating change\" message. If I stare hard enough at the code I can probably figure out it\u0027s due to the PrimaryStorage thing, but I would rather not have that cognitive overhead.",
      "parentUuid": "c6d852b2_8aa98b36",
      "revId": "995f4f62dbbe9b6b67e55f523260bb1fa55f950a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c6d852b2_cab3839e",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/notedb/ChangeNotesState.java",
        "patchSetId": 4
      },
      "lineNbr": 178,
      "author": {
        "id": 1019407
      },
      "writtenOn": "2016-11-02T17:07:26Z",
      "side": 1,
      "message": "columns() is still documented as @Nullable",
      "revId": "995f4f62dbbe9b6b67e55f523260bb1fa55f950a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "46a38215_6e36ef15",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/notedb/ChangeNotesState.java",
        "patchSetId": 4
      },
      "lineNbr": 178,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-11-02T21:47:43Z",
      "side": 1,
      "message": "On the LHS we have checkNotNull(columns()) to throw NPE indicating it\u0027s programmer error if you call this method on a ChangeNotesState whose columns() is null.\n\nRemoving the checkNotNull doesn\u0027t change the behavior: it still throws NPE. But your comment is telling me there was some value to having checkNotNull explicitly check the expected precondition against programmer error. Replaced.",
      "parentUuid": "c6d852b2_cab3839e",
      "revId": "995f4f62dbbe9b6b67e55f523260bb1fa55f950a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "46a38215_ce40c3a3",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/notedb/NoteDbUpdateManager.java",
        "patchSetId": 4
      },
      "lineNbr": 528,
      "author": {
        "id": 1019407
      },
      "writtenOn": "2016-11-02T17:07:26Z",
      "side": 1,
      "message": "Now throws a MismatchedStateException",
      "range": {
        "startLine": 528,
        "startChar": 11,
        "endLine": 528,
        "endChar": 34
      },
      "revId": "995f4f62dbbe9b6b67e55f523260bb1fa55f950a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c6d852b2_aaf9ef14",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/notedb/NoteDbUpdateManager.java",
        "patchSetId": 4
      },
      "lineNbr": 528,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-11-02T21:47:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "46a38215_ce40c3a3",
      "revId": "995f4f62dbbe9b6b67e55f523260bb1fa55f950a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}