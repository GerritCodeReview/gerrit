{
  "comments": [
    {
      "key": {
        "uuid": "76648d70_6cc580e3",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/git/GitOverHttpServletIT.java",
        "patchSetId": 4
      },
      "lineNbr": 48,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2018-11-26T13:06:57Z",
      "side": 1,
      "message": "I wonder why this is necessary? Which part of the filter chain runs asynchronous? Or is it a part of the audit events code?\n\nAny chance we can make this synchronous instead?",
      "range": {
        "startLine": 48,
        "startChar": 4,
        "endLine": 48,
        "endChar": 16
      },
      "revId": "997f5be8b232ab5379deeceb88d2486814b6be84",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "83464026_587e7aaf",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/git/GitOverHttpServletIT.java",
        "patchSetId": 4
      },
      "lineNbr": 48,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2018-11-26T13:50:15Z",
      "side": 1,
      "message": "The integration test runs a Git/HTTP client against a Gerrit Git/HTTP server code. The audit gets fired when the request completes on the server. Without a waitForAudit() if may statistically happen that the test is faster than the server and thus the audit events are not published yet.\n\nThis is the reason why it was flaky before. It is a wait on the test code, not on Gerrit :-)",
      "parentUuid": "76648d70_6cc580e3",
      "range": {
        "startLine": 48,
        "startChar": 4,
        "endLine": 48,
        "endChar": 16
      },
      "revId": "997f5be8b232ab5379deeceb88d2486814b6be84",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "62931fa5_fb081e2e",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/GitOverHttpServlet.java",
        "patchSetId": 4
      },
      "lineNbr": 218,
      "author": {
        "id": 1031898
      },
      "writtenOn": "2018-11-26T14:57:48Z",
      "side": 1,
      "message": "This is not compatible with v2.5 because in v2.5 this method returns a generic \"Map\" without specific key-value types. One possible fix:\n\nMap\u003cString, String[]\u003e parameterMap \u003d (Map\u003cString, String[]\u003e) request.getParameterMap();\n      parameterMap.forEach(\n          (k, v) -\u003e {\n            for (String aV : v) {\n              multiMap.put(k, aV);\n            }\n          });",
      "range": {
        "startLine": 211,
        "startChar": 6,
        "endLine": 218,
        "endChar": 17
      },
      "revId": "997f5be8b232ab5379deeceb88d2486814b6be84",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "493286a2_917300fb",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/GitOverHttpServlet.java",
        "patchSetId": 4
      },
      "lineNbr": 218,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2018-11-26T21:28:14Z",
      "side": 1,
      "message": "SGTM, will apply your suggestion.",
      "parentUuid": "62931fa5_fb081e2e",
      "range": {
        "startLine": 211,
        "startChar": 6,
        "endLine": 218,
        "endChar": 17
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "997f5be8b232ab5379deeceb88d2486814b6be84",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6d6bda04_f74569c5",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/GitOverHttpServlet.java",
        "patchSetId": 4
      },
      "lineNbr": 355,
      "author": {
        "id": 1031898
      },
      "writtenOn": "2018-11-26T14:57:48Z",
      "side": 1,
      "message": "Remove this unnecessary empty line?",
      "revId": "997f5be8b232ab5379deeceb88d2486814b6be84",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04d4fe0f_325f9825",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/GitOverHttpServlet.java",
        "patchSetId": 4
      },
      "lineNbr": 355,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2018-11-26T21:28:14Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "6d6bda04_f74569c5",
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "997f5be8b232ab5379deeceb88d2486814b6be84",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b07c70f8_8ffe38dc",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/GitOverHttpServlet.java",
        "patchSetId": 4
      },
      "lineNbr": 364,
      "author": {
        "id": 1031898
      },
      "writtenOn": "2018-11-26T14:57:48Z",
      "side": 1,
      "message": "Should \"responseWrapper\" be used here instead of \"response\"?",
      "range": {
        "startLine": 364,
        "startChar": 14,
        "endLine": 364,
        "endChar": 44
      },
      "revId": "997f5be8b232ab5379deeceb88d2486814b6be84",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f69d5041_48f7f0a1",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/GitOverHttpServlet.java",
        "patchSetId": 4
      },
      "lineNbr": 364,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2018-11-26T21:28:14Z",
      "side": 1,
      "message": "Good catch :-)",
      "parentUuid": "b07c70f8_8ffe38dc",
      "range": {
        "startLine": 364,
        "startChar": 14,
        "endLine": 364,
        "endChar": 44
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "997f5be8b232ab5379deeceb88d2486814b6be84",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ca0f8966_21170175",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/GitOverHttpServlet.java",
        "patchSetId": 4
      },
      "lineNbr": 369,
      "author": {
        "id": 1031898
      },
      "writtenOn": "2018-11-26T14:57:48Z",
      "side": 1,
      "message": "This is the same with the old code, but we should also an error status code in this case, right?",
      "range": {
        "startLine": 369,
        "startChar": 10,
        "endLine": 369,
        "endChar": 40
      },
      "revId": "997f5be8b232ab5379deeceb88d2486814b6be84",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4504e3df_5c3c613d",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/GitOverHttpServlet.java",
        "patchSetId": 4
      },
      "lineNbr": 378,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2018-11-26T13:06:57Z",
      "side": 1,
      "message": "nit: ImmutableList",
      "range": {
        "startLine": 378,
        "startChar": 16,
        "endLine": 378,
        "endChar": 34
      },
      "revId": "997f5be8b232ab5379deeceb88d2486814b6be84",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0f3ba521_e598d575",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/GitOverHttpServlet.java",
        "patchSetId": 4
      },
      "lineNbr": 378,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2018-11-26T13:50:15Z",
      "side": 1,
      "message": "Good point, it was possibly missed in the previous review.",
      "parentUuid": "4504e3df_5c3c613d",
      "range": {
        "startLine": 378,
        "startChar": 16,
        "endLine": 378,
        "endChar": 34
      },
      "revId": "997f5be8b232ab5379deeceb88d2486814b6be84",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "07ed4624_930376a4",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/GitOverHttpServlet.java",
        "patchSetId": 4
      },
      "lineNbr": 470,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2018-11-26T13:06:57Z",
      "side": 1,
      "message": "I think this code would benefit from putting it into an doFilterImpl and then have\n\ndoFilter(...) {\ntry {\nfoFilterImpl(...)\n} finally {\naudit event code\n}",
      "revId": "997f5be8b232ab5379deeceb88d2486814b6be84",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "734b2430_9bb0bc0b",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/GitOverHttpServlet.java",
        "patchSetId": 4
      },
      "lineNbr": 470,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2018-11-26T13:50:15Z",
      "side": 1,
      "message": "Yes, it will be more readable indeed. However, we are in a stable-2.15 (2 releases back from master). Would that create conflicts when merged upstream?",
      "parentUuid": "07ed4624_930376a4",
      "revId": "997f5be8b232ab5379deeceb88d2486814b6be84",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "253102b2_083e709c",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/GitOverHttpServlet.java",
        "patchSetId": 4
      },
      "lineNbr": 479,
      "author": {
        "id": 1031898
      },
      "writtenOn": "2018-11-26T14:57:48Z",
      "side": 1,
      "message": "same above.",
      "range": {
        "startLine": 479,
        "startChar": 14,
        "endLine": 479,
        "endChar": 45
      },
      "revId": "997f5be8b232ab5379deeceb88d2486814b6be84",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "94e519c7_31811aa6",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/GitOverHttpServlet.java",
        "patchSetId": 4
      },
      "lineNbr": 479,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2018-11-26T21:28:14Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "253102b2_083e709c",
      "range": {
        "startLine": 479,
        "startChar": 14,
        "endLine": 479,
        "endChar": 45
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "997f5be8b232ab5379deeceb88d2486814b6be84",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cf9fa788_aa54dabb",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/GitOverHttpServlet.java",
        "patchSetId": 4
      },
      "lineNbr": 484,
      "author": {
        "id": 1031898
      },
      "writtenOn": "2018-11-26T14:57:48Z",
      "side": 1,
      "message": "Consider setting an error status here, but it\u0027s something out the scope of this change though.",
      "range": {
        "startLine": 484,
        "startChar": 10,
        "endLine": 484,
        "endChar": 40
      },
      "revId": "997f5be8b232ab5379deeceb88d2486814b6be84",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5ea3af7a_7866ab79",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/GitOverHttpServlet.java",
        "patchSetId": 4
      },
      "lineNbr": 484,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2018-11-26T21:28:14Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "cf9fa788_aa54dabb",
      "range": {
        "startLine": 484,
        "startChar": 10,
        "endLine": 484,
        "endChar": 40
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "997f5be8b232ab5379deeceb88d2486814b6be84",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c362f506_58b76563",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/GitOverHttpServlet.java",
        "patchSetId": 4
      },
      "lineNbr": 491,
      "author": {
        "id": 1031898
      },
      "writtenOn": "2018-11-26T14:57:48Z",
      "side": 1,
      "message": "shoud this be the wrapper class instance?",
      "range": {
        "startLine": 491,
        "startChar": 14,
        "endLine": 491,
        "endChar": 44
      },
      "revId": "997f5be8b232ab5379deeceb88d2486814b6be84",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa6f30aa_e52b082c",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/GitOverHttpServlet.java",
        "patchSetId": 4
      },
      "lineNbr": 491,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2018-11-26T21:28:14Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "c362f506_58b76563",
      "range": {
        "startLine": 491,
        "startChar": 14,
        "endLine": 491,
        "endChar": 44
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "997f5be8b232ab5379deeceb88d2486814b6be84",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "17993f28_f0eb2f12",
        "filename": "gerrit-server/src/test/java/com/google/gerrit/testutil/FakeAuditService.java",
        "patchSetId": 4
      },
      "lineNbr": 60,
      "author": {
        "id": 1031898
      },
      "writtenOn": "2018-11-26T14:57:48Z",
      "side": 1,
      "message": "The commit message doesn\u0027t say about this code change. Could you add a short description here or in the commit message?",
      "range": {
        "startLine": 57,
        "startChar": 3,
        "endLine": 60,
        "endChar": 5
      },
      "revId": "997f5be8b232ab5379deeceb88d2486814b6be84",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}