{
  "pushCert": "certificate version 0.1\npusher Dave Borowitz \u003cdborowitz@google.com\u003e 1497303218 -0400\nnonce AH5c86A2hNdphdnVEEGJkK4pKwC1L/5rvEXgtUo2v4D+SzBhIR5LO9TXpeqK762UJNd4oe9zRUcB\n\n0000000000000000000000000000000000000000 053e1c3fc3ced828cef26a0fc80aa0431ebdb062 refs/for/master\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJZPwiyAAoJEF/XxZqaEoiMLDMP/iyBa1qmbecZEb91K+SWKk5C\nb1tT/pUY7BpBT2CJc7IT7/7SRlkZs4lFliGrBKIyd3uvHyANqGahIF+xZMeecWW1\nPTrjxQPvgCeJFezD0NsVS5eyI1YOOMGDYDkceOg7aUZsHauRxlm9dGKlj8VAVCQD\nz9RlcgoPzv9ZSThNEuMPV7RuVuGN/rmPP3bB22eVdj8Om776a/TjDCAem4F5WlQ3\nvug3sYBi10ybmmPXVOwlGu8DkJJgVZSOXfNBxpSwBs6oc1UZL1aLygaacs8+wzlX\nUmd3Q4bgrL2Mj3KFLg8r4L+rrNXbd3v5pLEbV9csVJPAbd/bulss1/oMUUCG25qI\nMdhuK0EfxzjUGsjf5HGJJJ6jKKwenCNHA0INgyL7NSzMn4Orszy9+FRFWAZlgAX6\nZ5hjXjDd6OhG0zwmU4z+XldHdVKMp3QXkwqqdnlHVSKWvXp2LUR89owixSJrzKhr\n/hY3rY5ekrg+7jctrNPZMa031BnB/T8TmjGviUp4BiRE+s72YidMJeuXkq0OzfPC\nZtBUwd/PesORcLckhXFSW5PvKhf4WvuLITNAwEkvYYiXTptiWyiOfStcCKC0Oc3w\nASJkykuzkS27rzS2AzoHXwkv6ppV4S1muse5NKwbWhNUhAXtYvV55DqT+YhjLjZn\nPt5Z4rnx6sl+bSfOHGu1\n\u003dJt22\n-----END PGP SIGNATURE-----\n",
  "comments": [
    {
      "key": {
        "uuid": "6e2a46d2_3c913844",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/notedb/NotesMigration.java",
        "patchSetId": 2
      },
      "lineNbr": 23,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-06-13T04:30:08Z",
      "side": 1,
      "message": "I found the term \"entity group\", that was even explained in the base version clearer, but would be OK with never used else where \"subtables\" term.",
      "range": {
        "startLine": 23,
        "startChar": 56,
        "endLine": 23,
        "endChar": 65
      },
      "revId": "9a1463a2aa1109f5b18da6e4def2376fcf4489d2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "369152a4_413c781d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/notedb/NotesMigration.java",
        "patchSetId": 2
      },
      "lineNbr": 23,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-06-13T14:49:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6e2a46d2_3c913844",
      "range": {
        "startLine": 23,
        "startChar": 56,
        "endLine": 23,
        "endChar": 65
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "9a1463a2aa1109f5b18da6e4def2376fcf4489d2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1c3c7ac6_a13e98cf",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/notedb/NotesMigration.java",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-06-13T04:30:08Z",
      "side": 1,
      "message": "I guess I understand what you meant here, but I think this statement would be much easier to grasp if you would use perception \"different sites\" instead of \"given site\":\n\n  ...it is possible for *different* sites at the same ReviewDb schema version \\\n  to have varying migration states to NoteDb.",
      "range": {
        "startLine": 23,
        "startChar": 73,
        "endLine": 24,
        "endChar": 87
      },
      "revId": "9a1463a2aa1109f5b18da6e4def2376fcf4489d2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0b76d1d6_f1894b0a",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/notedb/NotesMigration.java",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-06-13T14:10:05Z",
      "side": 1,
      "message": "I understood the Javadoc comment to refer to different entities like changes, accounts, or groups. The migration for them is done individually and hence there are different migration states.",
      "parentUuid": "1c3c7ac6_a13e98cf",
      "range": {
        "startLine": 23,
        "startChar": 73,
        "endLine": 24,
        "endChar": 87
      },
      "revId": "9a1463a2aa1109f5b18da6e4def2376fcf4489d2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "83fce340_a209f7d7",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/notedb/NotesMigration.java",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-06-13T14:49:16Z",
      "side": 1,
      "message": "Reworded, PTAL",
      "parentUuid": "0b76d1d6_f1894b0a",
      "range": {
        "startLine": 23,
        "startChar": 73,
        "endLine": 24,
        "endChar": 87
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "9a1463a2aa1109f5b18da6e4def2376fcf4489d2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "782c76c7_3817be8a",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/notedb/NotesMigration.java",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-06-13T14:10:05Z",
      "side": 1,
      "message": "Wouldn\u0027t \u0027Most\u0027 sound better?",
      "range": {
        "startLine": 29,
        "startChar": 6,
        "endLine": 29,
        "endChar": 10
      },
      "revId": "9a1463a2aa1109f5b18da6e4def2376fcf4489d2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "15b4f975_a366dfb6",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/notedb/NotesMigration.java",
        "patchSetId": 2
      },
      "lineNbr": 29,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-06-13T14:49:16Z",
      "side": 1,
      "message": "I specifically didn\u0027t say \"most\" because it means \"more than half\" which implies I actually counted, which I didn\u0027t and don\u0027t plan to. But I don\u0027t disagree that \"much\" sounds stilted; reworded.",
      "parentUuid": "782c76c7_3817be8a",
      "range": {
        "startLine": 29,
        "startChar": 6,
        "endLine": 29,
        "endChar": 10
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "9a1463a2aa1109f5b18da6e4def2376fcf4489d2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7cd805ed_db1d69a0",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/notedb/NotesMigration.java",
        "patchSetId": 2
      },
      "lineNbr": 30,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-06-13T04:30:08Z",
      "side": 1,
      "message": "ChangeNotes class doesn\u0027t have ReviewDb, so that all method signatures require ReviewDb to be passed in addition to work on ReviewDb, e.g.:\n\n  public ReviewerSet getReviewers(ReviewDb db, ChangeNotes notes) { ...\n\nNot sure such implementation details belong to this high level documentation.",
      "range": {
        "startLine": 30,
        "startChar": 61,
        "endLine": 30,
        "endChar": 72
      },
      "revId": "9a1463a2aa1109f5b18da6e4def2376fcf4489d2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a39288f_f70dfd8c",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/notedb/NotesMigration.java",
        "patchSetId": 2
      },
      "lineNbr": 30,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-06-13T14:49:16Z",
      "side": 1,
      "message": "The goal of this paragraph is to explain why many places in Gerrit should prefer high-level APIs rather than using NotesMigration directly. I can do that without referring to ChangeNotes, but I left in the reference to ApprovalsUtil as an example of such a high-level API.",
      "parentUuid": "7cd805ed_db1d69a0",
      "range": {
        "startLine": 30,
        "startChar": 61,
        "endLine": 30,
        "endChar": 72
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "9a1463a2aa1109f5b18da6e4def2376fcf4489d2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6476b3f7_50ea5299",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/notedb/NotesMigration.java",
        "patchSetId": 2
      },
      "lineNbr": 44,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-06-13T04:30:08Z",
      "side": 1,
      "message": "Does this apply to open source gerrit? If not (or if not yet), why add it now?",
      "range": {
        "startLine": 43,
        "startChar": 3,
        "endLine": 44,
        "endChar": 65
      },
      "revId": "9a1463a2aa1109f5b18da6e4def2376fcf4489d2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7b60bd66_7990eb16",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/notedb/NotesMigration.java",
        "patchSetId": 2
      },
      "lineNbr": 44,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-06-13T14:49:16Z",
      "side": 1,
      "message": "It certainly already applies to tests using TestNotesMigration, which has volatile booleans for modifying the values at runtime. ChangeRebuilderIT in particular makes heavy use of this, and there are others.\n\nThe reason to start emphasizing it now is this change is the start of a long series that will culminate in an online NoteDb migration tool :)\n\n(It actually *doesn\u0027t* apply to googlesource.com--all of our NoteDb migration config changes were done by editing gerrit.config. We just also have a quick way of reloading a site in the multi-tenant environment whenever the config changes.)",
      "parentUuid": "6476b3f7_50ea5299",
      "range": {
        "startLine": 43,
        "startChar": 3,
        "endLine": 44,
        "endChar": 65
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "9a1463a2aa1109f5b18da6e4def2376fcf4489d2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "83e56afc_59e6018a",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/notedb/NotesMigration.java",
        "patchSetId": 2
      },
      "lineNbr": 44,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-06-13T18:16:25Z",
      "side": 1,
      "message": "\u003e The reason to start emphasizing it now is this change is the start\n \u003e of a long series that will culminate in an online NoteDb migration\n \u003e tool :)\n\nI see, we define the final goal in the very first change in this series ;-)",
      "parentUuid": "7b60bd66_7990eb16",
      "range": {
        "startLine": 43,
        "startChar": 3,
        "endLine": 44,
        "endChar": 65
      },
      "revId": "9a1463a2aa1109f5b18da6e4def2376fcf4489d2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}