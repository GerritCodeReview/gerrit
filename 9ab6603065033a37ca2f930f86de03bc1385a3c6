{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "e0113daf_2411a4c3",
        "filename": "java/com/google/gerrit/server/account/AccountCache.java",
        "patchSetId": 4
      },
      "lineNbr": 85,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-04-29T14:16:01Z",
      "side": 0,
      "message": "Any particular reason why these methods have been removed? How can I evict a single account from the cache in v3.2 and master?",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 85,
        "endChar": 18
      },
      "revId": "9ab6603065033a37ca2f930f86de03bc1385a3c6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c6c19d92_387cbf8a",
        "filename": "java/com/google/gerrit/server/account/AccountCache.java",
        "patchSetId": 4
      },
      "lineNbr": 85,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2020-04-29T14:21:24Z",
      "side": 0,
      "message": "There is no longer a need to evict accounts. The cache key now contains the SHA1 of the user branch in NoteDb. This means any change to the account data will automatically invalidate the cache entry, since the SHA1 in NoteDb changes.",
      "parentUuid": "e0113daf_2411a4c3",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 85,
        "endChar": 18
      },
      "revId": "9ab6603065033a37ca2f930f86de03bc1385a3c6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "591e6f6f_d0a65922",
        "filename": "java/com/google/gerrit/server/account/AccountCache.java",
        "patchSetId": 4
      },
      "lineNbr": 85,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-04-29T14:23:46Z",
      "side": 0,
      "message": "Ah cool ! Thanks, Edwin, for the quick feedback.",
      "parentUuid": "c6c19d92_387cbf8a",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 85,
        "endChar": 18
      },
      "revId": "9ab6603065033a37ca2f930f86de03bc1385a3c6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "882d6e18_b42ce5bb",
        "filename": "java/com/google/gerrit/server/account/AccountCache.java",
        "patchSetId": 4
      },
      "lineNbr": 85,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2020-04-29T23:36:24Z",
      "side": 0,
      "message": "It would be useful to have a comment about this. IIRC there is already a similar comment in the external Id cache.",
      "parentUuid": "591e6f6f_d0a65922",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 85,
        "endChar": 18
      },
      "revId": "9ab6603065033a37ca2f930f86de03bc1385a3c6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fd9b0b41_3bf0fb2c",
        "filename": "java/com/google/gerrit/server/account/AccountCache.java",
        "patchSetId": 4
      },
      "lineNbr": 85,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-08-26T22:23:19Z",
      "side": 0,
      "message": "This new \"auto-eviction\" mechanism came with the cost of open the All-Users.git repository for *every single call* which is quite expensive.\n\nSee the Issue 14945 created for that.\n\nGetting a change details, even with cached account and cached change_notes, could take up to 1-2s for a busy production server. I was expecting 1/100 of that execution time when data was cached.",
      "parentUuid": "882d6e18_b42ce5bb",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 85,
        "endChar": 18
      },
      "revId": "9ab6603065033a37ca2f930f86de03bc1385a3c6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "94ea82fd_6f4e3db8",
        "filename": "java/com/google/gerrit/server/account/AccountCache.java",
        "patchSetId": 4
      },
      "lineNbr": 85,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2021-08-27T07:24:18Z",
      "side": 0,
      "message": "Let\u0027s have this discussion on Issue 14945  so that it happens in a single place :-)",
      "parentUuid": "fd9b0b41_3bf0fb2c",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 85,
        "endChar": 18
      },
      "revId": "9ab6603065033a37ca2f930f86de03bc1385a3c6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8ed3570e_0e06fe32",
        "filename": "java/com/google/gerrit/server/account/AccountCache.java",
        "patchSetId": 4
      },
      "lineNbr": 85,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2022-02-23T08:07:46Z",
      "side": 0,
      "message": "Cycling back here, the ref cache implemented in JGit solves the problem and is a nice and generic enough solution, that it will help us in other cases, too. Thanks Mathias!",
      "parentUuid": "94ea82fd_6f4e3db8",
      "range": {
        "startLine": 76,
        "startChar": 0,
        "endLine": 85,
        "endChar": 18
      },
      "revId": "9ab6603065033a37ca2f930f86de03bc1385a3c6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}