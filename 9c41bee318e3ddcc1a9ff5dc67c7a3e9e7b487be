{
  "pushCert": "certificate version 0.1\npusher Dave Borowitz \u003cdborowitz@google.com\u003e 1497970834 -0400\nnonce AH5c86Ca67WWsuyF047sc8D/A5hdWYTR4j2T2AkLjHNZlvGaW+VdpiPLifcBDSx2bLqMB4f/sfbX\n\n0000000000000000000000000000000000000000 9c41bee318e3ddcc1a9ff5dc67c7a3e9e7b487be refs/for/master\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJZSTiSAAoJEF/XxZqaEoiMRM4P/jEzKSzdcJMM6pMWnXaso1+Q\nlKJEdKb3SWPkplRzLG83wCvKfiUmV+IiF7XWSbDd8spSwdwWqRlD7rb5CjSFesM0\ng2Zo2r9XSeuW3wahm2txEPBIafmonkZX+Z0QB+kvOoIt2imE3cAj/MITx7WrsqVj\nX9KqRkIuSKsAKGSCufZYj0OEb+F9S6xok4wBb+LI44FK2BhqiEa0efk841PgW6s/\n4/t4yZx4GBWyK9l7AuAUEVlHabEEO3URJtjBSK/+ZfgUSTG1Qtd2K36N5RrqUDJE\noFA2pCrw+hEs8LH1nOOPhokGKzQrA6kzfYaBBAQ73NabpShkQr39ZdVnBFFh56RK\nP8imEqqVgvVI1wJAHAluZKy9utByUJgLUfACymXd2l64AnO7i4uTAtcuwvDL3epI\nPOmuB9AO1cI3zMSRsjZm769UJjcROTzlEXYZ/mMt+aBtBKWMW+Ht8Zps74RQw+/G\naYY9vMkhsMI1/QFgmkynMkzIMBwgwVcDYUCdw9iycN7oHX58E2K1QXSP2qO9IOuI\ntgFOu6vf0Lb3ug7c5JiMX1RpXT3rC3akjSgm/yxJY88RGWYdequkMQyG06Lovz0O\nR37cjy/u2pJ39aVGxIr9QJTctv/TW30O7MlIPspzcWegfgP/2idl/d4lxyHUmIED\nWw54mCBQ/5f6cxQglhzi\n\u003dY/Of\n-----END PGP SIGNATURE-----\n",
  "comments": [
    {
      "key": {
        "uuid": "d2443fc3_08b97b44",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-06-21T05:10:42Z",
      "side": 1,
      "message": "This is cool. Now we can add the similar tests for other programs, like reindex.",
      "revId": "9c41bee318e3ddcc1a9ff5dc67c7a3e9e7b487be",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8c15c31a_920c021a",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/pgm/MigrateToNoteDbIT.java",
        "patchSetId": 2
      },
      "lineNbr": 109,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-06-21T05:10:42Z",
      "side": 1,
      "message": "Can we add project2 here as well, and restrict rebuilding to project1?",
      "revId": "9c41bee318e3ddcc1a9ff5dc67c7a3e9e7b487be",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9e1b8b73_747c8a18",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/pgm/MigrateToNoteDbIT.java",
        "patchSetId": 2
      },
      "lineNbr": 109,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-06-21T11:34:58Z",
      "side": 1,
      "message": "As I\u0027ve implied elsewhere, I would rather keep this file minimal, and test different combinations of options in the smaller tests that do not take 4s each to run.",
      "parentUuid": "8c15c31a_920c021a",
      "revId": "9c41bee318e3ddcc1a9ff5dc67c7a3e9e7b487be",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5d3ab2a7_0bbe9d23",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/pgm/MigrateToNoteDbIT.java",
        "patchSetId": 2
      },
      "lineNbr": 109,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-06-21T12:10:26Z",
      "side": 1,
      "message": "+1.",
      "parentUuid": "9e1b8b73_747c8a18",
      "revId": "9c41bee318e3ddcc1a9ff5dc67c7a3e9e7b487be",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2f894f7b_f12fffb4",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/pgm/MigrateToNoteDbIT.java",
        "patchSetId": 2
      },
      "lineNbr": 124,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-06-21T05:10:42Z",
      "side": 1,
      "message": "After changing this line to:\n\n  migrate(\"--project\u003dproject1\");\n\n(--trial is the default). I\u0027m getting the abort here:\n\n  if (Objects.equals(currNoteDbState, newNoteDbState)) {\n                    // Another thread completed the same rebuild we were about to.\n                    throw new AbortUpdateException();\n                  }\n\nAnd the whole stack trace is: [1].\n\n* [1] http://paste.openstack.org/show/613238",
      "range": {
        "startLine": 124,
        "startChar": 4,
        "endLine": 124,
        "endChar": 23
      },
      "revId": "9c41bee318e3ddcc1a9ff5dc67c7a3e9e7b487be",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "47b31b52_51b02cd2",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/pgm/MigrateToNoteDbIT.java",
        "patchSetId": 2
      },
      "lineNbr": 124,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-06-21T11:34:58Z",
      "side": 1,
      "message": "Thanks for the report. I\u0027m sure there are more bugs, and I will fix them as I add more test coverage in later changes.",
      "parentUuid": "2f894f7b_f12fffb4",
      "range": {
        "startLine": 124,
        "startChar": 4,
        "endLine": 124,
        "endChar": 23
      },
      "revId": "9c41bee318e3ddcc1a9ff5dc67c7a3e9e7b487be",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e9421c2b_825446fd",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/notedb/rebuild/NoteDbMigrator.java",
        "patchSetId": 2
      },
      "lineNbr": 471,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-06-21T05:10:42Z",
      "side": 1,
      "message": "Are there any circumstances when we would pass checkReadOnly \u003d false here?",
      "range": {
        "startLine": 471,
        "startChar": 20,
        "endLine": 471,
        "endChar": 41
      },
      "revId": "9c41bee318e3ddcc1a9ff5dc67c7a3e9e7b487be",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "85cd9950_0d9489ba",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/notedb/rebuild/NoteDbMigrator.java",
        "patchSetId": 2
      },
      "lineNbr": 471,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-06-21T11:34:58Z",
      "side": 1,
      "message": "Not from NoteDbMigrator itself, but we do use rebuildEvenIfReadOnly in PrimaryStorageMigrator. That will get called from the setReviewDbPrimary method.",
      "parentUuid": "e9421c2b_825446fd",
      "range": {
        "startLine": 471,
        "startChar": 20,
        "endLine": 471,
        "endChar": 41
      },
      "revId": "9c41bee318e3ddcc1a9ff5dc67c7a3e9e7b487be",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}