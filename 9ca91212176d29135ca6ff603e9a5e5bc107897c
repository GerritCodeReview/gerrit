{
  "comments": [
    {
      "key": {
        "uuid": "70390147_49a9c1f4",
        "filename": "polygerrit-ui/app/elements/change/gr-messages-list/gr-messages-list.html",
        "patchSetId": 9
      },
      "lineNbr": 78,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-02-21T23:57:36Z",
      "side": 1,
      "message": "This doesn\u0027t seem to get updated when I expand [Show 5 more].",
      "range": {
        "startLine": 78,
        "startChar": 10,
        "endLine": 78,
        "endChar": 94
      },
      "revId": "9ca91212176d29135ca6ff603e9a5e5bc107897c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "152eabbf_0b01e596",
        "filename": "polygerrit-ui/app/elements/change/gr-messages-list/gr-messages-list.html",
        "patchSetId": 9
      },
      "lineNbr": 78,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2017-02-22T01:29:40Z",
      "side": 1,
      "message": "Erm, I didn\u0027t expect it to. Do you think it should?\n\nI thought it would just be the total number of messages.",
      "parentUuid": "70390147_49a9c1f4",
      "range": {
        "startLine": 78,
        "startChar": 10,
        "endLine": 78,
        "endChar": 94
      },
      "revId": "9ca91212176d29135ca6ff603e9a5e5bc107897c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a92b31d2_c06d36c8",
        "filename": "polygerrit-ui/app/elements/change/gr-messages-list/gr-messages-list.html",
        "patchSetId": 9
      },
      "lineNbr": 78,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-02-22T19:10:58Z",
      "side": 1,
      "message": "Oh, that\u0027s surprising. I expected it to be the number of messages that have been collapsed -- similar to the collapsed sections of the diff.",
      "parentUuid": "152eabbf_0b01e596",
      "range": {
        "startLine": 78,
        "startChar": 10,
        "endLine": 78,
        "endChar": 94
      },
      "revId": "9ca91212176d29135ca6ff603e9a5e5bc107897c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dfa80e26_0b91caed",
        "filename": "polygerrit-ui/app/elements/change/gr-messages-list/gr-messages-list.js",
        "patchSetId": 9
      },
      "lineNbr": 48,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-02-21T23:57:36Z",
      "side": 1,
      "message": "This is still kind of confusing to me. The name doesn\u0027t distinguish the purpose of this property from that of `messages` or `_visibleMessages`. Furthermore, both \"computed\" and \"list\" are slightly redundant to the property definition.",
      "range": {
        "startLine": 48,
        "startChar": 6,
        "endLine": 48,
        "endChar": 27
      },
      "revId": "9ca91212176d29135ca6ff603e9a5e5bc107897c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "829a26af_1631cebb",
        "filename": "polygerrit-ui/app/elements/change/gr-messages-list/gr-messages-list.js",
        "patchSetId": 9
      },
      "lineNbr": 48,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2017-02-22T01:29:40Z",
      "side": 1,
      "message": "Would love some input on a better name, then.\n\nThis exists because we do some transformations on the messages list that ideally should only be done once, like Viktar\u0027s bundling of reviewers and a labelling of each message with an index. The naive messages object received from the backend is the `messages` prop, and `_visibleMessages` is the array that goes into the dom-repeat.",
      "parentUuid": "dfa80e26_0b91caed",
      "range": {
        "startLine": 48,
        "startChar": 6,
        "endLine": 48,
        "endChar": 27
      },
      "revId": "9ca91212176d29135ca6ff603e9a5e5bc107897c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "56f7ce61_64e5e05d",
        "filename": "polygerrit-ui/app/elements/change/gr-messages-list/gr-messages-list.js",
        "patchSetId": 9
      },
      "lineNbr": 48,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-02-22T19:10:58Z",
      "side": 1,
      "message": "Thanks for explaining. You\u0027re right, naming it is tricky. Maybe what would be more helpful than the name is a JSDoc that shows what you explained. Like ...\n\n/**\n * The messages after processing and including merged reviewer updates.\n */\n\nWhat about names like...\n\n* _processedMessages\n* _formattedMessages\n* _mergedMessages\n* _messages",
      "parentUuid": "829a26af_1631cebb",
      "range": {
        "startLine": 48,
        "startChar": 6,
        "endLine": 48,
        "endChar": 27
      },
      "revId": "9ca91212176d29135ca6ff603e9a5e5bc107897c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3e5de3eb_5b27b127",
        "filename": "polygerrit-ui/app/elements/change/gr-messages-list/gr-messages-list.js",
        "patchSetId": 9
      },
      "lineNbr": 51,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-02-22T19:10:58Z",
      "side": 1,
      "message": "Nit: It feels weird to have both a `computed` and an `observer` on the same property. Can this be converted to be an observer defined as a `computed` on `_numAutomated` for consistency?",
      "range": {
        "startLine": 50,
        "startChar": 8,
        "endLine": 51,
        "endChar": 49
      },
      "revId": "9ca91212176d29135ca6ff603e9a5e5bc107897c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "860abb6a_e677421d",
        "filename": "polygerrit-ui/app/elements/change/gr-messages-list/gr-messages-list.js",
        "patchSetId": 9
      },
      "lineNbr": 57,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-02-21T23:57:36Z",
      "side": 1,
      "message": "What is this used for?",
      "range": {
        "startLine": 57,
        "startChar": 6,
        "endLine": 57,
        "endChar": 19
      },
      "revId": "9ca91212176d29135ca6ff603e9a5e5bc107897c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "73a722c2_feb0ef92",
        "filename": "polygerrit-ui/app/elements/change/gr-messages-list/gr-messages-list.js",
        "patchSetId": 9
      },
      "lineNbr": 57,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2017-02-22T01:29:40Z",
      "side": 1,
      "message": "Will add docs.",
      "parentUuid": "860abb6a_e677421d",
      "range": {
        "startLine": 57,
        "startChar": 6,
        "endLine": 57,
        "endChar": 19
      },
      "revId": "9ca91212176d29135ca6ff603e9a5e5bc107897c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "53dc7370_70533d37",
        "filename": "polygerrit-ui/app/elements/change/gr-messages-list/gr-messages-list.js",
        "patchSetId": 9
      },
      "lineNbr": 222,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-02-22T00:05:34Z",
      "side": 1,
      "message": "Looking for ways to make this function simpler. Would the following work?\n\nvar counter \u003d 0;\nvar numHidden \u003d messages.length - numVisible;\nvar i \u003d numHidden;\nwhile (i \u003c messages.length \u0026\u0026 counter \u003c MESSAGES_INCREMENT) {\n  i++;\n  if (hideAutomated \u0026\u0026 this._isAutomated(messages[i])) { continue; }\n  counter++;\n}\nreturn i - numHidden;\n\nIDK, maybe that\u0027s equally complex.",
      "revId": "9ca91212176d29135ca6ff603e9a5e5bc107897c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6e25aff_bed6a004",
        "filename": "polygerrit-ui/app/elements/change/gr-messages-list/gr-messages-list.js",
        "patchSetId": 9
      },
      "lineNbr": 222,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2017-02-22T01:29:40Z",
      "side": 1,
      "message": "I don\u0027t like this as an alternative because it goes through the loop even when hideAutomated is false.",
      "parentUuid": "53dc7370_70533d37",
      "revId": "9ca91212176d29135ca6ff603e9a5e5bc107897c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "778f050e_59fa4a71",
        "filename": "polygerrit-ui/app/elements/change/gr-messages-list/gr-messages-list.js",
        "patchSetId": 9
      },
      "lineNbr": 222,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-02-22T19:10:58Z",
      "side": 1,
      "message": "If `hideAutomated` is false it will loop a max of 5 times. Even so, it could just add a short-circuit in this case.\n\nvar numHidden \u003d messages.length - numVisible;\nif (!hideAutomated) {\n  return Math.min(MESSAGES_INCREMENT, numHidden);\n}\n\nvar counter \u003d 0;\nvar i \u003d numHidden;\nwhile (i \u003c messages.length \u0026\u0026 counter \u003c MESSAGES_INCREMENT) {\n  i++;\n  if (this._isAutomated(messages[i])) { continue; }\n  counter++;\n}\nreturn i - numHidden;\n\nNot necessary, though.",
      "parentUuid": "b6e25aff_bed6a004",
      "revId": "9ca91212176d29135ca6ff603e9a5e5bc107897c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "af1362f9_ff4abdf0",
        "filename": "polygerrit-ui/app/elements/change/gr-messages-list/gr-messages-list.js",
        "patchSetId": 9
      },
      "lineNbr": 238,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-02-21T23:57:36Z",
      "side": 1,
      "message": "Taking the min of the increment with the delta looks like it\u0027s redundant to the way `_getDelta` works. `_getDelta` can\u0027t return a value larger than `MESSAGES_INCREMENT`, can it?",
      "range": {
        "startLine": 238,
        "startChar": 23,
        "endLine": 238,
        "endChar": 58
      },
      "revId": "9ca91212176d29135ca6ff603e9a5e5bc107897c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "112ae4eb_fabe72ea",
        "filename": "polygerrit-ui/app/elements/change/gr-messages-list/gr-messages-list.js",
        "patchSetId": 9
      },
      "lineNbr": 238,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2017-02-22T01:29:40Z",
      "side": 1,
      "message": "Yes, it can. _getDelta is responsible for the \u0027pipe moving\u0027 concept we discussed earlier, and will return a value \u003e 5 when hideAutomated is true and there are five non-automated messages still hidden that have automated messages between them.\n\nClearly this logic is pretty complicated, I\u0027ll add JSDocs to all of these functions in the next patchset.",
      "parentUuid": "af1362f9_ff4abdf0",
      "range": {
        "startLine": 238,
        "startChar": 23,
        "endLine": 238,
        "endChar": 58
      },
      "revId": "9ca91212176d29135ca6ff603e9a5e5bc107897c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5e137b7b_a86d05ec",
        "filename": "polygerrit-ui/app/elements/change/gr-messages-list/gr-messages-list.js",
        "patchSetId": 9
      },
      "lineNbr": 238,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-02-22T19:10:58Z",
      "side": 1,
      "message": "That makes sense. Thanks for explaining.",
      "parentUuid": "112ae4eb_fabe72ea",
      "range": {
        "startLine": 238,
        "startChar": 23,
        "endLine": 238,
        "endChar": 58
      },
      "revId": "9ca91212176d29135ca6ff603e9a5e5bc107897c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d8b07fb5_4345345a",
        "filename": "polygerrit-ui/app/elements/change/gr-messages-list/gr-messages-list.js",
        "patchSetId": 9
      },
      "lineNbr": 247,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-02-21T23:57:36Z",
      "side": 1,
      "message": "Does this return truthy iff there is at least one automated message in the hidden segment fo the message list?\n\nIf so, it can use a for loop to quickly return when it finds such a message, rather than looping over the entire list:\n\nvar hiddenMessages \u003d messages.slice(0, messages.length - numVisible);\nfor (var i \u003d 0; i \u003c hiddenMessages.length; i++) {\n  if (this._isAutomated(hiddenMessages[i])) {\n    return true;\n  }\n}\nreturn false;",
      "range": {
        "startLine": 245,
        "startChar": 6,
        "endLine": 247,
        "endChar": 18
      },
      "revId": "9ca91212176d29135ca6ff603e9a5e5bc107897c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "488c87a5_4ed4229f",
        "filename": "polygerrit-ui/app/elements/change/gr-messages-list/gr-messages-list.js",
        "patchSetId": 9
      },
      "lineNbr": 247,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2017-02-22T01:29:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d8b07fb5_4345345a",
      "range": {
        "startLine": 245,
        "startChar": 6,
        "endLine": 247,
        "endChar": 18
      },
      "revId": "9ca91212176d29135ca6ff603e9a5e5bc107897c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f881d3fb_dc6e558f",
        "filename": "polygerrit-ui/app/elements/change/gr-messages-list/gr-messages-list.js",
        "patchSetId": 9
      },
      "lineNbr": 261,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-02-21T23:57:36Z",
      "side": 1,
      "message": "Consider doing this with a single splice. Potentially this would allow Polymer to be more efficient with its DOM ops.\n\n this.splice.apply(this,\n     [\u0027_visibleMessages\u0027, newMessages.length - 1, 0]\n     .concat(newMessages));",
      "range": {
        "startLine": 259,
        "startChar": 6,
        "endLine": 261,
        "endChar": 7
      },
      "revId": "9ca91212176d29135ca6ff603e9a5e5bc107897c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0314c5ab_c7c35fdc",
        "filename": "polygerrit-ui/app/elements/change/gr-messages-list/gr-messages-list.js",
        "patchSetId": 9
      },
      "lineNbr": 261,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2017-02-22T01:29:40Z",
      "side": 1,
      "message": "I was looking for a way to do this -- thanks!",
      "parentUuid": "f881d3fb_dc6e558f",
      "range": {
        "startLine": 259,
        "startChar": 6,
        "endLine": 261,
        "endChar": 7
      },
      "revId": "9ca91212176d29135ca6ff603e9a5e5bc107897c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}