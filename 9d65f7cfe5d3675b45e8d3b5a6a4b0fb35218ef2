{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "f5ea52f8_196f41ca",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 16,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-08-09T06:11:03Z",
      "side": 1,
      "message": "Can you elaborate on how much is this degradation? 10%? 50%? 200%?",
      "range": {
        "startLine": 15,
        "startChar": 27,
        "endLine": 16,
        "endChar": 20
      },
      "revId": "9d65f7cfe5d3675b45e8d3b5a6a4b0fb35218ef2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "83275615_5adfb468",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 16,
      "author": {
        "id": 1012457
      },
      "writtenOn": "2023-08-15T19:35:54Z",
      "side": 1,
      "message": "@luca.milanesio@gmail.com WDYT about https://gerrit-review.googlesource.com/c/gerrit/+/382874 where I attempt to update the test? Adding the check to ensure cached location is still valid degrades openRepository by ~500% on NFS based repositories. The check is going to be racy anyways, so it might not be worth doing it to handle a corner case.",
      "parentUuid": "f5ea52f8_196f41ca",
      "range": {
        "startLine": 15,
        "startChar": 27,
        "endLine": 16,
        "endChar": 20
      },
      "revId": "9d65f7cfe5d3675b45e8d3b5a6a4b0fb35218ef2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c58e7dec_05136310",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 16,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2023-08-15T19:43:24Z",
      "side": 1,
      "message": "Personally I think it\u0027s a bad test that should be eliminated. Why would we want to allow a migration to be successful with missing projects?",
      "parentUuid": "83275615_5adfb468",
      "range": {
        "startLine": 15,
        "startChar": 27,
        "endLine": 16,
        "endChar": 20
      },
      "revId": "9d65f7cfe5d3675b45e8d3b5a6a4b0fb35218ef2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4680adbd_276fae5b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 16,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-08-15T21:02:13Z",
      "side": 1,
      "message": "+1\n\n@Kaushik can you just a statement on the expected performance degradation? (doesn\u0027t have to be exact, just a % would do).",
      "parentUuid": "c58e7dec_05136310",
      "range": {
        "startLine": 15,
        "startChar": 27,
        "endLine": 16,
        "endChar": 20
      },
      "revId": "9d65f7cfe5d3675b45e8d3b5a6a4b0fb35218ef2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "25b29916_7d3d38f5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 16,
      "author": {
        "id": 1012457
      },
      "writtenOn": "2023-08-15T21:12:38Z",
      "side": 1,
      "message": "Done. I have added the details in the commit message now. Any objections to abandoning this change and re-purposing 382874 to remove the test?",
      "parentUuid": "4680adbd_276fae5b",
      "range": {
        "startLine": 15,
        "startChar": 27,
        "endLine": 16,
        "endChar": 20
      },
      "revId": "9d65f7cfe5d3675b45e8d3b5a6a4b0fb35218ef2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "215088ed_58efba08",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 16,
      "author": {
        "id": 1012457
      },
      "writtenOn": "2023-08-16T16:17:43Z",
      "side": 1,
      "message": "\u003ePersonally I think it\u0027s a bad test that should be eliminated. Why would we want to allow a migration to be successful with missing projects?\n\nDone in 382874: Remove OnlineNoteDbMigrationIT.fullMigrationOneChangeWithNoProject test | https://gerrit-review.googlesource.com/c/gerrit/+/382874",
      "parentUuid": "25b29916_7d3d38f5",
      "range": {
        "startLine": 15,
        "startChar": 27,
        "endLine": 16,
        "endChar": 20
      },
      "revId": "9d65f7cfe5d3675b45e8d3b5a6a4b0fb35218ef2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b65cdb0d_494f9d3e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 16,
      "author": {
        "id": 1012457
      },
      "writtenOn": "2023-08-16T17:55:24Z",
      "side": 1,
      "message": "Digging into the history of the test, it is probably better to fix it (as I did in change 382874) rather than removing it as it was meant to cover a bug reported during notedb migration.",
      "parentUuid": "215088ed_58efba08",
      "range": {
        "startLine": 15,
        "startChar": 27,
        "endLine": 16,
        "endChar": 20
      },
      "revId": "9d65f7cfe5d3675b45e8d3b5a6a4b0fb35218ef2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e89604be_cb123a0d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 8
      },
      "lineNbr": 16,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2023-08-16T18:38:42Z",
      "side": 1,
      "message": "I disagree, I read the report and I do not agree that it was a bug! I strongly believe normally changes for a missing project are something that I would expect Gerrit migration to complain about and signal as a problem. While I can understand that there are situations such as the reporter\u0027s, where this may not be a problem, I don\u0027t think that it is OK to assume it isn\u0027t, and in this situation since the user knew they did something bad, the burden should have been on them to fix their data, or to propose a flag for Gerrit to ignore those specific changes. But as is, migration may now silently be missing stuff for users and that shouldn\u0027t be codified to do that in a test.",
      "parentUuid": "b65cdb0d_494f9d3e",
      "range": {
        "startLine": 15,
        "startChar": 27,
        "endLine": 16,
        "endChar": 20
      },
      "revId": "9d65f7cfe5d3675b45e8d3b5a6a4b0fb35218ef2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6db41aa9_1e7487ad",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1012457
      },
      "writtenOn": "2023-08-08T00:33:11Z",
      "side": 1,
      "message": "```\n$ time bazel build release \u0026\u0026 time bazel test --cache_test_results\u003dno --flaky_test_attempts 3 --test_timeout 3600 --test_tag_filters\u003d-flaky,-elastic //...\n...\n[snip]\n//javatests/com/google/gerrit/util/http:http_tests                       PASSED in 1.2s\n//javatests/com/google/gwtexpui/safehtml:safehtml_tests                  PASSED in 1.1s\n//javatests/org/eclipse/jgit:jgit_patch_tests                            PASSED in 1.0s\n//lib:nongoogle_test                                                     PASSED in 0.3s\n//plugins/hooks:hooks_tests                                              PASSED in 15.7s\n//plugins/replication:replication_it                                     PASSED in 207.0s\n//plugins/replication:replication_tests                                  PASSED in 3.5s\n//plugins/singleusergroup:singleusergroup_tests                          PASSED in 13.7s\n//resources/com/google/gerrit/server:commit-msg_test                     PASSED in 5.4s\n//tools/bzl:always_pass_test                                             PASSED in 0.3s\n\nExecuted 86 out of 86 tests: 86 tests pass.\nINFO: Build completed successfully, 763 total actions\n```",
      "revId": "9d65f7cfe5d3675b45e8d3b5a6a4b0fb35218ef2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "05e3740e_642bbe9e",
        "filename": "javatests/com/google/gerrit/server/git/LocalDiskRepositoryManagerTest.java",
        "patchSetId": 8
      },
      "lineNbr": 240,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-08-09T06:11:03Z",
      "side": 1,
      "message": "What is the purpose of this line?",
      "range": {
        "startLine": 240,
        "startChar": 4,
        "endLine": 240,
        "endChar": 66
      },
      "revId": "9d65f7cfe5d3675b45e8d3b5a6a4b0fb35218ef2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "176e6bf8_89d3be2d",
        "filename": "javatests/com/google/gerrit/server/git/LocalDiskRepositoryManagerTest.java",
        "patchSetId": 8
      },
      "lineNbr": 250,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2023-08-09T06:11:03Z",
      "side": 1,
      "message": "You can just remove one file that makes the directory to be recognised as a Git project (e.g. HEAD)",
      "range": {
        "startLine": 242,
        "startChar": 0,
        "endLine": 250,
        "endChar": 46
      },
      "revId": "9d65f7cfe5d3675b45e8d3b5a6a4b0fb35218ef2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}