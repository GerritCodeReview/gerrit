gerrit gc
=========

NAME
----
gerrit gc - Run the Git garbage collection

SYNOPSIS
--------
[verse]
'ssh' -p <port> <host> 'gerrit gc'
  [--all]
  <NAME> ...

DESCRIPTION
-----------
Runs the Git garbage collection for the specified projects.

A Gerrit system administrator can define the default parameters that
should be used for running the garbage collection in the user global
Git configuration file of the system user that runs the Gerrit
server.

Since the user global Git configuration file is overlaid with the Git
configuration on repository level it is possible to specify
repository specific parameters for the garbage collection in the Git
repository configuration of every project.

Garbage collection is an expensive operation and running the garbage
collection should be planned with care.  Especially it should be
ensured to not run the garbage collection in parallel multiple times
on the same repository.  Running the garbage collection in parallel
multiple times on the same repository does not make sense, but it's
not prevented by Gerrit.

ACCESS
------
Caller must be a member of the privileged 'Administrators' group,
or have been granted the
link:access-control.html#capability_runGarbageCollection[Run Garbage
Collection] global capability.

SCRIPTING
---------
This command is intended to be used in scripts.

OPTIONS
-------
<NAME>::
	Name of the projects for which the Git garbage collection should be run.

--all::
	If specified the Git garbage collection is run for all projects.

EXAMPLES
--------

Run the Git garbage collection for the projects 'myProject' and
'yourProject':
=====
	$ ssh -p 29418 review.example.com gerrit gc myProject yourProject
	collecting garbage for "myProject":
	Pack refs:              100% (9/9)
	Counting objects:       8
	Finding sources:        100% (8/8)
	Getting sizes:          100% (5/5)
	Compressing objects:     50% (1/2)
	Writing objects:        100% (8/8)
	Selecting commits:      100% (3/3)
	Building bitmaps:       100% (3/3)
	Finding sources:        100% (52/52)
	Getting sizes:          100% (35/35)
	Compressing objects:     94% (32/34)
	Writing objects:        100% (52/52)
	Prune loose objects also found in pack files: 100% (46/46)
	Prune loose, unreferenced objects: 100% (46/46)
	done.

	collecting garbage for "yourProject":
	Pack refs:              100% (7/7)
	Counting objects:       8
	Finding sources:        100% (8/8)
	Getting sizes:          100% (5/5)
	Compressing objects:     50% (1/2)
	Writing objects:        100% (8/8)
	Selecting commits:      100% (3/3)
	Building bitmaps:       100% (3/3)
	Finding sources:        100% (37/37)
	Getting sizes:          100% (25/25)
	Compressing objects:     96% (24/25)
	Writing objects:        100% (37/37)
	Prune loose objects also found in pack files: 100% (39/39)
	Prune loose, unreferenced objects: 100% (39/39)
	done.
=====

Run the Git garbage collection for all projects:
=====
	$ ssh -p 29418 review.example.com gerrit gc --all
=====

GERRIT
------
Part of link:index.html[Gerrit Code Review]
