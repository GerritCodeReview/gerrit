gerrit stream-events
====================

NAME
----
gerrit stream-events - Monitor events occuring in real time

SYNOPSIS
--------
[verse]
'ssh' -p <port> <host> 'gerrit stream-events'

DESCRIPTION
-----------

Provides a portal into the major events occuring on the server,
outputing activity data in real-time to the client.  Events are
filtered by the caller's access permissions, ensuring the caller
only receives events for changes they can view on the web, or in
the project repository.

Event output is in JSON, one event per line.

ACCESS
------
Any user who has configured an SSH key.

SCRIPTING
---------
This command is intended to be used in scripts.

EXAMPLES
--------

-----
  $ ssh -p 29418 review.example.com gerrit stream-events
  {"type":"comment-added",change:{"project":"tools/gerrit", ...}, ...}
  {"type":"comment-added",change:{"project":"tools/gerrit", ...}, ...}
-----

SCHEMA
------
The JSON messages consist of nested objects referencing the *change*,
*patchset*, *account* involved, and other attributes as appropriate.
The currently supported message types are *patchset-added*,
*comment-added*, *change-merged*, and *change-abandoned*.

Note that any field may be missing in the JSON messages, so consumers of
this JSON stream should deal with that appropriately.

Events
~~~~~~
Patchset Added
^^^^^^^^^^^^^^
type:: "patchset-added"

change:: <<change,change attribute>>

patchset:: <<patchset,patchset attribute>>

uploader:: <<account,account attribute>>

Change Abandoned
^^^^^^^^^^^^^^^^
type:: "change-abandoned"

change:: <<change,change attribute>>

patchset:: <<patchset,patchset attribute>>

abandoner:: <<account,account attribute>>

Change Merged
^^^^^^^^^^^^^
type:: "change-merged"

change:: <<change,change attribute>>

patchset:: <<patchset,patchset attribute>>

submitter:: <<account,account attribute>>

Comment Added
^^^^^^^^^^^^^
type:: "comment-added"

change:: <<change,change attribute>>

patchset:: <<patchset,patchset attribute>>

author:: <<account,account attribute>>

comment:: Comment text author had written

Attributes
~~~~~~~~~~
Attributes are part events to give context related to the event.

[[change]]
change:: The Gerrit change the event is related to

  project;; Project path in Gerrit

  branch;; Branch name within project

  topic;; Topic name specified by the uploaded for this change series

  id;; Change identifier

  number;; Change number (deprecated)

  subject;; Description of change

  owner;; Owner in account attribute

  url;; Canonical URL to reach this change

  lastUpdated;; Time in seconds since the UNIX epoch when this change
  was last updated.

  sortKey;; Internal key used to sort changes, based on lastUpdated.

[[account]]
account:: An account that is related to an event or attribute

  name;; Account user's full name

  email;; Account user's preferred email

[[patchset]]
patchset:: Refers to a specific patchset within a change

  number;; The patchset number

  revision;; Git commit-ish for this patchset

  ref;; Git reference pointing at revision

  uploader;; Uploader of patch set in account attribute

SEE ALSO
--------

* link:access-control.html[Access Controls]

GERRIT
------
Part of link:index.html[Gerrit Code Review]
