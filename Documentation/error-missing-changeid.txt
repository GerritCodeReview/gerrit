missing Change-Id in commit message
===================================

With this error message Gerrit rejects to push a commit if the
project to which the push is done requires a Change-Id in each commit
message and the commit message of the pushed commit does not contain
a Change-Id.

This error may happen for two reasons:
1. missing Change-Id in the commit message
2. Change-Id is contained in the commit message but not in the bottom
   portion

You can see the commit messages for existing commits in the history
by doing a link:http://www.kernel.org/pub/software/scm/git/docs/git-log.html[git log].

To avoid this error you should use the link:cmd-hook-commit-msg.html[commit hook] or EGit to
automatically create and insert a unique Change-Id on every commit.


Missing Change-Id in the commit message
---------------------------------------

If the commit message of a commit that you want to push does not
contain a Change-Id you have to update its commit message and insert
a Change-Id.

If you want to upload a new change to Gerrit make sure that you have
configured your environment so that a unique Change-Id is
automatically created and inserted on every commit as explained
above. Now you can rewrite the commits for which the Change-Ids are
missing and the Change-Ids will be automatically created and inserted
into the commit messages. If the Change-Id is only missing for the
last commit you can simply amend the last commit
(link:http://www.kernel.org/pub/software/scm/git/docs/git-commit.html[git commit --amend]).
If you have several commits for which the Change-Ids are missing you
need to do an interactive git rebase for the affected commits. While
doing the interactive rebase you have to ensure that the commits are
rewritten (e.g. by choosing 'reword' for all these commits and then
confirming all the commit messages). Just picking all the changes
will not work as in this case the commits are not rewritten.

If you want to update an existing change in Gerrit by uploading a new
patch set you should copy its Change-Id and insert it into the commit
message. If it's the commit message of the last commit that you need
to fix you can simply amend the last commit (link:http://www.kernel.org/pub/software/scm/git/docs/git-commit.html[git commit --amend])
and insert the Change-Id into the commit message. If you need to fix
the commit message of other commits you have to do an interactive
git rebase and e.g. choose 'reword' for the affected commits. For
each of these commits you can then change the commit message and
insert the Change-Id.


Change-Id is contained in the commit message but not in the bottom portion
--------------------------------------------------------------------------

To be picked up by Gerrit, a Change-Id must be in the bottom portion
(last paragraph) of a commit message, for details,
see link:user-changeid.html[Change-Id Lines].

If the Change-Id is contained in the commit message but not in its
bottom portion you have to update the commit message and move the
Change-ID line into the bottom portion.

If you need to do this only for the last commit you can simply amend
the last commit (link:http://www.kernel.org/pub/software/scm/git/docs/git-commit.html[git commit --amend]) and fix the commit message.

If you need to fix the commit messages of several commits, then you
have to do an interactive git rebase and choose e.g. 'reword' for the
affected commits. You can then change the commit messages and move
the Change-Id into the bottom portion. For further details about git
rebase please check the link:http://www.kernel.org/pub/software/scm/git/docs/git-rebase.html[Git documentation].


GERRIT
------
Part of link:error-messages.html[Gerrit Error Messages]
