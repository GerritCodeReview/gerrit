Release notes for Gerrit 2.10.3
===============================

Download:
link:https://gerrit-releases.storage.googleapis.com/gerrit-2.10.3.war[
https://gerrit-releases.storage.googleapis.com/gerrit-2.10.3.war]

Important Notes
---------------

*WARNING:* There are no schema changes from
link:ReleaseNotes-2.10.2.html[2.10.2], but Bouncycastle was upgraded to 1.51.
It is therefore important to upgrade the site with the `init` program, rather
than only copying the .war file over the existing one.

It is recommended to run the `init` program in interactive mode. Warnings will
be suppressed in batch mode.

----
  java -jar gerrit.war init -d site_path
----

Configuration
~~~~~~~~~~~~~

* Allow to configure
link:https://gerrit-documentation.storage.googleapis.com/Documentation/2.10.3/config-gerrit.html#sshd.rekeyBytesLimit[
SSHD rekey parameters].

SSH
---

* Update SSHD to 0.14.0.
+
This fixes link:https://issues.apache.org/jira/browse/SSHD-348[SSHD-348] which
was causing ssh threads allocated to stream-events clients to get stuck.
+
Also update SSHD Mina to 2.0.8 and Bouncycastle to 1.51.

* link:https://code.google.com/p/gerrit/issues/detail?id=2797[Issue 2797]:
Add support for ECDSA based public key authentication.

Bug Fixes
---------

* Prevent wrong content type for CSS files.
+
The mime-util library contains two content type mappings for .css files:
`application/x-pointplus` and `text/css`.  Unfortunately, using the wrong one
will result in most browsers discarding the file as a CSS file.  Ensure we only
use the correct type for CSS files.

OAuth extension point
~~~~~~~~~~~~~~~~~~~~~

* Respect servlet context path in URL for login token
+
On sites with non empty context path, first redirect was broken and ended up
with 404 Not found.

* Invalidate OAuth session after web_sessions cache expiration
+
After web session cache expiration there is no way to re-sign-in into Gerrit.

Daemon
~~~~~~

* Print proper names for tasks in output of `show-queue` command.
+
Some tasks were not displayed with the proper name.

Web UI
~~~~~~

* link:http://code.google.com/p/gerrit/issues/detail?id=3044[Issue 3044]:
Remove stripping `#` in login redirect.

SSH
~~~

* Prevent double authentication for the same public key.

Upgrades
--------

* Update Bouncycastle to 1.51.

* Update SSHD to 0.14.0.
