Release notes for Gerrit 2.11
=============================


Gerrit 2.11 is now available:

link:https://gerrit-releases.storage.googleapis.com/gerrit-2.11.war[
https://gerrit-releases.storage.googleapis.com/gerrit-2.11.war]

Important Notes
---------------


*WARNING:* This release contains schema changes.  To upgrade:
----
  java -jar gerrit.war init -d site_path
  java -jar gerrit.war reindex --recheck-mergeable -d site_path
----

*WARNING:* Upgrading to 2.11.x requires the server be first upgraded to 2.1.7 (or
a later 2.1.x version), and then to 2.11.x.  If you are upgrading from 2.2.x.x or
later, you may ignore this warning and upgrade directly to 2.11.x.

*WARNING:* The 'Generate HTTP Password' capability has been removed.


Release Highlights
------------------


* link:http://code.google.com/p/gerrit/issues/detail?id=505[Issue 505]:
link:#inline-editing[Inline editing]: Changes can be created and edited directly
in the browser.


New Features
------------


Web UI
~~~~~~

[[inline-editing]]
Inline Editing
^^^^^^^^^^^^^^

* New changes can be created and populated directly in the browser via
a 'Create Change' button on the project info screen.

* New follow-up changes can be created via a 'Follow-Up' button on the change
screen

* Content editing takes place in a full screen CodeMirror window with support for
themes, syntax highlighting, different key maps (Emacs, Vim, Default).

* The CodeMirror screen can be configured in the same way as the side-by-side
diff screen.

* The file table in the change screen supports edit mode with seamless navigation
to CodeMirror for editing.

* Edit mode can be started from the side-by-side diff screen with seamless
navigation to CodeMirror.

* The commit message can be changed in context of change edit. The "Edit Message"
button is still supported, but now it creates a change edit that must be published.

* Files can be added, deleted, restored and modified directly in browser.

* User-specific configuration dedicated to edit mode in CodeMirror are stored in
the All-Users repository rather than in the database.



REST
~~~~

TODO

ssh
~~~

* link:https://code.google.com/p/gerrit/issues/detail?id=602[Issue 602]:
Add `--json` option to link:https://gerrit-documentation.storage.googleapis.com/Documentation/2.11/cmd-review.html[
review SSH command].
+
Review input can be given to the `review` command in JSON format corresponding
to the REST API's
link:https://gerrit-documentation.storage.googleapis.com/Documentation/2.11/rest-api-changes.html#review-input[
ReviewInput] entity.


TODO

Plugins
~~~~~~~

General
^^^^^^^

* Plugins can now listen to account group membership changes
+
The audit log service allows to register listeners to group member added and
group member deleted events. A default listener logs these events to the database
as before, but additional listeners may now be registered for these events using
the `GroupMemberAuditListener` interface.

Replication
^^^^^^^^^^^

* Projects can be specified with wildcard in the `start` command.


Other
~~~~~

* The 'Generate HTTP Password' capability is removed.
+
The 'Generate HTTP Password' capability has been removed to close a security
vulnerability.  Now only administrators are allowed to generate and delete other
users' http passwords via the REST or SSH interface.
+
It is encouraged to clean up your `project.config` settings after upgrading.


Bug Fixes
---------

Change Screen
~~~~~~~~~~~~~

* Differentiate between conflicts and already merged errors in cherry-pick
+
When a cherry-pick operation failed with "Cherry pick failed" error, there was no
way to know the reason for the failure: merge conflict or the commit is already
on the target branch.  These failures are now differentiated and a proper error
is reported to the client.


REST API
~~~~~~~~

Projects
^^^^^^^^

* Make it mandatory to specify at least one of the `--prefix`, `--match` or `--regex`
options in the
link:https://gerrit-documentation.storage.googleapis.com/Documentation/2.11/rest-api-projects.html#list-projects[
list projects] endpoint.


Upgrades
--------

* Update asciidoctorj to 1.5.0.

* Update guava to 18.0.

* Update Lucene to 4.10.2.

* Update pegdown to 1.4.2.
