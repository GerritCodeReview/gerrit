Release notes for Gerrit 2.5.2
==============================

Gerrit 2.5.2 is now available:

link:http://code.google.com/p/gerrit/downloads/detail?name=gerrit-full-2.5.2.war[http://code.google.com/p/gerrit/downloads/detail?name=gerrit-full-2.5.2.war]

There are no schema changes from 2.5, or 2.5.1.

However, if upgrading from anything earlier version, follow the upgrade
procedure in the 2.5 link:ReleaseNotes-2.5.html[Release Notes].

Bug Fixes
---------
* Improve performance of ReceiveCommits for repos with many refs
+
When validating the received commits all existing refs were added as
uninteresting to the RevWalk. This resulted in bad performance when a
repository had many refs (>100000). It is now avoided to put existing
'refs/changes/' or 'refs/tags/' into the RevWalk which improves the
performance.

* Don't display all files from a merge-commit when auto-merge fails
+
For merge commits Gerrit shows the difference to the automatic merge
result. The creation of the auto-merge result may fail, e.g. when the
merge commit has multiple merge bases (because JGit doesn't support
this case yet). In this case Gerrit was showing all files from the
merge commit. This caused several issues:
+
--
** the file list was too large for a projects with a large number of
   files
** Gerrit would send too many false notification emails to those
   watching changes under certain paths
** both client and server needed a lot of resources in order to handle
   such a large list of files
--
+
Now the file list for a merge commit will be empty when the creation
of the auto-merge result fails.

* link:http://code.google.com/p/gerrit/issues/detail?id=1726[issue 1726]:
  Create ref for new patch set on direct push
+
If a change is in review and a new commit that has the Change-Id of
this change in its commit message is pushed directly, then a new patch
set for this commit is created and the change gets automatically
closed. The problem was that no change ref for this new patch set was
created and as result the change ref that was shown for the new patch
set in the WebUI and which was contained in the patchset-created event
was invalid.

* link:http://code.google.com/p/gerrit/issues/detail?id=1076[issue 1076]:
  Fix CLA hyperlink on account registration page
+
The New Contributor Agreement hyperlink on the Account Registration page
was malformed.

* Fix broken link to repo command reference
