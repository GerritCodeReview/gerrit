{
  "comments": [
    {
      "key": {
        "uuid": "baaff7f4_95636657",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-comment-thread/gr-diff-comment-thread.js",
        "patchSetId": 6
      },
      "lineNbr": 228,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2016-12-28T18:47:36Z",
      "side": 1,
      "message": "Looks like this file is full of regular old non-strict inequality. We should probably fix that in a follow-up change at some point... Though maybe it can be pushed off until the ES6 migration, since I think that\u0027ll require a lot of code rewriting anyway.",
      "range": {
        "startLine": 228,
        "startChar": 14,
        "endLine": 228,
        "endChar": 16
      },
      "revId": "a08bbcd567608a6b6da0b214d3bc7db788e6e4d2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d747268e_9b832b58",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-comment/gr-diff-comment.js",
        "patchSetId": 6
      },
      "lineNbr": 286,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2016-12-28T19:12:07Z",
      "side": 1,
      "message": "Sorry for bringing this up so late in review, but I\u0027m wary of changing comment.message without server sync.\nAt the moment, it serves as \u0027what was received from server\u0027, and saved draft and currently entered text handled separately, while comment.message is only updated on save.",
      "revId": "a08bbcd567608a6b6da0b214d3bc7db788e6e4d2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bad8d7b0_adf469ae",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-comment/gr-diff-comment.js",
        "patchSetId": 6
      },
      "lineNbr": 286,
      "author": {
        "id": 1030207
      },
      "writtenOn": "2016-12-28T19:16:34Z",
      "side": 1,
      "message": "I see what you\u0027re saying, but I\u0027m not sure how to resolve this issue otherwise. Do you have any ideas? The server is unaware of unsaved drafts, and gr-comment-thread is otherwise not aware of changes in individual comments (because it doesn\u0027t know about messageText. So, when a comment is deleted and it comment splices change, it re-renders with the out of date text.  This was an attempt to keep that text up-to-date.",
      "parentUuid": "d747268e_9b832b58",
      "revId": "a08bbcd567608a6b6da0b214d3bc7db788e6e4d2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d747268e_bbcf07bc",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-comment/gr-diff-comment.js",
        "patchSetId": 6
      },
      "lineNbr": 286,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2016-12-28T19:58:17Z",
      "side": 1,
      "message": "tl;dr: comments/threads are messy and smelly and crufty and need a major cleanup.\nI\u0027m ok with just fixing the bug and kicking cleanup down the road, but only if anybody else shares the responsibility, hence +1.\n\nI spent some time debugging this and seems Polymer does full refresh, so if you delete comment when you have multiple reply windows open, it removes items from the end rather than the one that was spliced.\n¯\\_(ツ)_/¯\n\nCurrently re-populating text is done with intermediate step of saving it locally.\nAlternatively, we could not only have __editing on comment, but __messateText (and it probably should be renamed)\n\nOn the other hand, locally loaded draft already changes comment.text, so that\u0027s probably means we don\u0027t have single source of truth here anyway.\n\nBest solution probably would be to just have one reply window, but that leads to a design discussion and worth syncing with Kasper just to make sure you\u0027re not doing same thing.",
      "parentUuid": "bad8d7b0_adf469ae",
      "revId": "a08bbcd567608a6b6da0b214d3bc7db788e6e4d2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}