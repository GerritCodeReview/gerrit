{
  "comments": [
    {
      "key": {
        "uuid": "adaae4e9_2c2b5393",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2013-08-27T08:22:45Z",
      "side": 1,
      "message": "It would be very cool, if we can have the same API as a library that external tools can use to integrate with Gerrit. For this use-case we need another implementation of GerritApi that actually triggers the REST calls over HTTP. This API could then probably also be used by the Gerrit client. Of course this is something for future changes.",
      "revId": "a0dcdcb7e666d9b9e80aafd87d178a3bb639c7e5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "adaae4e9_ac3623f8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 24,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2013-08-27T07:05:08Z",
      "side": 1,
      "message": "I think this should be:\n  api.changes().id(12345).revision(\"c0ffee....\").review(input);\n\nAnd I guess \u0027api\u0027 needs to injected as\n  @Inject GerritApi api\n?",
      "revId": "a0dcdcb7e666d9b9e80aafd87d178a3bb639c7e5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5e0af914_d81d6d79",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 24,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-11-03T21:40:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "adaae4e9_ac3623f8",
      "revId": "a0dcdcb7e666d9b9e80aafd87d178a3bb639c7e5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3802b4bb_1e22edca",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-08-12T11:14:17Z",
      "side": 1,
      "message": "I think we should stick to hand coded implementation.",
      "revId": "a0dcdcb7e666d9b9e80aafd87d178a3bb639c7e5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "586f6876_497fc16c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2013-08-12T16:03:16Z",
      "side": 1,
      "message": "I was more on the fence Saturday about automatic proxy vs. hand-coded implementation. I now think hand coded implementation is the best approach to take here. Its more typing but we can parallelize this work to some extent across the entire team.",
      "parentUuid": "3802b4bb_1e22edca",
      "revId": "a0dcdcb7e666d9b9e80aafd87d178a3bb639c7e5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ed74dc43_2e328700",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/api2/GerritApi.java",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2013-08-27T07:05:08Z",
      "side": 1,
      "message": "Why \u0027api2\u0027, and not \u0027api\u0027?",
      "revId": "a0dcdcb7e666d9b9e80aafd87d178a3bb639c7e5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5e0af914_b82ab98f",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/api2/GerritApi.java",
        "patchSetId": 1
      },
      "lineNbr": 15,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-11-03T21:40:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ed74dc43_2e328700",
      "revId": "a0dcdcb7e666d9b9e80aafd87d178a3bb639c7e5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b8fce4ed_3c2371c1",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/api2/changes/ChangeApi.java",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-08-12T11:14:17Z",
      "side": 1,
      "message": "Can we expose here methods from existing UiActions for the ChangeResource and wire the implementation to the UiAction instances, i. e.\n\n* abandon();\n* restore();",
      "revId": "a0dcdcb7e666d9b9e80aafd87d178a3bb639c7e5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "786a6c67_ca0e4346",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/api2/changes/ChangeApi.java",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2013-08-12T16:03:16Z",
      "side": 1,
      "message": "Yes! I want to add any REST API endpoint. Unfortunately my fingers cannot type that fast. Some people think they do, but they don\u0027t. The point of this commit is to define the pattern and get a single endpoint working. Then we can parallelize the effort to expose all of the endpoints the server supports.",
      "parentUuid": "b8fce4ed_3c2371c1",
      "revId": "a0dcdcb7e666d9b9e80aafd87d178a3bb639c7e5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8d5440b2_a35c5a24",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/api2/changes/Changes.java",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2013-08-27T08:34:36Z",
      "side": 1,
      "message": "Is it possible to use ChangeTriplet here?",
      "revId": "a0dcdcb7e666d9b9e80aafd87d178a3bb639c7e5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "be0135f5_9b3ecbcd",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/api2/changes/Changes.java",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-11-03T21:40:41Z",
      "side": 1,
      "message": "You can pass here a string:\n\n id(\"p~master~4711\");\n\nor you can pass the triplet parts:\n\n id(\"p\", \"master\", \"4711\");\n\nThe com.google.gerrit.server.change.ChangeTriplet is in server package and not in extension.",
      "parentUuid": "8d5440b2_a35c5a24",
      "revId": "a0dcdcb7e666d9b9e80aafd87d178a3bb639c7e5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3802b4bb_3e2531d3",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/api2/changes/RevisionApi.java",
        "patchSetId": 1
      },
      "lineNbr": 20,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-08-12T11:14:17Z",
      "side": 1,
      "message": "Can we expose here methods from existing UiActions for the RevisionResource and wire the implementation to the UiAction instances, i. e.\n\n rebase();\n discardPatchSet(); // not yet implemented",
      "revId": "a0dcdcb7e666d9b9e80aafd87d178a3bb639c7e5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "786a6c67_ea13076f",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/api2/changes/RevisionApi.java",
        "patchSetId": 1
      },
      "lineNbr": 20,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2013-08-12T16:03:16Z",
      "side": 1,
      "message": "Yes. See my remarks in ChangeApi.",
      "parentUuid": "3802b4bb_3e2531d3",
      "revId": "a0dcdcb7e666d9b9e80aafd87d178a3bb639c7e5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8d5440b2_43524610",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/api2/Module.java",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2013-08-27T08:34:36Z",
      "side": 1,
      "message": "Missing copyright header.",
      "revId": "a0dcdcb7e666d9b9e80aafd87d178a3bb639c7e5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5e0af914_9827f5c7",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/api2/Module.java",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-11-03T21:40:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8d5440b2_43524610",
      "revId": "a0dcdcb7e666d9b9e80aafd87d178a3bb639c7e5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eda05c0a_eeee5f3a",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/api2/Module.java",
        "patchSetId": 1
      },
      "lineNbr": 6,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2013-08-27T07:05:08Z",
      "side": 1,
      "message": "This module is not used and hence trying to inject GerritApi in a plugin fails. Should it be installed in GerritGlobalModule?\n\nTrying to do this fails with a Guice error since no implementation for SshInfo is bound and no scope for RequestScope is bound. IIRC getting the Guice bindings right is the main challenge with this REST API for the plugins.",
      "revId": "a0dcdcb7e666d9b9e80aafd87d178a3bb639c7e5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5e0af914_78542118",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/api2/Module.java",
        "patchSetId": 1
      },
      "lineNbr": 6,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-11-03T21:40:41Z",
      "side": 1,
      "message": "Done\n\nNow it is used and can be injected from core and plugin. ReviewCommand was migrated to use the new REST API.",
      "parentUuid": "eda05c0a_eeee5f3a",
      "revId": "a0dcdcb7e666d9b9e80aafd87d178a3bb639c7e5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6d6aac67_aa450f52",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/api2/changes/RevisionApiImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2013-08-27T07:05:08Z",
      "side": 1,
      "message": "nit: blank line too much",
      "revId": "a0dcdcb7e666d9b9e80aafd87d178a3bb639c7e5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "be0135f5_7b7bffa5",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/api2/changes/RevisionApiImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-11-03T21:40:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6d6aac67_aa450f52",
      "revId": "a0dcdcb7e666d9b9e80aafd87d178a3bb639c7e5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3802b4bb_de2fd5b1",
        "filename": "gerrit-sshd/src/main/java/com/google/gerrit/sshd/commands/ReviewCommand.java",
        "patchSetId": 1
      },
      "lineNbr": 219,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-08-12T11:14:17Z",
      "side": 1,
      "message": "Why not to use here the new API?\n\n api2.change(id).revision(name).review(input);",
      "revId": "a0dcdcb7e666d9b9e80aafd87d178a3bb639c7e5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "586f6876_697c0577",
        "filename": "gerrit-sshd/src/main/java/com/google/gerrit/sshd/commands/ReviewCommand.java",
        "patchSetId": 1
      },
      "lineNbr": 219,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2013-08-12T16:03:16Z",
      "side": 1,
      "message": "I agree this should be switched to api2 in this commit. I simply did not have time to do that on Saturday when I uploaded this RFC. I had a 30 minute window on Saturday to get some work done and this is the result. :-)",
      "parentUuid": "3802b4bb_de2fd5b1",
      "revId": "a0dcdcb7e666d9b9e80aafd87d178a3bb639c7e5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "be0135f5_5b804330",
        "filename": "gerrit-sshd/src/main/java/com/google/gerrit/sshd/commands/ReviewCommand.java",
        "patchSetId": 1
      },
      "lineNbr": 219,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-11-03T21:40:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "586f6876_697c0577",
      "revId": "a0dcdcb7e666d9b9e80aafd87d178a3bb639c7e5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b8fce4ed_dc0d2d48",
        "filename": "gerrit-sshd/src/main/java/com/google/gerrit/sshd/commands/ReviewCommand.java",
        "patchSetId": 1
      },
      "lineNbr": 258,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-08-12T11:14:17Z",
      "side": 1,
      "message": "What about UiActions? Can we marry new REST API2 with existing UiActions, like Abandon, Restore, Rebase, so that it can be called:\n\n api2.change(id).abandon(input);",
      "revId": "a0dcdcb7e666d9b9e80aafd87d178a3bb639c7e5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "786a6c67_2a011f18",
        "filename": "gerrit-sshd/src/main/java/com/google/gerrit/sshd/commands/ReviewCommand.java",
        "patchSetId": 1
      },
      "lineNbr": 269,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-08-12T11:14:17Z",
      "side": 1,
      "message": "Or\n\n api2.change(id).restore(input);",
      "revId": "a0dcdcb7e666d9b9e80aafd87d178a3bb639c7e5",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}