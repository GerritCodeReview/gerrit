{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "f1df991b_87e82f16",
        "filename": "polygerrit-ui/app/elements/change/gr-change-summary/gr-change-summary.ts",
        "patchSetId": 1
      },
      "lineNbr": 159,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2022-08-10T06:08:22Z",
      "side": 1,
      "message": "I propose you simply listen to drafts$ and compute the length here.\n\nThis selector doesn\u0027t add much value to the model.",
      "revId": "a19a1cfc97bbb5bd75130599dac6f9902fbc48f4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ce9f7ea8_effc849d",
        "filename": "polygerrit-ui/app/elements/change/gr-change-summary/gr-change-summary.ts",
        "patchSetId": 1
      },
      "lineNbr": 159,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2022-08-10T06:09:24Z",
      "side": 1,
      "message": "Matches the existing pattern here.\n\nI think it makes sense to subscribe to exactly what you want. I would prefer to keep it as is.\nComponent shouldn\u0027t update if the length doesn\u0027t change but something inside the draft changes.\n\n[1] https://cs.opensource.google/gerrit/gerrit/gerrit/+/master:polygerrit-ui/app/models/comments/comments-model.ts;l\u003d236?q\u003dcomments-model",
      "parentUuid": "f1df991b_87e82f16",
      "revId": "a19a1cfc97bbb5bd75130599dac6f9902fbc48f4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ba3594b1_e1b5abf6",
        "filename": "polygerrit-ui/app/elements/change/gr-change-summary/gr-change-summary.ts",
        "patchSetId": 1
      },
      "lineNbr": 159,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2022-08-10T06:56:29Z",
      "side": 1,
      "message": "I\u0027m not sure what you mean with \"component shouldn\u0027t update\"?\n\nUpdating a variable on a lit-component with the same value doesn\u0027t trigger an update.",
      "parentUuid": "ce9f7ea8_effc849d",
      "revId": "a19a1cfc97bbb5bd75130599dac6f9902fbc48f4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2c669f09_30ceac10",
        "filename": "polygerrit-ui/app/elements/change/gr-change-summary/gr-change-summary.ts",
        "patchSetId": 1
      },
      "lineNbr": 159,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2022-08-10T07:05:58Z",
      "side": 1,
      "message": "I am on the fence here. I think you can argue both ways.\n\nOn the one hand, Chris is right: Maybe we should not add selectors just for `.length` all over the place. And yes, Lit can deal with numbers that don\u0027t change.\n\nOTOH selectors are also cheap, and personally I don\u0027t mind adding a lot of them. It encourages developers to put any business logic into models and helps us keeping components dumb, if desired.\n\nSo I am fine either way. :-)",
      "parentUuid": "ba3594b1_e1b5abf6",
      "revId": "a19a1cfc97bbb5bd75130599dac6f9902fbc48f4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a82db526_7d9e0df7",
        "filename": "polygerrit-ui/app/elements/change/gr-change-summary/gr-change-summary.ts",
        "patchSetId": 1
      },
      "lineNbr": 159,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2022-08-10T07:13:30Z",
      "side": 1,
      "message": "@Chris great point that Lit would be smart enough to not re-render.\nThat is correct but I still dislike the fact that component is listening to the entire object when it only cares about the count.\n\n@Ben Thanks for unblocking the change.\nI have added this to the team meeting agenda but would like to proceed with the change as it is right now.\nIf we as a team agree to remove these count selectors then I will do the cleanup later of all count selectors.",
      "parentUuid": "2c669f09_30ceac10",
      "revId": "a19a1cfc97bbb5bd75130599dac6f9902fbc48f4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}