{
  "comments": [
    {
      "key": {
        "uuid": "1976e812_a6b50609",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/LoginUrlToken.java",
        "patchSetId": 5
      },
      "lineNbr": 33,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-07-16T13:32:39Z",
      "side": 1,
      "message": "Sorry, I must ask about this again.\n\nYou are here removing the leading \u0027/\u0027, but in com.google.gerrit.httpd.auth.container.HttpLoginServlet in line 83 it is checked if the token returned by this method is equal to \"/logout\" or \"/signout\". Can this ever be the case now after the leading \u0027/\u0027 is removed from the token? Does the check in HttpLoginServlet need to be adapted?",
      "range": {
        "startLine": 33,
        "startChar": 6,
        "endLine": 33,
        "endChar": 76
      },
      "revId": "a3d1f95e0298be39fab31886ebc7e490b91d4658",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1976e812_e6bffee4",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/LoginUrlToken.java",
        "patchSetId": 5
      },
      "lineNbr": 33,
      "author": {
        "id": 1016317
      },
      "writtenOn": "2014-07-16T13:40:44Z",
      "side": 1,
      "message": "Good catch! I\u0027ll need to adapt HttpLoginServlet. Originally the get token method didn\u0027t include the pound sign nor did it remove the leading slash. The conditionals should now be something like \"#/logout\" or \"#/signout\". I\u0027ll look into this.",
      "parentUuid": "1976e812_a6b50609",
      "range": {
        "startLine": 33,
        "startChar": 6,
        "endLine": 33,
        "endChar": 76
      },
      "revId": "a3d1f95e0298be39fab31886ebc7e490b91d4658",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1976e812_26159617",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/auth/container/HttpLoginServlet.java",
        "patchSetId": 5
      },
      "lineNbr": 86,
      "author": {
        "id": 1016317
      },
      "writtenOn": "2014-07-16T19:01:20Z",
      "side": 1,
      "message": "I think this conditional is no longer needed. From what I can tell, this conditional was there because of the hard-coded behavior of always appending a \"#\" when building the redirect url (see line 134). Without the conditional, the method might have caused a redirection to something like \n\u003cbase-url\u003e/#/logout or \u003cbase-url\u003e/#/signout, both of which don\u0027t exist. Since we no longer hard-code the \"#\", it should be safe to drop the conditional.",
      "range": {
        "startLine": 83,
        "startChar": 0,
        "endLine": 86,
        "endChar": 5
      },
      "revId": "a3d1f95e0298be39fab31886ebc7e490b91d4658",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}