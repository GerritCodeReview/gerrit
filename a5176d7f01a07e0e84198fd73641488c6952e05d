{
  "comments": [
    {
      "key": {
        "uuid": "c45c581a_17d76cf2",
        "filename": "polygerrit-ui/app/elements/edit/gr-editor-view/gr-editor-view.js",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1030207
      },
      "writtenOn": "2017-11-02T22:51:59Z",
      "side": 1,
      "message": "should this be chained after getLoggedIn? I assume we don\u0027t want to get edit prefs if not logged in? it also doesn\u0027t look like _loggedIn is currently being used?",
      "range": {
        "startLine": 58,
        "startChar": 6,
        "endLine": 58,
        "endChar": 26
      },
      "revId": "a5176d7f01a07e0e84198fd73641488c6952e05d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d62125d9_58021805",
        "filename": "polygerrit-ui/app/elements/edit/gr-editor-view/gr-editor-view.js",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1029953
      },
      "writtenOn": "2017-11-02T22:54:48Z",
      "side": 1,
      "message": "+1 but should we also add defaults too for logged out users?",
      "parentUuid": "c45c581a_17d76cf2",
      "range": {
        "startLine": 58,
        "startChar": 6,
        "endLine": 58,
        "endChar": 26
      },
      "revId": "a5176d7f01a07e0e84198fd73641488c6952e05d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "94959e97_915e2d46",
        "filename": "polygerrit-ui/app/elements/edit/gr-editor-view/gr-editor-view.js",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2017-11-02T23:14:19Z",
      "side": 1,
      "message": "Yeah, so it\u0027s a bit complicated, I need to work out the flow of this a bit more.\n\nFWIW, this view should be completely inaccessible through the UI unless a user is already logged in and viewing a change on which they\u0027ve already created an edit. We will never need \"default preferences for logged out users making edits\".\n\nI think this should work:\n\n    attached() {\n      this._getLoggedIn().then(loggedIn \u003d\u003e {\n        if (!loggedIn) { Gerrit.Nav.navigateToChange(this._change); }\n        this._loggedIn \u003d loggedIn;\n        this._getEditPrefs().then(prefs \u003d\u003e { this._prefs \u003d prefs; });\n      });\n    },",
      "parentUuid": "d62125d9_58021805",
      "range": {
        "startLine": 58,
        "startChar": 6,
        "endLine": 58,
        "endChar": 26
      },
      "tag": "autogenerated:gerrit:newWipPatchSet",
      "revId": "a5176d7f01a07e0e84198fd73641488c6952e05d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c522d0c_feff2887",
        "filename": "polygerrit-ui/app/elements/edit/gr-editor-view/gr-editor-view.js",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2017-11-02T23:53:55Z",
      "side": 1,
      "message": "Wyatt and I talked offline about this -- as it turns out, we don\u0027t need loggedIn at all in this view, as access is guarded by the router. If a user that is not logged in tries to access this view, they will be immediately redirected.",
      "parentUuid": "94959e97_915e2d46",
      "range": {
        "startLine": 58,
        "startChar": 6,
        "endLine": 58,
        "endChar": 26
      },
      "tag": "autogenerated:gerrit:newWipPatchSet",
      "revId": "a5176d7f01a07e0e84198fd73641488c6952e05d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ff3ac793_7c206733",
        "filename": "polygerrit-ui/app/elements/edit/gr-editor-view/gr-editor-view.js",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-11-03T17:27:37Z",
      "side": 1,
      "message": "What I think I meant was that we don\u0027t need the redirection if `_getLoggedIn` fails. Maybe all we want is ..\n\n if (!loggedIn) { return; }\n\n.. to be safe.\n\nAlthough that may never happen either. Hmm.",
      "parentUuid": "6c522d0c_feff2887",
      "range": {
        "startLine": 58,
        "startChar": 6,
        "endLine": 58,
        "endChar": 26
      },
      "revId": "a5176d7f01a07e0e84198fd73641488c6952e05d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "52638e72_9a96bca7",
        "filename": "polygerrit-ui/app/elements/edit/gr-editor-view/gr-editor-view.js",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2017-11-03T17:51:15Z",
      "side": 1,
      "message": "ðŸ¤”\n\nWhat do you both think I should do here?",
      "parentUuid": "ff3ac793_7c206733",
      "range": {
        "startLine": 58,
        "startChar": 6,
        "endLine": 58,
        "endChar": 26
      },
      "revId": "a5176d7f01a07e0e84198fd73641488c6952e05d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}