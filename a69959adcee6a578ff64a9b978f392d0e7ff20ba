{
  "comments": [
    {
      "key": {
        "uuid": "1ffba150_894f24e1",
        "filename": "prologtests/examples/aosp_rules.pl",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1078324
      },
      "writtenOn": "2020-04-27T15:51:01Z",
      "side": 1,
      "message": "This seems very generic and could potentially exclude API surfaces inadvertently. Would it not be better to whitelist the affected directories?",
      "revId": "a69959adcee6a578ff64a9b978f392d0e7ff20ba",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "63287ba2_95348d1e",
        "filename": "prologtests/examples/aosp_rules.pl",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1079096
      },
      "writtenOn": "2020-04-27T16:26:02Z",
      "side": 1,
      "message": "I think the risk that directories containing java apis getting excluded by this is close to 0. It doesn\u0027t affect any current java apis, and I doubt we\u0027re adding any outside mainline modules, which are meant to be in packages/modules.",
      "parentUuid": "1ffba150_894f24e1",
      "revId": "a69959adcee6a578ff64a9b978f392d0e7ff20ba",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8f26aa66_00ca796f",
        "filename": "prologtests/examples/aosp_rules.pl",
        "patchSetId": 1
      },
      "lineNbr": 30,
      "author": {
        "id": 1078324
      },
      "writtenOn": "2020-04-27T15:51:01Z",
      "side": 1,
      "message": "Are there any plans to rename the affected directories to avoid this issue?",
      "revId": "a69959adcee6a578ff64a9b978f392d0e7ff20ba",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5f95a7f0_3ac6727a",
        "filename": "prologtests/examples/aosp_rules.pl",
        "patchSetId": 1
      },
      "lineNbr": 30,
      "author": {
        "id": 1079096
      },
      "writtenOn": "2020-04-27T16:26:02Z",
      "side": 1,
      "message": "Don\u0027t think so. I wouldn\u0027t say it\u0027s really an issue having this explicitly whitelisted though?",
      "parentUuid": "8f26aa66_00ca796f",
      "revId": "a69959adcee6a578ff64a9b978f392d0e7ff20ba",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f466f4f0_ee4b08b2",
        "filename": "prologtests/examples/aosp_rules.pl",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1078324
      },
      "writtenOn": "2020-04-27T15:51:01Z",
      "side": 1,
      "message": "There definitely seem to be .txt files containing what look like Java classes in subdirectories of this. e.g. hardware/interfaces/audio/4.0/config/api/current.txt\n\nThey seem to be created by xsd_config so presumably they are not Java APIs per se but might still be worth reviewing anyway if they are externally visible.\n\nGiven that xsd_config generates files that look identical to Java APIs would it be worth doing something to xsd_config to differentiate its output from Java APIs? e.g. Maybe having it create a special NO_API_REVIEW_REQUIRED file which could be used instead of this whitelist? That way any new usages of xsd_config would not need to be added here. If some of them needed API review and others did not then that could be controlled by a new xsd_config property.\n\nAs long as the addition/removal of the special file still required API review you would get similar protections to what you get here. The special file\u0027s presence alone would be enough to prevent API review but it could contain an explanation as to why, e.g. generated by xsd_config.\n\nThe downside is that it would require more work to update the files and would only be ignored in branches where the file exists. But then again changes to inactive branches would be unlikely anyway.",
      "revId": "a69959adcee6a578ff64a9b978f392d0e7ff20ba",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7da856f3_85df11e7",
        "filename": "prologtests/examples/aosp_rules.pl",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1079096
      },
      "writtenOn": "2020-04-27T16:26:02Z",
      "side": 1,
      "message": "- API council currently do not review these APIs, and I suspect they don\u0027t want to. If they would like to, I\u0027m happy to remove this, but that can be discussed separately (or if Michael chimes in here).\n\n- Changing the format to either 1) not match the java regex or 2) some other mechanism seems fine, but I don\u0027t think it\u0027s really a huge benefit vs this whitelist. It\u0027s relatively rare to add more of these after all, and presumably it\u0027s most common inside subdirs of hardware/interfaces. BTW -- I have no idea how you intend for the NO_API_REVIEW_REQUIRED file to work. I don\u0027t think you can inspect random files outside of the commit delta here.",
      "parentUuid": "f466f4f0_ee4b08b2",
      "revId": "a69959adcee6a578ff64a9b978f392d0e7ff20ba",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "302a282a_183fb0c7",
        "filename": "prologtests/examples/t3.pl",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1079096
      },
      "writtenOn": "2020-04-25T13:23:09Z",
      "side": 1,
      "message": "The ones below don\u0027t require API review",
      "range": {
        "startLine": 36,
        "startChar": 0,
        "endLine": 37,
        "endChar": 15
      },
      "revId": "a69959adcee6a578ff64a9b978f392d0e7ff20ba",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "33c9a14b_1015ecdd",
        "filename": "prologtests/examples/t3.pl",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 1079096
      },
      "writtenOn": "2020-04-25T13:23:09Z",
      "side": 1,
      "message": "The ones below don\u0027t require API review",
      "range": {
        "startLine": 43,
        "startChar": 0,
        "endLine": 44,
        "endChar": 15
      },
      "revId": "a69959adcee6a578ff64a9b978f392d0e7ff20ba",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1afed0fd_f5a572d7",
        "filename": "prologtests/examples/t3.pl",
        "patchSetId": 1
      },
      "lineNbr": 88,
      "author": {
        "id": 1079096
      },
      "writtenOn": "2020-04-25T13:23:09Z",
      "side": 1,
      "message": "The ones below *do* require API review",
      "range": {
        "startLine": 87,
        "startChar": 0,
        "endLine": 88,
        "endChar": 21
      },
      "revId": "a69959adcee6a578ff64a9b978f392d0e7ff20ba",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}