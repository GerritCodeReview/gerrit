{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "55421e3e_b643810b",
        "filename": "polygerrit-ui/app/utils/event-util.ts",
        "patchSetId": 14
      },
      "lineNbr": 147,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-03-03T09:46:40Z",
      "side": 1,
      "message": "```\nexport function waitForEventOnce\u003cK extends keyof HTMLElementEventMap\u003e(\n  el: EventTarget,\n  eventName: K\n): Promise\u003cHTMLElementEventMap[K]\u003e {\n  return new Promise\u003cHTMLElementEventMap[K]\u003e(resolve \u003d\u003e {\n    const callback \u003d (event: HTMLElementEventMap[K]) \u003d\u003e {\n      el.removeEventListener(eventName, callback as EventListener);\n      resolve(event);\n    };\n    el.addEventListener(eventName, callback as EventListener);\n  });\n}\n```",
      "range": {
        "startLine": 136,
        "startChar": 0,
        "endLine": 147,
        "endChar": 1
      },
      "revId": "a70c2e04d96bd3fba2957b3e9a39fc38347ca362",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}