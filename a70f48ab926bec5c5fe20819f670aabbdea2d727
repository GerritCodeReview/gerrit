{
  "pushCert": "certificate version 0.1\npusher A0D0EF51 1467209063 +0200\nnonce ALCdEos+R6X1DKW0c9JNIEQxoL77BBnWadYG0D31qw8aJmqmRfGkN56R7c0448USF3K+r+4FuZwH\n\n0000000000000000000000000000000000000000 a4134541be1b4d3adfc3b0421a9cf220ed3eedce refs/for/master\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQEcBAABAgAGBQJXc9VnAAoJEFG1/Zeg0O9RhZwH/2ZgHvyrm/BKpBCY+ioleBOi\nUBQiewx9UvVVTDpW3/koEq9tbxVJSQ6ARxebSDXzsXXDMapMtC0ediQ5E7PxwrhA\n+Hmop1EUqaDy1exWOTk148ULiMGYffDBb87BsBTWhbNIscWNEY0HBqGKQx2aY8L0\nDlgDXw2Pp0DqIVgaIITR5KWBByFJUflEcv6sNaIIaWKGNOu9B3lrzIuz0nmKvTFo\ncsxsMlTw1dWQz+Xdcec8xaqO5GIjDD1n5bEQJRqiqYWIJsnqRH7zUw7pgxvp78Xc\nzQrt4Iofrehzv4MbBuVSutyfY9B5BYH1whCUll8xtiQBy5rOmUR6mIWowibhZL8\u003d\n\u003dlfvY\n-----END PGP SIGNATURE-----\n",
  "comments": [
    {
      "key": {
        "uuid": "002a3b7a_4e73f3d0",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/account/QueryAccounts.java",
        "patchSetId": 5
      },
      "lineNbr": 140,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-06-29T14:47:32Z",
      "side": 1,
      "message": "I\u0027m not sure I agree that you should just pass the entire user-supplied query to the query parser. When autocompleting reviewers do people actually want to say \"email:foo OR email:bar\"? I would think they are really just going to say \"foo\" like they do today. IOW the query should be passed to defaultField, not parse.",
      "revId": "a70f48ab926bec5c5fe20819f670aabbdea2d727",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a02ecf8e_8bd1cd2f",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/account/QueryAccounts.java",
        "patchSetId": 5
      },
      "lineNbr": 140,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2016-06-29T15:26:37Z",
      "side": 1,
      "message": "That\u0027s a good point. I agree that for the account suggestion (and also for the reviewer suggestion, but that\u0027s a different REST endpoint) we just want to pass the query string to the defaultField.\n\nOn the other hand I think it\u0027s beneficial to support generic account queries via REST (e.g. for tool integration). The \"right\" REST endpoint for this would be\n\n  GET /accounts/?q\u003d\u003cquery\u003e\n\nbecause this is consistent with how change queries are exposed via REST. Unfortunately \u0027GET /accounts/?q\u003d\u003cquery\u003e\u0027 is already occupied for the account suggestion.\n\nSo if we want to have separate REST endpoints for account suggestion and generic account queries, which I agree makes sense, then we must find a good endpoint for the generic account queries:\n\n  GET /accounts/query?q\u003d\u003cquery\u003e\n\n?",
      "parentUuid": "002a3b7a_4e73f3d0",
      "revId": "a70f48ab926bec5c5fe20819f670aabbdea2d727",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2043bf51_8f3675f1",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/account/QueryAccounts.java",
        "patchSetId": 5
      },
      "lineNbr": 140,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-06-29T15:32:40Z",
      "side": 1,
      "message": "Oh, I didn\u0027t actually realize account suggestion and reviewer suggestion were separate endpoints. Where is account suggestion used? Group admin pages?\n\nI think I would prefer if /accounts/?q\u003d actually supports the full account syntax, and we just introduce a different endpoint, say /accounts/suggest?q\u003d for the defaultField-based account suggestion. The UI would switch to the new endpoint. The only backwards incompatibility in the old endpoint is if the input looks like a field:value, which was not supported before but is now. I don\u0027t think that\u0027s so terrible.",
      "parentUuid": "a02ecf8e_8bd1cd2f",
      "revId": "a70f48ab926bec5c5fe20819f670aabbdea2d727",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c033c3f3_ec886b3b",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/account/QueryAccounts.java",
        "patchSetId": 5
      },
      "lineNbr": 140,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2016-06-29T16:05:09Z",
      "side": 1,
      "message": "\u003e Oh, I didn\u0027t actually realize account suggestion and reviewer\n \u003e suggestion were separate endpoints. Where is account suggestion\n \u003e used? Group admin pages?\n\nYes, it\u0027s used when you add members to a group.\n\n \u003e I think I would prefer if /accounts/?q\u003d actually supports the full\n \u003e account syntax, and we just introduce a different endpoint, say\n \u003e /accounts/suggest?q\u003d for the defaultField-based account suggestion.\n \u003e The UI would switch to the new endpoint. The only backwards\n \u003e incompatibility in the old endpoint is if the input looks like a\n \u003e field:value, which was not supported before but is now. I don\u0027t\n \u003e think that\u0027s so terrible.\n\nCool, while driving home I came to the same conclusion :-)",
      "parentUuid": "2043bf51_8f3675f1",
      "revId": "a70f48ab926bec5c5fe20819f670aabbdea2d727",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "200c9fbf_c7785edd",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/account/QueryAccounts.java",
        "patchSetId": 5
      },
      "lineNbr": 140,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2016-06-30T08:35:05Z",
      "side": 1,
      "message": "Actually\n\n  /accounts/suggest?q\u003d\n\nis not supported by our REST framework. We can\u0027t have a view on a collection, but only on a resource (like /accounts/\u003caccountid\u003e/suggest?q\u003d but this doesn\u0027t make sense).\n\nMaybe we can make it\n\n  /accounts/?suggest\u0026q\u003d\n\n?\n\nI also thought about \n\n  /accounts.suggest/?q\u003d\n\nbut we don\u0027t want to add another root collection for this.",
      "parentUuid": "c033c3f3_ec886b3b",
      "revId": "a70f48ab926bec5c5fe20819f670aabbdea2d727",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "200c9fbf_e7f24275",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/account/QueryAccounts.java",
        "patchSetId": 5
      },
      "lineNbr": 140,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2016-06-30T11:33:35Z",
      "side": 1,
      "message": "Done in\n\n  https://gerrit-review.googlesource.com/79536",
      "parentUuid": "200c9fbf_c7785edd",
      "revId": "a70f48ab926bec5c5fe20819f670aabbdea2d727",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "002a3b7a_2e78a7a8",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/account/QueryAccounts.java",
        "patchSetId": 5
      },
      "lineNbr": 146,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-06-29T14:47:32Z",
      "side": 1,
      "message": "I don\u0027t know that an error here is preferable to just returning an empty list. I mean, if this is a general search endpoint like QueryChanges, then maybe it is, but I\u0027m still talking specifically about the suggest endpoint.",
      "revId": "a70f48ab926bec5c5fe20819f670aabbdea2d727",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "200c9fbf_07e556ab",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/account/QueryAccounts.java",
        "patchSetId": 5
      },
      "lineNbr": 146,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2016-06-30T11:33:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "002a3b7a_2e78a7a8",
      "revId": "a70f48ab926bec5c5fe20819f670aabbdea2d727",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}