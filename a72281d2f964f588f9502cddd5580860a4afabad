{
  "comments": [
    {
      "key": {
        "uuid": "1862175e_0f93fa33",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2018-03-09T06:52:16Z",
      "side": 1,
      "message": "Yes, but I would still do not know, what the capabilities the authenticated user has. Example: javamelody plugin is extending AllRequestFilter: [1] and provide this capability checker to actually check that the user was granted administrate server capability: [2].\n\n* [1] https://github.com/GerritCodeReview/plugins_javamelody/blob/master/src/main/java/com/googlesource/gerrit/plugins/javamelody/GerritMonitoringFilter.java#L43\n* [2] https://github.com/GerritCodeReview/plugins_javamelody/blob/master/src/main/java/com/googlesource/gerrit/plugins/javamelody/CapabilityChecker.java#L47-L52",
      "range": {
        "startLine": 11,
        "startChar": 25,
        "endLine": 12,
        "endChar": 44
      },
      "revId": "a72281d2f964f588f9502cddd5580860a4afabad",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2bd39eb1_bfd9ce9e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1056821
      },
      "writtenOn": "2018-03-09T11:18:53Z",
      "side": 1,
      "message": "Valid point, David. For the current purpose and in my understanding, though, the knowledge of capabilities is not required for low-level tasks such as rate limiting (being my intention), where the mere knowledge of the user\u0027s identity is required. Otherwise, an early request to find the not yet established user leads to the user being declared \"anonymous\" and a bunch of troubles. I might not have the full picture, maybe Sasa or you can comment.",
      "parentUuid": "1862175e_0f93fa33",
      "range": {
        "startLine": 11,
        "startChar": 25,
        "endLine": 12,
        "endChar": 44
      },
      "revId": "a72281d2f964f588f9502cddd5580860a4afabad",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}