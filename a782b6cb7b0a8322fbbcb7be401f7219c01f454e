{
  "pushCert": "certificate version 0.1\npusher Dave Borowitz \u003cdborowitz@google.com\u003e 1529074051 -0400\nnonce ADrMV7YoMrvG38yCBTEpz5/LLwxv8HReihaiWZMPtW3s4w2C8CvE0rlf9kr40mgYccYkxeEqSl13\n\n0000000000000000000000000000000000000000 a782b6cb7b0a8322fbbcb7be401f7219c01f454e refs/for/master%ready\n-----BEGIN PGP SIGNATURE-----\n\niQJJBAABCgAzFiEEpPm/sOxWgSqG5grhX9fFmpoSiIwFAlsj0YMVHGRib3Jvd2l0\nekBnb29nbGUuY29tAAoJEF/XxZqaEoiMavYQALHsxWZBPTVJ+wAnZarAXpgu6wIL\n0GiMzqZst+VvU5Fk/m8G9PafKctsTJbpU7kCkf8YkZ3vzxYwAjGM5bA0RrCU5QUP\ntHgoBIAoOPllg/fKukwgrLrLHQ3KheWzXN2zQXSqL/GBsyY6DgPbeniyb+yw6zNI\n/dwYneLz2FG+VTdcZlDjJQDplUSDBlno1Fdrjp1uU0BeeXUUTbhO9O1o49kxP8Qh\nOZic85aAZTsH/kKpxrIYmjY2W4H4O2fx1K7WvkyFjRNjUs/mLvKz1bGOYFWreQHy\nUpANygo9dBJ+QoPi6iXLNccGAStc/oUE2G0pJiZW13f4yWukO2ArUlrrGq2LZnKz\nm4a5NkhLiYQXc9CEybuM6u/okGQstcQ4yLAV7NgwCfH/di85AdEihUe7W/YqcFxz\nQYuOfYRI4rLrWCMgKwHh7BnmEzNSLoBxjrxfNkfs8HrAvwFhcduV+99AFz8wWJy+\ngnf1skDYBLjDIsd6LB3LjEDL8jVABJLkljl6KwN33mwufcBTPqfor+sbKgXS5egS\noUp42lamjiEdZQGgsC0ilp7yEVnynu9DKpcItFbS0J6Fzg6Ze2BCITHHLiHiotQX\n5bcDAgdF/7SvyIVHNikKC51HofBUOwoPm4akG0sIoz9f1oJE2AA1asa3w2/i82Qf\ncGI3mgxCCvLg3ThF\n\u003d8ebR\n-----END PGP SIGNATURE-----\n",
  "comments": [
    {
      "key": {
        "uuid": "fc62713f_6935b4e3",
        "filename": "Documentation/config-gerrit.txt",
        "patchSetId": 2
      },
      "lineNbr": 1068,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2018-06-15T15:30:49Z",
      "side": 1,
      "message": "The new code doesn\u0027t support this anymore.",
      "range": {
        "startLine": 1068,
        "startChar": 0,
        "endLine": 1068,
        "endChar": 29
      },
      "revId": "a782b6cb7b0a8322fbbcb7be401f7219c01f454e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "990fa9f4_8e456d41",
        "filename": "Documentation/config-gerrit.txt",
        "patchSetId": 2
      },
      "lineNbr": 1068,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2018-06-18T16:46:30Z",
      "side": 1,
      "message": "Reverted this whole file, since for now at least I decided to not support refreshAfterWrite as the config key.",
      "parentUuid": "fc62713f_6935b4e3",
      "range": {
        "startLine": 1068,
        "startChar": 0,
        "endLine": 1068,
        "endChar": 29
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "a782b6cb7b0a8322fbbcb7be401f7219c01f454e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5f1fd336_dc6ddd3c",
        "filename": "java/com/google/gerrit/server/cache/mem/DefaultMemoryCacheFactory.java",
        "patchSetId": 2
      },
      "lineNbr": 105,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2018-06-15T15:30:49Z",
      "side": 1,
      "message": "def.configKey()?",
      "range": {
        "startLine": 105,
        "startChar": 14,
        "endLine": 105,
        "endChar": 24
      },
      "revId": "a782b6cb7b0a8322fbbcb7be401f7219c01f454e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "afd82e4a_28f15080",
        "filename": "java/com/google/gerrit/server/cache/mem/DefaultMemoryCacheFactory.java",
        "patchSetId": 2
      },
      "lineNbr": 105,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2018-06-18T16:46:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5f1fd336_dc6ddd3c",
      "range": {
        "startLine": 105,
        "startChar": 14,
        "endLine": 105,
        "endChar": 24
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "a782b6cb7b0a8322fbbcb7be401f7219c01f454e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae24f9c5_098ea3f3",
        "filename": "java/com/google/gerrit/server/cache/mem/DefaultMemoryCacheFactory.java",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2018-06-15T15:30:49Z",
      "side": 1,
      "message": "This means that we support cache.projects.checkFrequency for the projects cache and cache.anotherCacheName.refreshAfterWrite for all other caches but not cache.projects.refreshAfterWrite as you claim in the documentation.",
      "range": {
        "startLine": 106,
        "startChar": 14,
        "endLine": 106,
        "endChar": 82
      },
      "revId": "a782b6cb7b0a8322fbbcb7be401f7219c01f454e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "64893448_06857b37",
        "filename": "java/com/google/gerrit/server/cache/mem/DefaultMemoryCacheFactory.java",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2018-06-18T15:19:17Z",
      "side": 1,
      "message": "After starting to rewrite this code, I realized I want to scale back this change to just support the ProjectCache. Safely supporting refreshAfterWrite requires an asynchronous implementation of CacheLoader#reload[1], and the only implementation of #reload that we have at all (much less async) is in ProjectCacheImpl.\n\nLong term, it may be feasible to use CacheLoader#asyncReloading on other caches, passing the FanOutExecutor. But I don\u0027t see a pressing need for that now, and as we can see from this change, it\u0027s quite a bit of ugliness to make it work for other caches. So for now I\u0027d prefer to keep it simple.\n\n[1] https://google.github.io/guava/releases/25.1-jre/api/docs/com/google/common/cache/CacheLoader.html#reload-K-V-",
      "parentUuid": "ae24f9c5_098ea3f3",
      "range": {
        "startLine": 106,
        "startChar": 14,
        "endLine": 106,
        "endChar": 82
      },
      "revId": "a782b6cb7b0a8322fbbcb7be401f7219c01f454e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "17480e6b_565bd64d",
        "filename": "java/com/google/gerrit/server/cache/mem/DefaultMemoryCacheFactory.java",
        "patchSetId": 2
      },
      "lineNbr": 106,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2018-06-18T16:46:30Z",
      "side": 1,
      "message": "Done, PTAL",
      "parentUuid": "64893448_06857b37",
      "range": {
        "startLine": 106,
        "startChar": 14,
        "endLine": 106,
        "endChar": 82
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "a782b6cb7b0a8322fbbcb7be401f7219c01f454e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "14fcd4ad_fcb5ebb4",
        "filename": "java/com/google/gerrit/server/cache/mem/DefaultMemoryCacheFactory.java",
        "patchSetId": 2
      },
      "lineNbr": 112,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2018-06-15T15:30:49Z",
      "side": 1,
      "message": "refreshAfterWrite?",
      "range": {
        "startLine": 112,
        "startChar": 33,
        "endLine": 112,
        "endChar": 49
      },
      "revId": "a782b6cb7b0a8322fbbcb7be401f7219c01f454e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "40a55136_17818e1f",
        "filename": "java/com/google/gerrit/server/cache/mem/DefaultMemoryCacheFactory.java",
        "patchSetId": 2
      },
      "lineNbr": 112,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2018-06-18T16:46:30Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "14fcd4ad_fcb5ebb4",
      "range": {
        "startLine": 112,
        "startChar": 33,
        "endLine": 112,
        "endChar": 49
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "a782b6cb7b0a8322fbbcb7be401f7219c01f454e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "531cad82_18bdd768",
        "filename": "java/com/google/gerrit/server/project/ProjectCacheImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 188,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2018-06-15T15:30:49Z",
      "side": 1,
      "message": "Why do we need this? Do you proactively want to load values as soon as we evict old ones?",
      "range": {
        "startLine": 188,
        "startChar": 6,
        "endLine": 188,
        "endChar": 30
      },
      "revId": "a782b6cb7b0a8322fbbcb7be401f7219c01f454e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "66b09d9f_64ce40d2",
        "filename": "java/com/google/gerrit/server/project/ProjectCacheImpl.java",
        "patchSetId": 2
      },
      "lineNbr": 188,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2018-06-18T16:46:30Z",
      "side": 1,
      "message": "Yes, added a comment to make my intent clear.",
      "parentUuid": "531cad82_18bdd768",
      "range": {
        "startLine": 188,
        "startChar": 6,
        "endLine": 188,
        "endChar": 30
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "a782b6cb7b0a8322fbbcb7be401f7219c01f454e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}