{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "76af9ab6_6d580232",
        "filename": "polygerrit-ui/app/elements/change-list/gr-change-list-bulk-abandon-flow/gr-change-list-bulk-abandon-flow.ts",
        "patchSetId": 46
      },
      "lineNbr": 48,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2022-03-08T17:53:27Z",
      "side": 1,
      "message": "What about listening to allChanges and moving the computation of abandonable into this component as it\u0027s very specific to this flow?\n\nSimilar to https://gerrit-review.googlesource.com/c/gerrit/+/332199",
      "revId": "a84c949cbf56610f11b0dfd4211045aa505db5bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6e7f3009_97ba2ea1",
        "filename": "polygerrit-ui/app/elements/change-list/gr-change-list-bulk-abandon-flow/gr-change-list-bulk-abandon-flow.ts",
        "patchSetId": 46
      },
      "lineNbr": 48,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2022-03-09T10:56:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "76af9ab6_6d580232",
      "revId": "a84c949cbf56610f11b0dfd4211045aa505db5bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "71ecb556_7c5e14fe",
        "filename": "polygerrit-ui/app/elements/change-list/gr-change-list-bulk-abandon-flow/gr-change-list-bulk-abandon-flow.ts",
        "patchSetId": 46
      },
      "lineNbr": 96,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2022-03-08T17:53:27Z",
      "side": 1,
      "message": "inline",
      "revId": "a84c949cbf56610f11b0dfd4211045aa505db5bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "98574ff6_9b0a5773",
        "filename": "polygerrit-ui/app/elements/change-list/gr-change-list-bulk-abandon-flow/gr-change-list-bulk-abandon-flow.ts",
        "patchSetId": 46
      },
      "lineNbr": 96,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2022-03-09T10:56:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "71ecb556_7c5e14fe",
      "revId": "a84c949cbf56610f11b0dfd4211045aa505db5bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8cc5fb24_b538abe5",
        "filename": "polygerrit-ui/app/elements/change-list/gr-change-list-bulk-abandon-flow/gr-change-list-bulk-abandon-flow.ts",
        "patchSetId": 46
      },
      "lineNbr": 100,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2022-03-08T17:53:27Z",
      "side": 1,
      "message": "inline",
      "revId": "a84c949cbf56610f11b0dfd4211045aa505db5bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cc4b4f5a_870c7070",
        "filename": "polygerrit-ui/app/elements/change-list/gr-change-list-bulk-abandon-flow/gr-change-list-bulk-abandon-flow.ts",
        "patchSetId": 46
      },
      "lineNbr": 100,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2022-03-09T10:56:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8cc5fb24_b538abe5",
      "revId": "a84c949cbf56610f11b0dfd4211045aa505db5bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c9a374e1_debede74",
        "filename": "polygerrit-ui/app/elements/change-list/gr-change-list-bulk-abandon-flow/gr-change-list-bulk-abandon-flow.ts",
        "patchSetId": 46
      },
      "lineNbr": 110,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2022-03-08T17:53:27Z",
      "side": 1,
      "message": "This method no longer needs to be async.",
      "revId": "a84c949cbf56610f11b0dfd4211045aa505db5bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4f3359c8_a3643bcd",
        "filename": "polygerrit-ui/app/elements/change-list/gr-change-list-bulk-abandon-flow/gr-change-list-bulk-abandon-flow.ts",
        "patchSetId": 46
      },
      "lineNbr": 110,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2022-03-08T17:53:27Z",
      "side": 1,
      "message": "Overall I wonder if this becomes simpler if you don\u0027t add abandonChanges inside of the model and instead do.\n\n```\nsubscribe(\n  this,\n  this.getBulkActionsModel().selectedChanges$,\n  selectedChanges \u003d\u003e { this.selectedChanges \u003d selectedChanges});\n  \n  ...\n  \n  private handleConfirm() {\n    for (const change of this.selectedChanges) {\n      this.progress.set(change._number, ProgressStatus.RUNNING);\n      const errFn \u003d () \u003d\u003e {\n        this.progress.set(change._number, ProgressStatus.FAILED);\n        this.requestUpdate();\n      };\n      this.restApiService.executeChangeAction(\n        change._number,\n        change.actions!.abandon!.method,\n        \u0027/abandon\u0027,\n        undefined,\n        {message: \u0027\u0027},\n        errFn).then(result \u003d\u003e {\n          if (result?.status !\u003d\u003d 200) {\n            this.progress.set(change._number, ProgressStatus.FAILED);\n          } else {\n            this.progress.set(change._number, ProgressStatus.SUCCESSFUL);\n          }\n          this.requestUpdate();   \n      });\n    }\n    this.requestUpdate();\n  }\n\n```",
      "revId": "a84c949cbf56610f11b0dfd4211045aa505db5bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0a306547_c28d7f0a",
        "filename": "polygerrit-ui/app/elements/change-list/gr-change-list-bulk-abandon-flow/gr-change-list-bulk-abandon-flow.ts",
        "patchSetId": 46
      },
      "lineNbr": 110,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2022-03-09T10:56:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c9a374e1_debede74",
      "revId": "a84c949cbf56610f11b0dfd4211045aa505db5bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2f4887ff_0d92bc3e",
        "filename": "polygerrit-ui/app/elements/change-list/gr-change-list-bulk-abandon-flow/gr-change-list-bulk-abandon-flow.ts",
        "patchSetId": 46
      },
      "lineNbr": 110,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2022-03-09T10:56:47Z",
      "side": 1,
      "message": "We agreed in the meeting that the model will make the restAPI request?\nLet\u0027s proceed with what we agreed upon.\nWe can discuss again if necessary later.",
      "parentUuid": "4f3359c8_a3643bcd",
      "revId": "a84c949cbf56610f11b0dfd4211045aa505db5bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "36dd3229_df86f5f0",
        "filename": "polygerrit-ui/app/elements/change-list/gr-change-list-bulk-abandon-flow/gr-change-list-bulk-abandon-flow.ts",
        "patchSetId": 46
      },
      "lineNbr": 112,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2022-03-08T17:53:27Z",
      "side": 1,
      "message": "forEach is discouraged, use a for loop instead.",
      "revId": "a84c949cbf56610f11b0dfd4211045aa505db5bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c59f922f_5b5036f1",
        "filename": "polygerrit-ui/app/elements/change-list/gr-change-list-bulk-abandon-flow/gr-change-list-bulk-abandon-flow.ts",
        "patchSetId": 46
      },
      "lineNbr": 112,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2022-03-09T10:56:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "36dd3229_df86f5f0",
      "revId": "a84c949cbf56610f11b0dfd4211045aa505db5bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "13983685_f605e8f4",
        "filename": "polygerrit-ui/app/elements/change-list/gr-change-list-bulk-abandon-flow/gr-change-list-bulk-abandon-flow.ts",
        "patchSetId": 46
      },
      "lineNbr": 117,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2022-03-08T17:53:27Z",
      "side": 1,
      "message": "requestUpdate();",
      "revId": "a84c949cbf56610f11b0dfd4211045aa505db5bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "af99adc6_f83c0044",
        "filename": "polygerrit-ui/app/elements/change-list/gr-change-list-bulk-abandon-flow/gr-change-list-bulk-abandon-flow.ts",
        "patchSetId": 46
      },
      "lineNbr": 117,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2022-03-09T10:56:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "13983685_f605e8f4",
      "revId": "a84c949cbf56610f11b0dfd4211045aa505db5bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0bfedbae_3f408bd7",
        "filename": "polygerrit-ui/app/elements/change-list/gr-change-list-bulk-abandon-flow/gr-change-list-bulk-abandon-flow.ts",
        "patchSetId": 46
      },
      "lineNbr": 121,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2022-03-08T17:53:27Z",
      "side": 1,
      "message": "forEach is discouraged, use a for loop instead.",
      "revId": "a84c949cbf56610f11b0dfd4211045aa505db5bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e39cbffb_3fbca03e",
        "filename": "polygerrit-ui/app/models/bulk-actions/bulk-actions-model.ts",
        "patchSetId": 46
      },
      "lineNbr": 133,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2022-03-08T17:53:27Z",
      "side": 1,
      "message": "I wonder",
      "revId": "a84c949cbf56610f11b0dfd4211045aa505db5bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "71e5e27c_e3919fbd",
        "filename": "polygerrit-ui/app/models/bulk-actions/bulk-actions-model.ts",
        "patchSetId": 46
      },
      "lineNbr": 133,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2022-03-09T10:56:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e39cbffb_3fbca03e",
      "revId": "a84c949cbf56610f11b0dfd4211045aa505db5bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}