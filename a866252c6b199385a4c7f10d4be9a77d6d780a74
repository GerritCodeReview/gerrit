{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "d3ec231f_1cb165ae",
        "filename": "java/com/google/gerrit/server/git/receive/ReceiveCommits.java",
        "patchSetId": 1
      },
      "lineNbr": 2379,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2023-05-26T21:14:36Z",
      "side": 0,
      "message": "Maybe this is what you\u0027re confused about, but won\u0027t #4 be blocked because we would either 1) think A is a new change not yet in the branch or 2) think another commit (A~) for the ChangeId in A is being pushed and get a \"no new changes\" message?",
      "range": {
        "startLine": 2372,
        "startChar": 0,
        "endLine": 2379,
        "endChar": 30
      },
      "revId": "a866252c6b199385a4c7f10d4be9a77d6d780a74",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3c150199_46af2289",
        "filename": "java/com/google/gerrit/server/git/receive/ReceiveCommits.java",
        "patchSetId": 1
      },
      "lineNbr": 2379,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2023-06-09T13:57:53Z",
      "side": 0,
      "message": "\"Let A\u003c-B\u003c-C\": Does this means we start with having commits A, B, C, or with having changes A, B, C?\n\nIf these are commits, A and A~ are pushed to refs/heads/master, hence there is no change for A, hence change B cannot depend on it.\n\nIf these are changes. Pushing A to refs/heads/master auto-closes the change and force-pushing A~ doesn\u0027t update it. Since the force push doesn\u0027t update change A,  it\u0027s not changing anything for change B when pushing C.",
      "parentUuid": "d3ec231f_1cb165ae",
      "range": {
        "startLine": 2372,
        "startChar": 0,
        "endLine": 2379,
        "endChar": 30
      },
      "revId": "a866252c6b199385a4c7f10d4be9a77d6d780a74",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9455d247_8cfbcb44",
        "filename": "java/com/google/gerrit/server/git/receive/ReceiveCommits.java",
        "patchSetId": 1
      },
      "lineNbr": 2379,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2023-06-09T23:33:52Z",
      "side": 0,
      "message": "\u003e \"Let A\u003c-B\u003c-C\": Does this means we start with having commits A, B, C, or with having changes A, B, C?\n\nA and A~ are noted as pushed to \u0027refs/heads/master\u0027, so I assumed those were only commits and not changes. B and C I assumed were commits with different Change-Ids.\n\n\u003e \n\u003e If these are commits, A and A~ are pushed to refs/heads/master, hence there is no change for A, hence change B cannot depend on it.\n\nB still has A as a parent commit. Does A need to be a change for this logic to be relevant?\n\n\u003e \n\u003e If these are changes. Pushing A to refs/heads/master auto-closes the change and force-pushing A~ doesn\u0027t update it. Since the force push doesn\u0027t update change A,  it\u0027s not changing anything for change B when pushing C.\n\nHmm. Will we notice that B\u0027s parent is no longer on master when we push C for review? If yes, that\u0027s when I thought we would either fail the push or try to possibly create a new change for A.\n\nI don\u0027t care if you want to remove this case, I just thought I might try to understand it too ðŸ˜Š It\u0027s clearly very confusing, so you could also just add a bunch of tests for the updateGroups logic you do think is important?",
      "parentUuid": "3c150199_46af2289",
      "range": {
        "startLine": 2372,
        "startChar": 0,
        "endLine": 2379,
        "endChar": 30
      },
      "revId": "a866252c6b199385a4c7f10d4be9a77d6d780a74",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}