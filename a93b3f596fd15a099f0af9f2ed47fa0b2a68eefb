{
  "comments": [
    {
      "key": {
        "uuid": "b4466ce3_c250952a",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/query/change/ChangeQueryBuilder.java",
        "patchSetId": 5
      },
      "lineNbr": 655,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-08-03T12:05:06Z",
      "side": 1,
      "message": "optional: We could omit this part as Predicate#or has special treatment for single element lists.",
      "range": {
        "startLine": 653,
        "startChar": 0,
        "endLine": 655,
        "endChar": 5
      },
      "revId": "a93b3f596fd15a099f0af9f2ed47fa0b2a68eefb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8a76dee7_1c1a58d3",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/query/change/ChangeQueryBuilder.java",
        "patchSetId": 5
      },
      "lineNbr": 655,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2017-08-03T16:22:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b4466ce3_c250952a",
      "range": {
        "startLine": 653,
        "startChar": 0,
        "endLine": 655,
        "endChar": 5
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "a93b3f596fd15a099f0af9f2ed47fa0b2a68eefb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e4c5df8a_c4d00a95",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/query/change/ConflictsPredicate.java",
        "patchSetId": 5
      },
      "lineNbr": 57,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-08-03T12:05:06Z",
      "side": 1,
      "message": "The previous code checked the limit against the terms of all changes. Is the resulting index query now limited to the terms for one change?",
      "range": {
        "startLine": 57,
        "startChar": 8,
        "endLine": 57,
        "endChar": 54
      },
      "revId": "a93b3f596fd15a099f0af9f2ed47fa0b2a68eefb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3ffa2832_6c05c8b3",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/query/change/ConflictsPredicate.java",
        "patchSetId": 5
      },
      "lineNbr": 57,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2017-08-03T16:22:51Z",
      "side": 1,
      "message": "No. \"conflicts:A conflicts:B\" is a single index query with all of their files listed as predicates. So individually these could be under the maxTerms, but combined could exceed maxTerms. The over limit is caught later in the query rewriter.\n\n\"conflicts:A OR conflicts:B\" is actually 3 index queries. Each conflicts operator gets its own index query, and so this maxTerms test works as expected. Unfortunately the rewriter is combining a status:open predicate so the effective query is:\n\n  index{status:new OR status:draft)\n  AND\n    index{project:src ref:refs/heads/master -change:A path:bar}\n    OR\n    index{project:src ref:refs/heads/master -change:B path:foo}\n\nI\u0027ll have to try to fix that rewrite glitch in the another commit.",
      "parentUuid": "e4c5df8a_c4d00a95",
      "range": {
        "startLine": 57,
        "startChar": 8,
        "endLine": 57,
        "endChar": 54
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "a93b3f596fd15a099f0af9f2ed47fa0b2a68eefb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}