{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "008e3091_6fdadc56",
        "filename": "/COMMIT_MSG",
        "patchSetId": 14
      },
      "lineNbr": 16,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2021-05-08T07:06:06Z",
      "side": 1,
      "message": "It doesn\u0027t seem to work.\n\nI added logging in verify() method: [1]. I added this section to ~/.gitconfig:\n\n  [http]\n        cookiefile \u003d /home/davido/.gitcookies\n        saveCookie \u003d true\n\nI setup test site and try to clone with HTTP pwd:\n\n  $ git fetch http://admin:secret@localhost:8080/a/test_project_http_clone refs/changes/01/1/1 \u0026\u0026 git cherry-pick FETCH_HEAD\n\nI see this log output:\n\n  [2021-05-08T08:59:34.279+02:00] [HTTP-111] WARN  com.google.gerrit.httpd.ProjectBasicAuthFilter : Verifying Request: /a/test_project_http_clone/info/refs?service\u003dgit-upload-pack\n[2021-05-08T08:59:34.283+02:00] [HTTP-111] WARN  com.google.gerrit.httpd.ProjectBasicAuthFilter : Verifying Request: /a/test_project_http_clone/info/refs?service\u003dgit-upload-pack\n[2021-05-08T08:59:34.299+02:00] [HTTP-111] WARN  com.google.gerrit.httpd.ProjectBasicAuthFilter : Verifying Request: /a/test_project_http_clone/info/refs?service\u003dgit-upload-pack\n[2021-05-08T08:59:34.394+02:00] [HTTP-111] WARN  com.google.gerrit.httpd.ProjectBasicAuthFilter : Verifying Request: /a/test_project_http_clone/info/refs?service\u003dgit-upload-pack\n[2021-05-08T08:59:34.612+02:00] [HTTP-111] WARN  com.google.gerrit.httpd.ProjectBasicAuthFilter : Verifying Request: /a/test_project_http_clone/git-upload-pack?\n[2021-05-08T08:59:34.623+02:00] [HTTP-111] WARN  com.google.gerrit.httpd.ProjectBasicAuthFilter : Verifying Request: /a/test_project_http_clone/git-upload-pack?\n[2021-05-08T08:59:34.646+02:00] [HTTP-109] WARN  com.google.gerrit.httpd.ProjectBasicAuthFilter : Verifying Request: /a/test_project_http_clone/git-upload-pack?\n[2021-05-08T08:59:34.654+02:00] [HTTP-109] WARN  com.google.gerrit.httpd.ProjectBasicAuthFilter : Verifying Request: /a/test_project_http_clone/git-upload-pack?\n\nMy local git version is:\n\n  $ git version\n  git version 2.31.1\n\nWhy it doesn\u0027t work?\n\n[1] http://paste.openstack.org/show/805071",
      "revId": "af11b42fe9771f8e6b3f2bccf6c9d49a40237131",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "57145a40_6662a86a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 14
      },
      "lineNbr": 16,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-05-08T09:29:52Z",
      "side": 1,
      "message": "are you using LDAP authentication?",
      "parentUuid": "008e3091_6fdadc56",
      "revId": "af11b42fe9771f8e6b3f2bccf6c9d49a40237131",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b65020eb_fc14274d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 14
      },
      "lineNbr": 16,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-05-09T13:28:03Z",
      "side": 1,
      "message": "Added the note about HTTP vs. LDAP authentication and the extra test about it.",
      "parentUuid": "57145a40_6662a86a",
      "revId": "af11b42fe9771f8e6b3f2bccf6c9d49a40237131",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aed809a1_5c1bc757",
        "filename": "/COMMIT_MSG",
        "patchSetId": 14
      },
      "lineNbr": 20,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2021-05-08T06:48:10Z",
      "side": 1,
      "message": "Add this information to the documentation? My proposal would be to add it to Documentation/user-upload.txt, to \"HTTP/HTTPS\" section.",
      "range": {
        "startLine": 18,
        "startChar": 0,
        "endLine": 20,
        "endChar": 4
      },
      "revId": "af11b42fe9771f8e6b3f2bccf6c9d49a40237131",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f85de4fa_4577508b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 14
      },
      "lineNbr": 20,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-05-09T13:28:03Z",
      "side": 1,
      "message": "Good point, let me added it there.\n\nAlso, it\u0027s worth mentioning when the gitBasicAuthPolicy is set to LDAP or HTTP_LDAP.",
      "parentUuid": "aed809a1_5c1bc757",
      "range": {
        "startLine": 18,
        "startChar": 0,
        "endLine": 20,
        "endChar": 4
      },
      "revId": "af11b42fe9771f8e6b3f2bccf6c9d49a40237131",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1109d42d_cb4afb91",
        "filename": "/COMMIT_MSG",
        "patchSetId": 14
      },
      "lineNbr": 20,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-05-09T13:40:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f85de4fa_4577508b",
      "range": {
        "startLine": 18,
        "startChar": 0,
        "endLine": 20,
        "endChar": 4
      },
      "revId": "af11b42fe9771f8e6b3f2bccf6c9d49a40237131",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5396582a_a34cc488",
        "filename": "/COMMIT_MSG",
        "patchSetId": 14
      },
      "lineNbr": 27,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2021-05-08T06:48:10Z",
      "side": 1,
      "message": "You added the reference in issue tracker:\n\n  However, since the introduction of basic auth with Change-Id: Ibe589ab2b0,\n  the mechanism of keeping a session (it was a digest before) \n  across calls has not been preserved and the basic-auth implementation\n  resulted in multiple authentications with the configured realm.\n\nShould we add add this section in commit message for the reference?",
      "revId": "af11b42fe9771f8e6b3f2bccf6c9d49a40237131",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ee6c910e_9ce262eb",
        "filename": "/COMMIT_MSG",
        "patchSetId": 14
      },
      "lineNbr": 27,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-05-08T09:57:30Z",
      "side": 1,
      "message": "sure, good idea.",
      "parentUuid": "5396582a_a34cc488",
      "revId": "af11b42fe9771f8e6b3f2bccf6c9d49a40237131",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0bd32270_80cd5bd2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 14
      },
      "lineNbr": 27,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-05-09T13:28:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ee6c910e_9ce262eb",
      "revId": "af11b42fe9771f8e6b3f2bccf6c9d49a40237131",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8946871c_88b188a6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 14
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-05-08T01:56:02Z",
      "side": 1,
      "message": "@Davido @Ponch thanks for the reviews. Can you please re-check?",
      "revId": "af11b42fe9771f8e6b3f2bccf6c9d49a40237131",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1557d248_fab75273",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 14
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-05-08T09:57:30Z",
      "side": 1,
      "message": "cookies are not generated when you have an HTTP password authentication because you are not actually authenticated with realm.\n\nit would be a security issue having a session cookie valid also for interactive interaction if you are not actually authenticated with the realm (LDAP).\n\ndoes that make sense?",
      "revId": "af11b42fe9771f8e6b3f2bccf6c9d49a40237131",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3f764b73_b600bd52",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 14
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-05-08T09:58:14Z",
      "side": 1,
      "message": "i need to add one test for that scenario, so to make it an explicit requirement tested",
      "parentUuid": "1557d248_fab75273",
      "revId": "af11b42fe9771f8e6b3f2bccf6c9d49a40237131",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "725df03c_99978af7",
        "filename": "java/com/google/gerrit/httpd/ProjectBasicAuthFilter.java",
        "patchSetId": 14
      },
      "lineNbr": 187,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2021-05-08T06:48:10Z",
      "side": 1,
      "message": "@Nullable",
      "range": {
        "startLine": 187,
        "startChar": 58,
        "endLine": 187,
        "endChar": 82
      },
      "revId": "af11b42fe9771f8e6b3f2bccf6c9d49a40237131",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ef41a050_642d9845",
        "filename": "java/com/google/gerrit/httpd/ProjectBasicAuthFilter.java",
        "patchSetId": 14
      },
      "lineNbr": 187,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-05-09T13:40:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "725df03c_99978af7",
      "range": {
        "startLine": 187,
        "startChar": 58,
        "endLine": 187,
        "endChar": 82
      },
      "revId": "af11b42fe9771f8e6b3f2bccf6c9d49a40237131",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eb04aab8_94a9f984",
        "filename": "javatests/com/google/gerrit/httpd/ProjectBasicAuthFilterTest.java",
        "patchSetId": 14
      },
      "lineNbr": 189,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2021-05-08T06:48:10Z",
      "side": 1,
      "message": "I tried to merge this change up to master but get this failure: [1].\n\n[1] http://paste.openstack.org/show/805070/",
      "range": {
        "startLine": 189,
        "startChar": 4,
        "endLine": 189,
        "endChar": 43
      },
      "revId": "af11b42fe9771f8e6b3f2bccf6c9d49a40237131",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "21c7d8a7_4cae498b",
        "filename": "javatests/com/google/gerrit/httpd/ProjectBasicAuthFilterTest.java",
        "patchSetId": 14
      },
      "lineNbr": 189,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-05-09T13:40:06Z",
      "side": 1,
      "message": "Let me cherry-pick the change and verify.",
      "parentUuid": "eb04aab8_94a9f984",
      "range": {
        "startLine": 189,
        "startChar": 4,
        "endLine": 189,
        "endChar": 43
      },
      "revId": "af11b42fe9771f8e6b3f2bccf6c9d49a40237131",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3ce63437_280558a1",
        "filename": "javatests/com/google/gerrit/httpd/ProjectBasicAuthFilterTest.java",
        "patchSetId": 14
      },
      "lineNbr": 189,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2021-05-10T07:28:02Z",
      "side": 1,
      "message": "Have you checked why the test is failing on master?\n\nI added this diff: [1] and then the failure was:\n\nThere was 1 failure:\n1) shouldNotReauthenticateIfAlreadySignedIn(com.google.gerrit.httpd.ProjectBasicAuthFilterTest)\nWanted but not invoked:\nchain.doFilter(\n    com.google.gerrit.util.http.testutil.FakeHttpServletRequest@2954b5ea,\n    \u003cany\u003e\n);\n-\u003e at com.google.gerrit.httpd.ProjectBasicAuthFilterTest.shouldNotReauthenticateIfAlreadySignedIn(ProjectBasicAuthFilterTest.java:220)\nActually, there were zero interactions with this mock.\n\n\tat com.google.gerrit.httpd.ProjectBasicAuthFilterTest.shouldNotReauthenticateIfAlreadySignedIn(ProjectBasicAuthFilterTest.java:220)\n\n[1] http://paste.openstack.org/show/805148",
      "parentUuid": "21c7d8a7_4cae498b",
      "range": {
        "startLine": 189,
        "startChar": 4,
        "endLine": 189,
        "endChar": 43
      },
      "revId": "af11b42fe9771f8e6b3f2bccf6c9d49a40237131",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d70642b9_a1a9be68",
        "filename": "javatests/com/google/gerrit/httpd/ProjectBasicAuthFilterTest.java",
        "patchSetId": 14
      },
      "lineNbr": 189,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-05-10T17:33:43Z",
      "side": 1,
      "message": "It fails on master because the latest stable-3.4 isn\u0027t merged yet with master.\nIf you apply all the merges up to master consistently (I just did it locally) it works as expected.",
      "parentUuid": "3ce63437_280558a1",
      "range": {
        "startLine": 189,
        "startChar": 4,
        "endLine": 189,
        "endChar": 43
      },
      "revId": "af11b42fe9771f8e6b3f2bccf6c9d49a40237131",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8420f5b9_7ff37e85",
        "filename": "javatests/com/google/gerrit/util/http/testutil/FakeHttpServletRequest.java",
        "patchSetId": 14
      },
      "lineNbr": 262,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2021-05-08T06:48:10Z",
      "side": 1,
      "message": "Could be inlined below.",
      "range": {
        "startLine": 261,
        "startChar": 4,
        "endLine": 262,
        "endChar": 79
      },
      "revId": "af11b42fe9771f8e6b3f2bccf6c9d49a40237131",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "30c6c771_1f4bffd7",
        "filename": "javatests/com/google/gerrit/util/http/testutil/FakeHttpServletRequest.java",
        "patchSetId": 14
      },
      "lineNbr": 262,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-05-09T13:40:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8420f5b9_7ff37e85",
      "range": {
        "startLine": 261,
        "startChar": 4,
        "endLine": 262,
        "endChar": 79
      },
      "revId": "af11b42fe9771f8e6b3f2bccf6c9d49a40237131",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8a25b253_5645d9dd",
        "filename": "javatests/com/google/gerrit/util/http/testutil/FakeHttpServletRequest.java",
        "patchSetId": 14
      },
      "lineNbr": 270,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2021-05-08T06:48:10Z",
      "side": 1,
      "message": "Nit: import statically:\n\n  $ git grep \"Collectors.toList\" | grep import | wc -l\n  111",
      "range": {
        "startLine": 270,
        "startChar": 17,
        "endLine": 270,
        "endChar": 36
      },
      "revId": "af11b42fe9771f8e6b3f2bccf6c9d49a40237131",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d3843872_071ccbbd",
        "filename": "javatests/com/google/gerrit/util/http/testutil/FakeHttpServletRequest.java",
        "patchSetId": 14
      },
      "lineNbr": 270,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-05-09T13:40:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8a25b253_5645d9dd",
      "range": {
        "startLine": 270,
        "startChar": 17,
        "endLine": 270,
        "endChar": 36
      },
      "revId": "af11b42fe9771f8e6b3f2bccf6c9d49a40237131",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fa91c399_bfbe144d",
        "filename": "javatests/com/google/gerrit/util/http/testutil/FakeHttpServletResponse.java",
        "patchSetId": 14
      },
      "lineNbr": 164,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2021-05-08T06:48:10Z",
      "side": 1,
      "message": "Why it\u0027s not:\n\n  addHeader(\"Set-Cookie\", cookie.getName() + \"\u003d\" + cookie.getValue());",
      "range": {
        "startLine": 164,
        "startChar": 4,
        "endLine": 164,
        "endChar": 66
      },
      "revId": "af11b42fe9771f8e6b3f2bccf6c9d49a40237131",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "11862da7_698aa894",
        "filename": "javatests/com/google/gerrit/util/http/testutil/FakeHttpServletResponse.java",
        "patchSetId": 14
      },
      "lineNbr": 164,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-05-09T13:40:06Z",
      "side": 1,
      "message": "I believe you are right.",
      "parentUuid": "fa91c399_bfbe144d",
      "range": {
        "startLine": 164,
        "startChar": 4,
        "endLine": 164,
        "endChar": 66
      },
      "revId": "af11b42fe9771f8e6b3f2bccf6c9d49a40237131",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}