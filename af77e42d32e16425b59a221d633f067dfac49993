{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "0d5e537a_85183f50",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2022-01-14T14:15:05Z",
      "side": 1,
      "message": "What happens if plugins implement multiple submit rules? \n\nI believe at the moment we do not have plugins that implement multiple submit rules, but:\n\n* we don\u0027t know all plugins\n\n* the simplesubmitrules plugin is intended to be a collection of submit rules, at the moment it contains only a single submit rule (NoUnresolvedCommentsRule, earlier also RequireNonAuthorApprovalRule but this one was moved into Gerrit core), but it\u0027s not unlikely new submit rules will be added at some point\n\nWhat I\u0027m wondering. With the old submit rules, the UI showed the fallback text from the contained submit requirements, why can\u0027t we just use that text when mapping to new submit requirements and this way be fully compatible?",
      "range": {
        "startLine": 21,
        "startChar": 45,
        "endLine": 23,
        "endChar": 52
      },
      "revId": "af77e42d32e16425b59a221d633f067dfac49993",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a0039d38_03d10bd9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-01-17T09:04:40Z",
      "side": 1,
      "message": "That\u0027s a valid point. I\u0027d though prefer not to spend much time on this part since all plugins we know currently implement one submit rule as you mentioned, and also because this is a transient state and we\u0027re actively working on replacing existing submit rules with their own submit requirements, similar to what we did in https://gerrit-review.googlesource.com/c/plugins/code-owners/+/320980.",
      "parentUuid": "0d5e537a_85183f50",
      "range": {
        "startLine": 21,
        "startChar": 45,
        "endLine": 23,
        "endChar": 52
      },
      "revId": "af77e42d32e16425b59a221d633f067dfac49993",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f3b4c6bf_d1f04a3e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2022-01-17T09:19:52Z",
      "side": 1,
      "message": "I think I\u0027m fine with not handling multiple submit rules in a plugin for the transition phase. Can you please add this to the commit message, so that it\u0027s clear that this is a conscious decision?\n\nBut I still have a concern. For the simple-submit-rules plugin the NoUnresolvedCommentsRule used to show up as \"Resolve All Comments\" [1,2]. IIUC with the conversion to submit requirements it became something like \"simple-submit-rules~NoUnresolvedCommentsRule\" and now it will become \"Simple-Submit-Rules\". I\u0027m not sure users will still understand that this is about unresolved comments.\n\n[1] https://docs.google.com/presentation/d/1fUjnmngWLFaexZKlN5XmL9EmOX8Nh_P0yJcThnlJ3Lk/edit#slide\u003did.g418d0013ba_2_566\n[2] https://gerrit.googlesource.com/plugins/simple-submit-rules/+/refs/heads/master/src/main/java/com/googlesource/gerrit/plugins/simplesubmitrules/rules/NoUnresolvedCommentsRule.java#41",
      "parentUuid": "a0039d38_03d10bd9",
      "range": {
        "startLine": 21,
        "startChar": 45,
        "endLine": 23,
        "endChar": 52
      },
      "revId": "af77e42d32e16425b59a221d633f067dfac49993",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5bd2afb9_29be8e3a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-01-17T12:12:40Z",
      "side": 1,
      "message": "\u003e I think I\u0027m fine with not handling multiple submit rules in a plugin for the transition phase. Can you please add this to the commit message, so that it\u0027s clear that this is a conscious decision?\n\nThanks. I updated the commit message.\n\n\u003e But I still have a concern. For the simple-submit-rules plugin the NoUnresolvedCommentsRule used to show up as \"Resolve All Comments\" [1,2]. IIUC with the conversion to submit requirements it became something like \"simple-submit-rules~NoUnresolvedCommentsRule\" and now it will become \"Simple-Submit-Rules\". I\u0027m not sure users will still understand that this is about unresolved comments.\n\nI agree with you, the new name has nothing to do with the actual rule intention. However I think all installations who need this rule can now just define:\n\nSR: \n  Name \u003d No Unresolved Comments, \n  submittableIf \u003d -has:unresolved\n\nNot sure about the best channel to broadcast such a recommendation, but I can post on repo-discuss for instance if you think this is important.",
      "parentUuid": "f3b4c6bf_d1f04a3e",
      "range": {
        "startLine": 21,
        "startChar": 45,
        "endLine": 23,
        "endChar": 52
      },
      "revId": "af77e42d32e16425b59a221d633f067dfac49993",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cd6af94d_13ee44d9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2022-01-17T12:19:44Z",
      "side": 1,
      "message": "I think describing this well in the commit message would be sufficient.\n\n\u003e However I think all installations who need this rule can now just define:\n\u003e SR: \n\u003e  Name \u003d No Unresolved Comments, \n\u003e  submittableIf \u003d -has:unresolved\n\nIf this is so easy, couldn\u0027t we just do the same for the code owners submit rule?",
      "parentUuid": "5bd2afb9_29be8e3a",
      "range": {
        "startLine": 21,
        "startChar": 45,
        "endLine": 23,
        "endChar": 52
      },
      "revId": "af77e42d32e16425b59a221d633f067dfac49993",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "06e37cd4_88815ef9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-01-17T13:03:42Z",
      "side": 1,
      "message": "Yes, we will do the same for code-owners. We are migrating the code-owners submit rule to\n\n[submit-requirement \"Code Owners\"]\n        applicableIf \u003d has:enabled_code-owners\n        submittableIf \u003d has:approval_code-owners\n\nThe change here acts as fallback for installations that haven\u0027t yet defined (migrated to) the new code-owners requirement.",
      "parentUuid": "cd6af94d_13ee44d9",
      "range": {
        "startLine": 21,
        "startChar": 45,
        "endLine": 23,
        "endChar": 52
      },
      "revId": "af77e42d32e16425b59a221d633f067dfac49993",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7b8576d0_6f78d301",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2022-01-17T13:25:15Z",
      "side": 1,
      "message": "OK, what I don\u0027t understand is how do you plan to do the rollout for the simple-submit-plugin? AFAIK it\u0027s used by some of our hosts internally. As soon as this change is submitted and imported the UI for the NoUnresolvedCommentsRule is broken. Will you add SR definitions with the correct name for usages of NoUnresolvedCommentsRule before submitting this change? If so, why not also for the code owners submit rule and then drop this change?",
      "parentUuid": "06e37cd4_88815ef9",
      "range": {
        "startLine": 21,
        "startChar": 45,
        "endLine": 23,
        "endChar": 52
      },
      "revId": "af77e42d32e16425b59a221d633f067dfac49993",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}