{
  "comments": [
    {
      "key": {
        "uuid": "212a9c14_74328812",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/IdentifiedUser.java",
        "patchSetId": 1
      },
      "lineNbr": 311,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-12-20T01:00:57Z",
      "side": 1,
      "message": "From reading just this code I have no idea how AccountState\u0027s list of email addresses differs from the Realm\u0027s. Why doesn\u0027t AccountState.getEmailAddresses just query the realm? Why does this double layer of email address listing belong in IdentifiedUser at all?",
      "revId": "b4af4bc37d8da644f4306e75487c78f414d09c07",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6130147f_16655cfc",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/IdentifiedUser.java",
        "patchSetId": 1
      },
      "lineNbr": 311,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2014-12-20T01:03:56Z",
      "side": 1,
      "message": "Realm currently doesn\u0027t know about AccountExternalIds.\n\nI suppose we could change the Realm code to say your implementation should look at the AccountExternalIds and include any email addresses listed there, but you could also be free to ignore all of those and do your own thing.\n\nMaybe I\u0027ll respin this change with that approach.",
      "parentUuid": "212a9c14_74328812",
      "revId": "b4af4bc37d8da644f4306e75487c78f414d09c07",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "212a9c14_f47218d4",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/IdentifiedUser.java",
        "patchSetId": 1
      },
      "lineNbr": 311,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-12-20T01:06:04Z",
      "side": 1,
      "message": "Ok, that makes sense, Realm is the stuff outside of Gerrit and there may be AccountExternalIds internal to Gerrit.\n\nBut the idea of having every Realm implementation be responsible for scanning AccountExternalIds seems like someone\u0027s likely to forget that.\n\nWhat about giving a Realm to AccountState and merging the list in there?",
      "parentUuid": "6130147f_16655cfc",
      "revId": "b4af4bc37d8da644f4306e75487c78f414d09c07",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6130147f_96c5ec6e",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/IdentifiedUser.java",
        "patchSetId": 1
      },
      "lineNbr": 311,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2014-12-20T01:08:44Z",
      "side": 1,
      "message": "Ugh. That is another entire layer of indirection.\n\nCurrently there are only 4 Realm implementations. And really AccountExtrenalId should die if we want to get to a pluggable account system. And Realm is the only thing we have right now.\n\nI\u0027m really starting to like the idea of just punting the set construction down into Realm.",
      "parentUuid": "212a9c14_f47218d4",
      "revId": "b4af4bc37d8da644f4306e75487c78f414d09c07",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "412dd028_d5403c69",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/IdentifiedUser.java",
        "patchSetId": 1
      },
      "lineNbr": 311,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-12-20T01:11:35Z",
      "side": 1,
      "message": "SGTM.",
      "parentUuid": "6130147f_96c5ec6e",
      "revId": "b4af4bc37d8da644f4306e75487c78f414d09c07",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "212a9c14_54350cf7",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/account/Realm.java",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-12-20T01:00:57Z",
      "side": 1,
      "message": "Nit: blank line before this to be consistent with the rest of the file.",
      "revId": "b4af4bc37d8da644f4306e75487c78f414d09c07",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}