{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "18a0ff4c_4b6a8a6c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1127770
      },
      "writtenOn": "2021-03-30T18:00:17Z",
      "side": 1,
      "message": "I don\u0027t understand why we must upgrade gerrit core to limit set of characters used in project creation.\nGerrit already have a mechanism to archive this.\nClass ProjectCreator is invoke by CreateProject witch before invoking previous one invokes:\nprojectCreationValidationListeners.runEach(\n            l -\u003e l.validateNewProject(args), ValidationException.class); )\nThis validator is already used for example in project-group-structure plugin to validate name.\nSame mechanism may be used to limit set of characters.\n\nIf it must be done in gerrit core maybe better to implement in CreateProject or JS. Also maybe good idea would be to read regex from config file and have default in case of lack config entry.\n\n",
      "revId": "b57ae7ee848e413d96f372928f4ec822c1ed8300",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7d500756_6714d8d3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2021-03-30T20:54:54Z",
      "side": 1,
      "message": "\u003e Also maybe good idea would be to read regex from config file and have default in case of lack config entry.\n\nNot sure we should add yet another core config option though. Anyway, I\u0027m adding Patrick at this stage for a Google review, or so I\u0027d propose.\n\n@Mark, I think you should still consider Przemek\u0027s feedback above, of course. Marking this thread as Unresolved, for that purpose.",
      "parentUuid": "18a0ff4c_4b6a8a6c",
      "revId": "b57ae7ee848e413d96f372928f4ec822c1ed8300",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3e60cf01_711fc176",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2021-04-12T12:59:46Z",
      "side": 1,
      "message": "This could be done in a plugin, but in any case Gerrit core should not allow the creation of a project with names that breaks the core UI, which is what the commit message suggests that we are doing currently.\n\nI\u0027d be OK moving forward with this change, but would like a community maintainer to also take a closer look. Adding Luca because he shepherds many repos.",
      "revId": "b57ae7ee848e413d96f372928f4ec822c1ed8300",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cdb59598_6c1480fe",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-04-12T14:33:22Z",
      "side": 1,
      "message": "can we move this to stable-2.14?\n\nwe also need documentation updates and tests to cover the additional restrictions.",
      "revId": "b57ae7ee848e413d96f372928f4ec822c1ed8300",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b1a99fd8_c8a8be7b",
        "filename": "java/com/google/gerrit/server/project/ProjectCreator.java",
        "patchSetId": 3
      },
      "lineNbr": 108,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2021-03-29T21:42:26Z",
      "side": 1,
      "message": "Why replacing / with }, and only the right-closing one? Not sure this is addressing Ossi\u0027s comment as such.",
      "range": {
        "startLine": 108,
        "startChar": 36,
        "endLine": 108,
        "endChar": 37
      },
      "revId": "b57ae7ee848e413d96f372928f4ec822c1ed8300",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "100c0e5c_4ea90ab1",
        "filename": "java/com/google/gerrit/server/project/ProjectCreator.java",
        "patchSetId": 3
      },
      "lineNbr": 108,
      "author": {
        "id": 1122032
      },
      "writtenOn": "2021-03-30T15:42:10Z",
      "side": 1,
      "message": "According to [1], the range is defined by the numeric order of characters.\nAnd according to [2], the range *-} includes the forward slash / and the left closing braces {\n[1] https://en.wikipedia.org/wiki/Regular_expression\n[2] https://www.ascii-code.com/",
      "parentUuid": "b1a99fd8_c8a8be7b",
      "range": {
        "startLine": 108,
        "startChar": 36,
        "endLine": 108,
        "endChar": 37
      },
      "revId": "b57ae7ee848e413d96f372928f4ec822c1ed8300",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a2ba2786_819662ef",
        "filename": "java/com/google/gerrit/server/project/ProjectCreator.java",
        "patchSetId": 3
      },
      "lineNbr": 108,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2021-03-30T20:54:54Z",
      "side": 1,
      "message": "Ack. This change should consider adding tests to cover its new logic.",
      "parentUuid": "100c0e5c_4ea90ab1",
      "range": {
        "startLine": 108,
        "startChar": 36,
        "endLine": 108,
        "endChar": 37
      },
      "revId": "b57ae7ee848e413d96f372928f4ec822c1ed8300",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41d753ba_7908e511",
        "filename": "java/com/google/gerrit/server/project/ProjectCreator.java",
        "patchSetId": 3
      },
      "lineNbr": 108,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2021-04-12T12:59:46Z",
      "side": 1,
      "message": "Please pre-compile this pattern in a private static final member (compiling regexes is not for free performance-wise).",
      "range": {
        "startLine": 108,
        "startChar": 11,
        "endLine": 108,
        "endChar": 18
      },
      "revId": "b57ae7ee848e413d96f372928f4ec822c1ed8300",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}