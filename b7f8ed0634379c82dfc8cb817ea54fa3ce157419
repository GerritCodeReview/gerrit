{
  "comments": [
    {
      "key": {
        "uuid": "f85d7cd3_06fa1aa3",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2013-08-13T17:25:36Z",
      "side": 1,
      "message": "Wrong level of abstraction. If you want to handle web sessions you should be replacing the WebSession, not the underlying cache.",
      "revId": "b7f8ed0634379c82dfc8cb817ea54fa3ce157419",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f85d7cd3_c6c9626f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1012923
      },
      "writtenOn": "2013-08-13T17:53:18Z",
      "side": 1,
      "message": "The aim is to have the multi-master plugin register an implementation that will let the masters share one web session cache. With the current Cache implementation, sharing is not possible. All session data is stored in the cache only, so with a shared cache and a common hostname (using a load balancer), the masters will share web sessions.",
      "parentUuid": "f85d7cd3_06fa1aa3",
      "revId": "b7f8ed0634379c82dfc8cb817ea54fa3ce157419",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d818b82e_55760c97",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2013-08-13T18:03:55Z",
      "side": 1,
      "message": "I understand the aim.\n\nBut I\u0027m telling you its the wrong way to implement it. The multi-master system behind gerrit-review replaces WebSession with its own backing implementation that knows how to handle replicated sessions across the cluster.",
      "parentUuid": "f85d7cd3_c6c9626f",
      "revId": "b7f8ed0634379c82dfc8cb817ea54fa3ce157419",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d818b82e_75cea8a1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2013-08-13T19:09:45Z",
      "side": 1,
      "message": "I could see why you would want to be able to replace the entire websession implementation, but for simpler cases I don\u0027t see what we would gain?  I suspect that if were to take that approach, we would start by just copying all the current websession code to the plugin and then simply modify the caching portion as Ahaan has currently done already in his plugin changes, to share the cache.  That would be easiest and be less code to rewrite/test/prove since it would be basically using most of today\u0027s websession code. \n\nI guess I am not sure if you are saying it is \"wrong\" because you feel that others should be able to modify the entire websession implementation, or because you think that we would have technical problems, that it wouldn\u0027t work right to not do so?",
      "parentUuid": "d818b82e_55760c97",
      "revId": "b7f8ed0634379c82dfc8cb817ea54fa3ce157419",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}