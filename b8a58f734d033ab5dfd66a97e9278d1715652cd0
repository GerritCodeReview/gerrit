{
  "comments": [
    {
      "key": {
        "uuid": "7f6faa62_086c6dda",
        "filename": "java/com/google/gerrit/sshd/commands/SetAccountCommand.java",
        "patchSetId": 18
      },
      "lineNbr": 96,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-08-12T07:10:25Z",
      "side": 1,
      "message": "This is an API change, it should belong to master IMHO.",
      "range": {
        "startLine": 91,
        "startChar": 0,
        "endLine": 96,
        "endChar": 0
      },
      "revId": "b8a58f734d033ab5dfd66a97e9278d1715652cd0",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b327db27_2b9ea98b",
        "filename": "java/com/google/gerrit/sshd/commands/SetAccountCommand.java",
        "patchSetId": 18
      },
      "lineNbr": 96,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2019-08-12T07:14:25Z",
      "side": 1,
      "message": "It\u0027s a non-breaking API change though. If the new parameter is not given, it should behave the same as before.\n\n(If it doesn\u0027t behave the same as before, it should be fixed so that it does).",
      "parentUuid": "7f6faa62_086c6dda",
      "range": {
        "startLine": 91,
        "startChar": 0,
        "endLine": 96,
        "endChar": 0
      },
      "revId": "b8a58f734d033ab5dfd66a97e9278d1715652cd0",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "608b82df_3935075b",
        "filename": "java/com/google/gerrit/sshd/commands/SetAccountCommand.java",
        "patchSetId": 18
      },
      "lineNbr": 96,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-08-12T07:30:29Z",
      "side": 1,
      "message": "\u003e It\u0027s a non-breaking API change though. If the new parameter is not given, it should behave the same as before.\n\u003e \n\u003e (If it doesn\u0027t behave the same as before, it should be fixed so that it does).\n\nI know, however, all the implications need to be carefully evaluated. Adding features in a patch-release should be the exception rather than the norm. I would be more in favour of adding to the latest v3.0 which has been just released, rather than having to the v2.16 that has been out for several months.",
      "parentUuid": "b327db27_2b9ea98b",
      "range": {
        "startLine": 91,
        "startChar": 0,
        "endLine": 96,
        "endChar": 0
      },
      "revId": "b8a58f734d033ab5dfd66a97e9278d1715652cd0",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f237f4b3_cce6ac66",
        "filename": "java/com/google/gerrit/sshd/commands/SetAccountCommand.java",
        "patchSetId": 18
      },
      "lineNbr": 96,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2019-08-12T07:32:39Z",
      "side": 1,
      "message": "OK, but then by the same argument we should\u0027t be doing changes like [1] on stable-2.16 either...\n\n\n[1] https://gerrit-review.googlesource.com/c/plugins/replication/+/230458",
      "parentUuid": "608b82df_3935075b",
      "range": {
        "startLine": 91,
        "startChar": 0,
        "endLine": 96,
        "endChar": 0
      },
      "revId": "b8a58f734d033ab5dfd66a97e9278d1715652cd0",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b20ca398_9e7bdf62",
        "filename": "java/com/google/gerrit/sshd/commands/SetAccountCommand.java",
        "patchSetId": 18
      },
      "lineNbr": 96,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2019-08-12T07:38:56Z",
      "side": 1,
      "message": "\u003e OK, but then by the same argument we should\u0027t be doing changes like [1] on stable-2.16 either...\n\u003e \n\u003e \n\u003e [1] https://gerrit-review.googlesource.com/c/plugins/replication/+/230458\n\nThe [1] is for avoiding split-brain caused by replication plugin pushing outdated ref-updates. It is related to a serious issue with the replication plugin misplacing stored events on the filesystem and pushing incorrect refs at startup causing corruption. \n\nWe tried several approaches, including trying to fix the replication plugin, which was rejected by Sa≈°a. Blocking the damage has been the only option for stable-2.16. In stable-3.0 and master, the \"workaround\" could go as the replication plugin would use a persistent broker.\n\nThe only place where [1] can stay is stable-2.16 because is *where* the problem is and cannot be fixed. We tried also to limit the impact to almost zero: in normal situations (single-master), the feature isn\u0027t active and isn\u0027t even accessible. The code-changes are very minimal.\n\nHowever, if there is a rationale on why we should have this in stable-2.16 and cannot wait for stable-3.0, then I am fine. I am more than happy to accept exceptions, if there is a reason for it.",
      "parentUuid": "f237f4b3_cce6ac66",
      "range": {
        "startLine": 91,
        "startChar": 0,
        "endLine": 96,
        "endChar": 0
      },
      "revId": "b8a58f734d033ab5dfd66a97e9278d1715652cd0",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}