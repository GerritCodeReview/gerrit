{
  "comments": [
    {
      "key": {
        "uuid": "307ae4aa_372c92bf",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-10-09T09:46:50Z",
      "side": 1,
      "message": "What you are saying here is basically that this commit can be reverted now as well [1], because after the 3d227bbadfa DELETE would never get resolves to a collections, right?\n\n [1] https://gerrit-review.googlesource.com/59019",
      "range": {
        "startLine": 14,
        "startChar": 0,
        "endLine": 16,
        "endChar": 18
      },
      "revId": "b9d5f50a629eb1128f4a4e654cbf665705d2fa7c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1077a0c2_76be8ede",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-10-09T11:57:38Z",
      "side": 1,
      "message": "Yes, I believe this could be reverted now. But ChangeEdits needs to be adapted as well to not implement AcceptsDelete anymore? I\u0027m not that familiar with the inline edit code and would rather do the code cleanup in an seperate change and have the test failures fixed first.",
      "parentUuid": "307ae4aa_372c92bf",
      "range": {
        "startLine": 14,
        "startChar": 0,
        "endLine": 16,
        "endChar": 18
      },
      "revId": "b9d5f50a629eb1128f4a4e654cbf665705d2fa7c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1077a0c2_760c4e2e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-10-09T21:15:00Z",
      "side": 1,
      "message": "Nope, we cannot delete it, this is still needed to handle the deletion of files in change edit, e. g.:\n\n  DELETE /changs/\u003cid\u003e/edit/foo\n\nWould involve change edit collection operation and would check if AcceptsDelete can be performed on change edit collection, DeleteFile handler is created and invoked to handle the deletion. I decoupled and adjusted the implementation to this change: [1].\n\n [1] https://gerrit-review.googlesource.com/60666",
      "parentUuid": "1077a0c2_76be8ede",
      "range": {
        "startLine": 14,
        "startChar": 0,
        "endLine": 16,
        "endChar": 18
      },
      "revId": "b9d5f50a629eb1128f4a4e654cbf665705d2fa7c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90571041_b741e833",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteChangeEdit.java",
        "patchSetId": 2
      },
      "lineNbr": 32,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2014-10-09T09:32:55Z",
      "side": 1,
      "message": "Do we need final here?",
      "range": {
        "startLine": 32,
        "startChar": 10,
        "endLine": 32,
        "endChar": 15
      },
      "revId": "b9d5f50a629eb1128f4a4e654cbf665705d2fa7c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "307ae4aa_b700a223",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteChangeEdit.java",
        "patchSetId": 2
      },
      "lineNbr": 32,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-10-09T09:36:52Z",
      "side": 1,
      "message": "Don\u0027t we always use final for class member variables if possible?",
      "parentUuid": "90571041_b741e833",
      "range": {
        "startLine": 32,
        "startChar": 10,
        "endLine": 32,
        "endChar": 15
      },
      "revId": "b9d5f50a629eb1128f4a4e654cbf665705d2fa7c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b0db3405_b08ad822",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteChangeEdit.java",
        "patchSetId": 2
      },
      "lineNbr": 32,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2014-10-09T09:39:34Z",
      "side": 1,
      "message": "OK.  I was getting confused with the \"no final in new code\" that I keep seeing.",
      "parentUuid": "307ae4aa_b700a223",
      "range": {
        "startLine": 32,
        "startChar": 10,
        "endLine": 32,
        "endChar": 15
      },
      "revId": "b9d5f50a629eb1128f4a4e654cbf665705d2fa7c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "307ae4aa_971a468e",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteChangeEdit.java",
        "patchSetId": 2
      },
      "lineNbr": 32,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-10-09T11:57:38Z",
      "side": 1,
      "message": "class member variables are the exception where we still use final :)",
      "parentUuid": "b0db3405_b08ad822",
      "range": {
        "startLine": 32,
        "startChar": 10,
        "endLine": 32,
        "endChar": 15
      },
      "revId": "b9d5f50a629eb1128f4a4e654cbf665705d2fa7c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "307ae4aa_d710be71",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteChangeEdit.java",
        "patchSetId": 2
      },
      "lineNbr": 43,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-10-09T09:57:53Z",
      "side": 1,
      "message": "I would prefer to decouple two different use cases:\n\n* 1. Deleting a file in ChangeEdit\n* 2. Delete Change edit\n\nBecause after the REST API bug (3d227bbadfa) was fixed, ChangeCollection handles deletion of edits itself, while ChangeEdit handle the deletion of files in edit. We should simplify the implementation her, by remove the path, and putting the one line here and not mix things that don\u0027t belong together any more: [1].\n\nSo remove that factory above, inject instead ChangeEditUtil editUtil, and call it something like:\n\n Optional\u003cChangeEdit\u003e edit \u003d editUtil.byChange(rsrc.getChange());\n      if (edit.isPresent()) {\n        // Edit is wiped out\n        editUtil.delete(edit.get());\n      } else {\n      // throw bad request change edit doesn\u0027t exist and cannot be deleted.\n     }\n  \n\n [1] https://gerrit-review.googlesource.com/#/c/58933/21/gerrit-server/src/main/java/com/google/gerrit/server/change/ChangeEdits.java@218",
      "range": {
        "startLine": 43,
        "startChar": 11,
        "endLine": 43,
        "endChar": 79
      },
      "revId": "b9d5f50a629eb1128f4a4e654cbf665705d2fa7c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1077a0c2_d6ac42b1",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/DeleteChangeEdit.java",
        "patchSetId": 2
      },
      "lineNbr": 43,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-10-09T11:57:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "307ae4aa_d710be71",
      "range": {
        "startLine": 43,
        "startChar": 11,
        "endLine": 43,
        "endChar": 79
      },
      "revId": "b9d5f50a629eb1128f4a4e654cbf665705d2fa7c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "307ae4aa_77220acf",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/Module.java",
        "patchSetId": 2
      },
      "lineNbr": 58,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-10-09T09:46:50Z",
      "side": 1,
      "message": "Move this line to other edit endpoints, on line 108 in this ps.",
      "revId": "b9d5f50a629eb1128f4a4e654cbf665705d2fa7c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1077a0c2_36c8167f",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/Module.java",
        "patchSetId": 2
      },
      "lineNbr": 58,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2014-10-09T11:57:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "307ae4aa_77220acf",
      "revId": "b9d5f50a629eb1128f4a4e654cbf665705d2fa7c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}