{
  "comments": [
    {
      "key": {
        "uuid": "120dd1bb_c7117e67",
        "filename": "Documentation/config-auto-site-initialization.txt",
        "patchSetId": 13
      },
      "lineNbr": 0,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-09-04T06:16:53Z",
      "side": 1,
      "message": "If it all about Tomcat, then we should probably rename it to \n\n config-tomcat-for-auto-site-initialization.txt\n\nif it supposed to be a generic customization, that hold true for other servlet comtainer like JBoss, Glassfish, WAS, WebLogic, ... then i would expect that it is stated somewhere. May be we should move examples to tomcat-config,txt and encourage contributor to provide description for other container as well.",
      "revId": "bbadc469b65aab74e0fbfe1cb0b68bb81144ac41",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "121b1108_179eb4a8",
        "filename": "Documentation/config-auto-site-initialization.txt",
        "patchSetId": 13
      },
      "lineNbr": 0,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2013-09-04T06:56:43Z",
      "side": 1,
      "message": "This guide is not specific to Tomcat.\n\nExamples need to be concrete, otherwise they are not examples. I don\u0027t see what is wrong with having examples for Tomcat. \n\nIf an administrator uses another servlet container it is not expected too much that he should able to find out how to set a system property for this container. How to set system properties for any container should not be part of the Gerrit documentation.",
      "parentUuid": "120dd1bb_c7117e67",
      "revId": "bbadc469b65aab74e0fbfe1cb0b68bb81144ac41",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5238295c_84160899",
        "filename": "Documentation/config-auto-site-initialization.txt",
        "patchSetId": 13
      },
      "lineNbr": 45,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-09-04T06:16:53Z",
      "side": 1,
      "message": "Here it starts to be Tomcat specific. Why? What about other servlet containers?",
      "revId": "bbadc469b65aab74e0fbfe1cb0b68bb81144ac41",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7281ad4b_f2e8e830",
        "filename": "Documentation/config-auto-site-initialization.txt",
        "patchSetId": 13
      },
      "lineNbr": 45,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2013-09-04T06:56:43Z",
      "side": 1,
      "message": "These are only examples and examples need to be concrete. So I don\u0027t see why it is wrong to provide examples for Tomcat.\n\nIf an administrator uses another servlet container it is not expected too much that he should able to find out how to set a system property for this container. How to set system properties for any container should not be part of the Gerrit documentation.",
      "parentUuid": "5238295c_84160899",
      "revId": "bbadc469b65aab74e0fbfe1cb0b68bb81144ac41",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5238295c_24137cab",
        "filename": "Documentation/config-auto-site-initialization.txt",
        "patchSetId": 13
      },
      "lineNbr": 50,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-09-04T06:16:53Z",
      "side": 1,
      "message": "Again: CATALINA_OPTS is Tomcat specific.",
      "revId": "bbadc469b65aab74e0fbfe1cb0b68bb81144ac41",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5238295c_64a2e447",
        "filename": "Documentation/config-auto-site-initialization.txt",
        "patchSetId": 13
      },
      "lineNbr": 50,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2013-09-04T06:56:43Z",
      "side": 1,
      "message": "same here",
      "parentUuid": "5238295c_24137cab",
      "revId": "bbadc469b65aab74e0fbfe1cb0b68bb81144ac41",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5238295c_4410009c",
        "filename": "Documentation/config-auto-site-initialization.txt",
        "patchSetId": 13
      },
      "lineNbr": 63,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-09-04T06:16:53Z",
      "side": 1,
      "message": "Tomcat",
      "revId": "bbadc469b65aab74e0fbfe1cb0b68bb81144ac41",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "120dd1bb_4727cec4",
        "filename": "Documentation/config-auto-site-initialization.txt",
        "patchSetId": 13
      },
      "lineNbr": 63,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2013-09-04T06:56:43Z",
      "side": 1,
      "message": "same here",
      "parentUuid": "5238295c_4410009c",
      "revId": "bbadc469b65aab74e0fbfe1cb0b68bb81144ac41",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "120dd1bb_e735a2ef",
        "filename": "Documentation/config-auto-site-initialization.txt",
        "patchSetId": 13
      },
      "lineNbr": 71,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-09-04T06:16:53Z",
      "side": 1,
      "message": "Even for Tomcat it suddenly mentions `jdbc/ReviewDb` JNDI property. You assume that the reader is Tomcat admin? Or an average Gerrit user? Why don\u0027t you explain, what is `jdbc/ReviewDb` JNDI property all about, where and how it can/should be defined for Gerrit@Tomcat integration? For example you could say here or somewhere:\n\ndefine in $TOMCAT_HOME/conf/context.xml something like that\n\n \u003cResource\n    name\u003d\"jdbc/ReviewDb\"\n    type\u003d\"javax.sql.DataSource\"\n    username\u003d\"\"\n    driverClassName\u003d\"org.h2.Driver\"\n    password\u003d\"\"\n    url\u003d\"jdbc:h2:file:/home/gerrit/gerit_site/db/ReviewDB\"\n    maxActive\u003d\"100\"\n    maxIdle\u003d\"20\"/\u003e",
      "revId": "bbadc469b65aab74e0fbfe1cb0b68bb81144ac41",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5238295c_849fe8f4",
        "filename": "Documentation/config-auto-site-initialization.txt",
        "patchSetId": 13
      },
      "lineNbr": 71,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2013-09-04T06:56:43Z",
      "side": 1,
      "message": "Yes, for this documentation it is assumed that the reader is the Gerrit administrator who also administrates the servlet container. It\u0027s definitely not for an average Gerrit user.\n\nThe `jdbc/ReviewDb` JNDI property is not introduced by this change, so I don\u0027t see why it should be the responsibility of this change to explain this. If documentation for this property is missing and needed itthere should be an own change to document it.",
      "parentUuid": "120dd1bb_e735a2ef",
      "revId": "bbadc469b65aab74e0fbfe1cb0b68bb81144ac41",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "120dd1bb_a73faacb",
        "filename": "Documentation/config-auto-site-initialization.txt",
        "patchSetId": 13
      },
      "lineNbr": 75,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-09-04T06:16:53Z",
      "side": 1,
      "message": "Why you don\u0027t tell us here, the prerequisites? How about to copy H2, MySQL drivers to $TOMCAT_HOME/libs directory? Do i have to do it on my own?",
      "revId": "bbadc469b65aab74e0fbfe1cb0b68bb81144ac41",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5238295c_24acdc34",
        "filename": "Documentation/config-auto-site-initialization.txt",
        "patchSetId": 13
      },
      "lineNbr": 75,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2013-09-04T06:56:43Z",
      "side": 1,
      "message": "This is not a guide to explain how to run Gerrit on Tomcat. It is a guide how you configure automatic site initialization for Gerrit IF you have your Gerrit server already running in a servlet container. How to run Gerrit in a servlet container is out-of-scope for this guide.",
      "parentUuid": "120dd1bb_a73faacb",
      "revId": "bbadc469b65aab74e0fbfe1cb0b68bb81144ac41",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "121b1108_d7683cba",
        "filename": "Documentation/config-auto-site-initialization.txt",
        "patchSetId": 13
      },
      "lineNbr": 75,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2013-09-04T07:03:03Z",
      "side": 1,
      "message": "Note that documentation for how to run Gerrit in tomcat was uploaded before [1] but the review never ended.\n\n[1] https://gerrit-review.googlesource.com/#/c/37072/",
      "parentUuid": "5238295c_24acdc34",
      "revId": "bbadc469b65aab74e0fbfe1cb0b68bb81144ac41",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5238295c_04dc38b3",
        "filename": "Documentation/config-auto-site-initialization.txt",
        "patchSetId": 13
      },
      "lineNbr": 75,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-09-04T07:37:25Z",
      "side": 1,
      "message": "@Edwin: Yup, but... That change introduces some magic. It is not clear from the commit message and not from this explanation to me what kind of magic i get if i enable that features and what i still have to do manually. I expect this to be clearly stated, without to study the code or setting breakpoints and tracing what is the code actually doing.\n\n\"It is a guide how you configure automatic site initialization for Gerrit IF you have your Gerrit server already running in a servlet container.\"\n\nDefinitely disagree. I know everything about Gerrit@Tomcat integration ;-) Still i want to know/understand from this description how the Tomcat@Gerrit integration would differ when that change get integrated. \n\nVery concrete question: it is not clear if in the Example 3 the following dependencies are copied $TOMCAT_HOME/lib for me or not IF i start Tomcat@Gerrit integration from scratch.\n\n * Bouncy Castle lib\n * H2, MySQL and PostgreSQL drivers\n * ...",
      "parentUuid": "5238295c_24acdc34",
      "revId": "bbadc469b65aab74e0fbfe1cb0b68bb81144ac41",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "120dd1bb_0731d6fb",
        "filename": "Documentation/config-auto-site-initialization.txt",
        "patchSetId": 13
      },
      "lineNbr": 75,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-09-04T07:37:25Z",
      "side": 1,
      "message": "David: I am aware of this documentation and TBH i would like to see something like that, but very very shorter integrated...",
      "parentUuid": "121b1108_d7683cba",
      "revId": "bbadc469b65aab74e0fbfe1cb0b68bb81144ac41",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "120dd1bb_c763beeb",
        "filename": "Documentation/config-auto-site-initialization.txt",
        "patchSetId": 13
      },
      "lineNbr": 75,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2013-09-04T07:51:53Z",
      "side": 1,
      "message": "Not sure which \"magic\" is not clear to you.\n\nTo run Gerrit it is required that a review site in the filesystem is initialized. With this feature you can configure Gerrit to automatically initialize the site on deploment of Gerrit into a servlet container. That\u0027s the ONLY difference.\nAs explained above this is controlled by the \u0027gerrit.init\u0027 system property.\nFor running init the path to the review site needs to be known, this path needs either to be read from the database or be provided as another system property. This is nothing knew but existed already before this change.\n\n  \u003e Very concrete question: it is not clear if in the Example 3 the following\n  \u003e dependencies are copied $TOMCAT_HOME/lib for me or not IF i start\n  \u003e Tomcat@Gerrit integration from scratch.\n\nWhat has this question to do with auto initialization on startup feature? Don\u0027t you have the same question with setting up Gerrit on Tomcat without this feature? This really should be part of a Tomcat guide but it doesn\u0027t belong here.",
      "parentUuid": "5238295c_04dc38b3",
      "revId": "bbadc469b65aab74e0fbfe1cb0b68bb81144ac41",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5238295c_84c848f0",
        "filename": "Documentation/config-auto-site-initialization.txt",
        "patchSetId": 13
      },
      "lineNbr": 75,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-09-04T08:12:35Z",
      "side": 1,
      "message": "I think we are talking past each other. My question is not Tomcat specific at all. To set up Gerrit@ServletContainerFoo (not embedded Jetty)  WITHOUT that change FROM the scratch the following steps are needed \n\n * download latest gerrit.war\n * install servlet container foo\n * run MANUALLY java -jar gerrit.war -init d site_path\n * copy dependent libraries to ServletContainerFoo/libs\n * define `jdbc/ReviewDb` JNDI property in ServletContainerFoo\n * Optionally (?) define system property GERRIT_SITE in container start up script\n * start container\n\nIt is not clear to me from explanation and examples above how that change influences the steps listed above in that specific case: setting Gerrit from the scratch?",
      "parentUuid": "120dd1bb_c763beeb",
      "revId": "bbadc469b65aab74e0fbfe1cb0b68bb81144ac41",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "120dd1bb_4750ee05",
        "filename": "Documentation/config-auto-site-initialization.txt",
        "patchSetId": 13
      },
      "lineNbr": 75,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2013-09-04T08:22:32Z",
      "side": 1,
      "message": "With this feature you can skip the step to manually run init. Of course you then need to set the \u0027gerrit.init\u0027 system property:\n\n* download latest gerrit.war\n* install servlet container foo\n* copy dependent libraries to ServletContainerFoo/libs\n* define `jdbc/ReviewDb` JNDI property in ServletContainerFoo\n* Optionally (?) define system property GERRIT_SITE in container start up script\n* define system property \u0027gerrit.init\u0027, e.g. in container start up script\n* start container",
      "parentUuid": "5238295c_84c848f0",
      "revId": "bbadc469b65aab74e0fbfe1cb0b68bb81144ac41",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "120dd1bb_274dfa6d",
        "filename": "Documentation/config-auto-site-initialization.txt",
        "patchSetId": 13
      },
      "lineNbr": 75,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-09-04T08:26:34Z",
      "side": 1,
      "message": "Thanks for the clarification. Why not to state it clearly in the description then? May be just quote that example above with and without that change?",
      "parentUuid": "120dd1bb_4750ee05",
      "revId": "bbadc469b65aab74e0fbfe1cb0b68bb81144ac41",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}