{
  "comments": [
    {
      "key": {
        "uuid": "b90eb7b3_cadce38a",
        "filename": "gerrit-vhost/src/main/java/com/google/gerrit/server/vhost/GlobalCachePool.java",
        "patchSetId": 2
      },
      "lineNbr": 99,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2014-04-08T06:28:17Z",
      "side": 1,
      "message": "at this point m is an empty map, it makes no point in removing empty key set from names.",
      "range": {
        "startLine": 99,
        "startChar": 4,
        "endLine": 99,
        "endChar": 32
      },
      "revId": "be954d7d000ae2e6389b04c0394530e2f364ab53",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "99c5737b_998adb54",
        "filename": "gerrit-vhost/src/main/java/com/google/gerrit/server/vhost/GlobalCachePool.java",
        "patchSetId": 2
      },
      "lineNbr": 99,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2014-04-08T22:48:14Z",
      "side": 1,
      "message": "Good catch. This is because our internal version has code between lines 83 and 86 that inserts some things into the map m. Those things are caches that are persistently stored into Google Bigtable for e.g. \"diff\" and \"diff_intraline\" that are members of the IMMUTABLE_CACHE_NAMES set.\n\nBecause I did not have a persistent store to offer in this commit, I gutted that code. Which makes this unnecessary.",
      "parentUuid": "b90eb7b3_cadce38a",
      "range": {
        "startLine": 99,
        "startChar": 4,
        "endLine": 99,
        "endChar": 32
      },
      "revId": "be954d7d000ae2e6389b04c0394530e2f364ab53",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b90eb7b3_aae1af40",
        "filename": "gerrit-vhost/src/main/java/com/google/gerrit/server/vhost/SiteCacheFactory.java",
        "patchSetId": 2
      },
      "lineNbr": 63,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2014-04-08T06:28:17Z",
      "side": 1,
      "message": "where this property is read? i can see that it is set in line 152 and 169, but don\u0027t see any read operations",
      "range": {
        "startLine": 63,
        "startChar": 6,
        "endLine": 63,
        "endChar": 17
      },
      "revId": "be954d7d000ae2e6389b04c0394530e2f364ab53",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9b1ab0e_bb858748",
        "filename": "gerrit-vhost/src/main/java/com/google/gerrit/server/vhost/SiteCacheFactory.java",
        "patchSetId": 2
      },
      "lineNbr": 63,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2014-04-08T22:48:14Z",
      "side": 1,
      "message": "Same issue as in GlobalCachePool. Our internal version uses this for immutable caches that are persistently stored onto Google Bigtable like \"diff\". With that code gutted, this field is not used.",
      "parentUuid": "b90eb7b3_aae1af40",
      "range": {
        "startLine": 63,
        "startChar": 6,
        "endLine": 63,
        "endChar": 17
      },
      "revId": "be954d7d000ae2e6389b04c0394530e2f364ab53",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b90877da_5a2595bc",
        "filename": "gerrit-vhost/src/main/java/com/google/gerrit/server/vhost/SiteSelectorModule.java",
        "patchSetId": 2
      },
      "lineNbr": 122,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2014-04-10T14:56:45Z",
      "side": 1,
      "message": "will this cause ever growing thread name? the name will now be \"oldName [siteA]\"\n\nnext time the oldName is \"oldName [siteA]\" and here the (new) name will be set to \"oldName [siteA] [siteB]\"\n\netc...",
      "revId": "be954d7d000ae2e6389b04c0394530e2f364ab53",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9f9abff_7b0fbf4a",
        "filename": "gerrit-vhost/src/main/java/com/google/gerrit/server/vhost/SiteSelectorModule.java",
        "patchSetId": 2
      },
      "lineNbr": 122,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2014-04-10T14:58:31Z",
      "side": 1,
      "message": "No. Below we reset the thread name: self.setName(oldName)",
      "parentUuid": "b90877da_5a2595bc",
      "revId": "be954d7d000ae2e6389b04c0394530e2f364ab53",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f9574fb2_441ece77",
        "filename": "gerrit-vhost/src/main/java/com/google/gerrit/server/vhost/SiteSelectorModule.java",
        "patchSetId": 2
      },
      "lineNbr": 131,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2014-04-10T14:58:31Z",
      "side": 1,
      "message": "Here is where the name is reset.",
      "revId": "be954d7d000ae2e6389b04c0394530e2f364ab53",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}