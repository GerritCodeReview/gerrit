{
  "comments": [
    {
      "key": {
        "uuid": "824adec5_12624927",
        "filename": "Jenkinsfile",
        "patchSetId": 13
      },
      "lineNbr": 116,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2020-04-17T08:58:49Z",
      "side": 1,
      "message": "Can currentBuild be sometimes null? This issue was reported: [1]. The stacktrace in example breakage is:\n\n  java.lang.NullPointerException: Cannot invoke method getAbsoluteUrl() on null object\n\tat org.codehaus.groovy.runtime.NullObject.invokeMethod(NullObject.java:91)\n\tat org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.call(PogoMetaClassSite.java:48)\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\n\tat org.codehaus.groovy.runtime.callsite.NullCallSite.call(NullCallSite.java:35)\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\n\tat org.kohsuke.groovy.sandbox.impl.Checker$1.call(Checker.java:160)\n\tat org.kohsuke.groovy.sandbox.impl.Checker.checkedCall(Checker.java:162)\n\tat com.cloudbees.groovy.cps.sandbox.SandboxInvoker.methodCall(SandboxInvoker.java:17)\n\tat WorkflowScript.prepareBuildsForMode(WorkflowScript:127)\n\tat ___cps.transform___(Native Method)\n\n* [1] https://bugs.chromium.org/p/gerrit/issues/detail?id\u003d12598",
      "range": {
        "startLine": 116,
        "startChar": 34,
        "endLine": 116,
        "endChar": 63
      },
      "revId": "c1b543ee2f0509f7d87a85347966223d35b91754",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "66e80c77_60b787a8",
        "filename": "Jenkinsfile",
        "patchSetId": 13
      },
      "lineNbr": 116,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2020-04-17T09:19:33Z",
      "side": 1,
      "message": "currentBuild cannot be null, but slaveBuild in line 127 (also see stacktrace: (WorkflowScript:127)). Let me check, why this happens.",
      "parentUuid": "824adec5_12624927",
      "range": {
        "startLine": 116,
        "startChar": 34,
        "endLine": 116,
        "endChar": 63
      },
      "revId": "c1b543ee2f0509f7d87a85347966223d35b91754",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "95c9df51_576dc988",
        "filename": "Jenkinsfile",
        "patchSetId": 13
      },
      "lineNbr": 116,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-04-21T22:11:39Z",
      "side": 1,
      "message": "\u003e currentBuild cannot be null, but slaveBuild in line 127 (also see stacktrace: (WorkflowScript:127)). Let me check, why this happens.\n\nYes, the slaveBuild can be null at L127 if postCheck at L114 failed and we then end up executing the finally block.\n\nPosted already a fix for this and merged:\nhttps://gerrit-review.googlesource.com/c/gerrit/+/263452\n\nThis problem has become more evident with the recent flakiness of gerrit-review :-( but it has been introduced in this change. Happens only if the Checks API fails in finding the change and accepting the \"started\" feedback.",
      "parentUuid": "66e80c77_60b787a8",
      "range": {
        "startLine": 116,
        "startChar": 34,
        "endLine": 116,
        "endChar": 63
      },
      "revId": "c1b543ee2f0509f7d87a85347966223d35b91754",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}