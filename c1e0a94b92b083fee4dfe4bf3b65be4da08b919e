{
  "comments": [
    {
      "key": {
        "uuid": "d973a597_27c111a8",
        "filename": "java/com/google/gerrit/server/query/change/ChangeIsVisibleToPredicate.java",
        "patchSetId": 1
      },
      "lineNbr": 87,
      "author": {
        "id": 1061517
      },
      "writtenOn": "2018-04-24T16:10:37Z",
      "side": 0,
      "message": "I prefer this version, it is shorter (less error-prone?) and doesn\u0027t require a dependency on the anonymous user provider.",
      "range": {
        "startLine": 87,
        "startChar": 14,
        "endLine": 87,
        "endChar": 25
      },
      "revId": "c1e0a94b92b083fee4dfe4bf3b65be4da08b919e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b5cae07e_fa2c7d13",
        "filename": "java/com/google/gerrit/server/query/change/ChangeIsVisibleToPredicate.java",
        "patchSetId": 1
      },
      "lineNbr": 87,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2018-04-27T10:01:57Z",
      "side": 0,
      "message": "Yes, but this version is wrong ;)\n\nThe documentation of PermissionBackend#user says:\n\n  Returns an instance scoped to the specified user. Should be used in cases where the user could either be the issuer of the current request or an impersonated user. PermissionBackends that do not support impersonation can fail with an {@code IllegalStateException}.\n\nThis call is not about impersonation, but we are checking permissions for absent users. See ChangeQueryBuilder#visibleto for an example.\n\nI was thinking about adding PermissionBackend#anonymousUser() as a convenience method, but since there are only ~4 potential callers I didn\u0027t do it for now to not add more and more stuff to PermissionBackend.",
      "parentUuid": "d973a597_27c111a8",
      "range": {
        "startLine": 87,
        "startChar": 14,
        "endLine": 87,
        "endChar": 25
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "c1e0a94b92b083fee4dfe4bf3b65be4da08b919e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cd855dee_39639d09",
        "filename": "java/com/google/gerrit/server/query/change/ChangeIsVisibleToPredicate.java",
        "patchSetId": 1
      },
      "lineNbr": 87,
      "author": {
        "id": 1061517
      },
      "writtenOn": "2018-04-27T11:39:50Z",
      "side": 0,
      "message": "Ack",
      "parentUuid": "b5cae07e_fa2c7d13",
      "range": {
        "startLine": 87,
        "startChar": 14,
        "endLine": 87,
        "endChar": 25
      },
      "revId": "c1e0a94b92b083fee4dfe4bf3b65be4da08b919e",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}