{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "9b0ad297_70c35a1a",
        "filename": "javatests/com/google/gerrit/acceptance/api/change/SubmitRequirementIT.java",
        "patchSetId": 1
      },
      "lineNbr": 1058,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-02-03T12:31:57Z",
      "side": 1,
      "message": "I think the submit action is computed from SubmittedTogether() not from the ChangeData. That\u0027s what we want to test (according to the commit message). Can we try that?\n\nI believe the results will be stale.",
      "revId": "c22460bc5a5162cc105b81d2dccc423071fc6088",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a57dd725_842803c5",
        "filename": "javatests/com/google/gerrit/acceptance/api/change/SubmitRequirementIT.java",
        "patchSetId": 1
      },
      "lineNbr": 1058,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2022-02-08T12:36:56Z",
      "side": 1,
      "message": "\u003e I think the submit action is computed from SubmittedTogether() not from the ChangeData.\n\nThat\u0027s new to me. Do you have a code pointer where submitted together computes a submit action? SubmittedTogetherInfo doesn\u0027t contain anything like this.",
      "parentUuid": "9b0ad297_70c35a1a",
      "revId": "c22460bc5a5162cc105b81d2dccc423071fc6088",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1fb6d6b7_06ede2bd",
        "filename": "javatests/com/google/gerrit/acceptance/api/change/SubmitRequirementIT.java",
        "patchSetId": 1
      },
      "lineNbr": 1058,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2022-02-10T15:16:01Z",
      "side": 1,
      "message": "I checked this with the frontend team and they are relying on the submit revision action to decide whether the Submit button should be shown.\n\nThe backend implementation for the submit revision actions already checks the submittability of other changes in the series/topic, hence the frontend doesn\u0027t need to do anything specifically about this.\n\nHowever I noticed that the assertion that the test is doing is not correct / sufficient. For the returned submit action it also needs to check whether \u0027enabled\u0027 is true. Checking that makes the tests fail. Need to look further into this.",
      "parentUuid": "a57dd725_842803c5",
      "revId": "c22460bc5a5162cc105b81d2dccc423071fc6088",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "55b30432_79b04a33",
        "filename": "javatests/com/google/gerrit/acceptance/api/change/SubmitRequirementIT.java",
        "patchSetId": 1
      },
      "lineNbr": 1058,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2022-02-10T16:20:51Z",
      "side": 1,
      "message": "I think I understood this now and was able to make a partial fix. PTAL.",
      "parentUuid": "1fb6d6b7_06ede2bd",
      "revId": "c22460bc5a5162cc105b81d2dccc423071fc6088",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "259452d0_c9e2ac5c",
        "filename": "javatests/com/google/gerrit/acceptance/api/change/SubmitRequirementIT.java",
        "patchSetId": 1
      },
      "lineNbr": 1058,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-02-11T14:36:54Z",
      "side": 1,
      "message": "Looks good to me. So unfortunately the submit action relies on the index so a series of changes will compute submittability using stale data of other changes (not the current one).\n\nThanks for the improvement though.",
      "parentUuid": "55b30432_79b04a33",
      "revId": "c22460bc5a5162cc105b81d2dccc423071fc6088",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "41f5686c_103f676e",
        "filename": "javatests/com/google/gerrit/acceptance/api/change/SubmitRequirementIT.java",
        "patchSetId": 1
      },
      "lineNbr": 1058,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2022-02-11T14:44:36Z",
      "side": 1,
      "message": "Yes, unfortunately. But I think it\u0027s the same if you add a new label (and submit requirements are not used yet). So this is not a regression with submit requirements.",
      "parentUuid": "259452d0_c9e2ac5c",
      "revId": "c22460bc5a5162cc105b81d2dccc423071fc6088",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9b31498d_ab1164f4",
        "filename": "javatests/com/google/gerrit/acceptance/api/change/SubmitRequirementIT.java",
        "patchSetId": 1
      },
      "lineNbr": 1059,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-02-03T12:31:57Z",
      "side": 1,
      "message": "Optional: Can we assert that the index is really stale?\n\nReason for optional: disableChangeINdexWrites() should have been tested somewhere else.",
      "revId": "c22460bc5a5162cc105b81d2dccc423071fc6088",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ac8be4d1_03098237",
        "filename": "javatests/com/google/gerrit/acceptance/api/change/SubmitRequirementIT.java",
        "patchSetId": 1
      },
      "lineNbr": 1059,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2022-02-08T12:41:18Z",
      "side": 1,
      "message": "\u003e Reason for optional: disableChangeINdexWrites() should have been tested somewhere else.\n\nTesting this is outside the scope of this test (e.g. not every test using this method should need to check this).\n\nFWIW I don\u0027t see any test for disableChangeIndexWrites() but testing this functionality is outside the scope of this change.",
      "parentUuid": "9b31498d_ab1164f4",
      "revId": "c22460bc5a5162cc105b81d2dccc423071fc6088",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}