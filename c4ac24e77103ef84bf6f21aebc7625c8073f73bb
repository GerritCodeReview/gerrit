{
  "comments": [
    {
      "key": {
        "uuid": "AAABEn//58Y\u003d",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/account/AccountConstants.properties",
        "patchSetId": 7
      },
      "lineNbr": 41,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-08-23T14:14:10Z",
      "side": 1,
      "message": "[optional] I think something like \"This e-mail address is invalid.\" would be a better message.",
      "revId": "c4ac24e77103ef84bf6f21aebc7625c8073f73bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABEn//5xA\u003d",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/account/AccountConstants.properties",
        "patchSetId": 7
      },
      "lineNbr": 41,
      "author": {
        "id": 1006818
      },
      "writtenOn": "2011-08-24T06:54:08Z",
      "side": 1,
      "message": "for keeping same style with \n\n\n\n\u0027preferredEmail \u003d Email Address\u0027\n\n\n\u0027webIdEmail \u003d Email Address\u0027\n\n\n...\n\n\nI change it to \n\n\n\u0027invalidUserEmail \u003d Email format is wrong.\u0027\n\n\nDone",
      "parentUuid": "AAABEn//58Y\u003d",
      "revId": "c4ac24e77103ef84bf6f21aebc7625c8073f73bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABEn//5wQ\u003d",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/account/AccountConstants.properties",
        "patchSetId": 7
      },
      "lineNbr": 41,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-08-24T07:10:31Z",
      "side": 1,
      "message": "Ok, sounds good :-)",
      "parentUuid": "AAABEn//5xA\u003d",
      "revId": "c4ac24e77103ef84bf6f21aebc7625c8073f73bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABEn//58c\u003d",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/account/ContactPanelShort.java",
        "patchSetId": 7
      },
      "lineNbr": 262,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-08-23T14:14:10Z",
      "side": 1,
      "message": "Whenever the user registers a new e-mail address this e-mail address will now automatically get the preferred e-mail address of the user. I think it would be better to do the save only for the first e-mail address that is registered. This means the first registered e-mail address automatically gets the preferred e-mail address, but if any further e-mail address is registered the preferred e-mail address should not be changed unless the user explicitly clicks on the \u0027Save Changes\u0027 button. Basically as it was in patch set 4:\n\nif (emailPick.getItemCount() \u003d\u003d 0) {\n   // the first e-mail address that is registered automatically\n   // becomes the preferred e-mail address\n   onSaveSuccess(currentUser);\n } else {\n   // an additional e-mail address was registered,\n   // the user has to click on \u0027Save Changes\u0027 to make it the\n   // preferred one\n   save.setEnabled(true);\n }",
      "revId": "c4ac24e77103ef84bf6f21aebc7625c8073f73bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABEn//5xM\u003d",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/account/ContactPanelShort.java",
        "patchSetId": 7
      },
      "lineNbr": 262,
      "author": {
        "id": 1006818
      },
      "writtenOn": "2011-08-24T06:54:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AAABEn//58c\u003d",
      "revId": "c4ac24e77103ef84bf6f21aebc7625c8073f73bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABEn//58k\u003d",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/rpc/account/AccountSecurityImpl.java",
        "patchSetId": 7
      },
      "lineNbr": 298,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-08-23T14:14:10Z",
      "side": 1,
      "message": "From the \u0027validateEmail\u0027 method you have removed the check for the \u0027@\u0027 character in the e-mail address. This method is only used from the ValidateEmailScreen and doesn\u0027t play a role for the feature that you are implementing. This is why I think this method should be reverted, so that it stays as it was.",
      "revId": "c4ac24e77103ef84bf6f21aebc7625c8073f73bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABEn//5ww\u003d",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/rpc/account/AccountSecurityImpl.java",
        "patchSetId": 7
      },
      "lineNbr": 298,
      "author": {
        "id": 1006818
      },
      "writtenOn": "2011-08-24T06:54:08Z",
      "side": 1,
      "message": "I had add codes in ContactPanelShort.java ,lines 250-~253 where I think is the right place to do e-mail format checking.  then here the check for the \u0027@\u0027 character will never be run and become redundant so I remove them to keep code dry.\nam I right?",
      "parentUuid": "AAABEn//58k\u003d",
      "revId": "c4ac24e77103ef84bf6f21aebc7625c8073f73bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABEn//5wM\u003d",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/rpc/account/AccountSecurityImpl.java",
        "patchSetId": 7
      },
      "lineNbr": 298,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-08-24T07:10:31Z",
      "side": 1,
      "message": "I agree that it\u0027s good to do the e-mail format checking in ContactPanelShort as you have done it. However I think that in addition this check is still needed in this method.\nWhy? Because this method is used from the ValidateEmailScreen. With the removal of this check the e-mail format is now not validated anymore when the ValidateEmailScreen is opened (the check done in ContactPanelShort is not executed in this case). On the other hand the validateEmail method is not even invoked when we are coming from ContactPanelShort, so keeping the check here doesn\u0027t mean that it\u0027s done twice in this case.",
      "parentUuid": "AAABEn//5ww\u003d",
      "revId": "c4ac24e77103ef84bf6f21aebc7625c8073f73bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABEn//5vs\u003d",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/rpc/account/AccountSecurityImpl.java",
        "patchSetId": 7
      },
      "lineNbr": 298,
      "author": {
        "id": 1006818
      },
      "writtenOn": "2011-08-24T08:11:51Z",
      "side": 1,
      "message": "to my understanding . the ValidateEmailScreen is triggered only when the user check her/his mail box and open the mail with topic \u0027[Gerrit Code Review] Email Verification\u0027 , click  the link or copy the link to browser with \u0027Enter\u0027.\nthe link is made and send in e-mail by Gerrit under other Authentication method when user register his e-mail address from ContactPanelShort where I have do the e-mail format checking. so I still think it\u0027s done twice. \nam I right ?",
      "parentUuid": "AAABEn//5wM\u003d",
      "revId": "c4ac24e77103ef84bf6f21aebc7625c8073f73bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABEn//5vc\u003d",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/rpc/account/AccountSecurityImpl.java",
        "patchSetId": 7
      },
      "lineNbr": 298,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-08-24T08:44:49Z",
      "side": 1,
      "message": "Well, I guess this is correct. however I still think that the removal of this check is not related to the feature that is implemented by this change: automatically confirm the e-mail address if DEVELOPMENT_BECOME_ANY_ACCOUNT. Reading the commit message it would be surprising for me, if this change includes changes that apply if the authentication is different from DEVELOPMENT_BECOME_ANY_ACCOUNT. As the ValidateEmailScreen is now actually only used if the authentication is not DEVELOPMENT_BECOME_ANY_ACCOUNT, I think this change should not modifiy its behaviour. Already before this change the e-mail check was done twice, once in ContactPanelShort and once here when the ValidateEmailScreen is opened.\n\nSo I\u0027m not saying that the removal of the e-mail check from this method is incorrect, but I think it just should be done in an own Gerrit change. But in the end I\u0027m also not having a very strong opinion on this and for me it would be ok to leave it as it is.",
      "parentUuid": "AAABEn//5vs\u003d",
      "revId": "c4ac24e77103ef84bf6f21aebc7625c8073f73bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABEn//58M\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/account/AccountManager.java",
        "patchSetId": 7
      },
      "lineNbr": 405,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-08-23T14:14:10Z",
      "side": 1,
      "message": "I think this change should be reverted.\n\nThe removal of the check \u0027if (a.getPreferredEmail() \u003d\u003d null) {\u0027 does not only effect the DEVELOPMENT_BECOME_ANY_ACCOUNT, but also changes the behaviour if other authentication methods are used. But even if DEVELOPMENT_BECOME_ANY_ACCOUNT is used the preferred e-mail address should not be updated automatically when an additional e-mail address is registered (see also my inline comment in ContactPanelShort.java).",
      "revId": "c4ac24e77103ef84bf6f21aebc7625c8073f73bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABEn//5xE\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/account/AccountManager.java",
        "patchSetId": 7
      },
      "lineNbr": 405,
      "author": {
        "id": 1006818
      },
      "writtenOn": "2011-08-24T06:54:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AAABEn//58M\u003d",
      "revId": "c4ac24e77103ef84bf6f21aebc7625c8073f73bb",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}