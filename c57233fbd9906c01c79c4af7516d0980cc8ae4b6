{
  "comments": [
    {
      "key": {
        "uuid": "44ea27f0_71f6180f",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ChangeControl.java",
        "patchSetId": 13
      },
      "lineNbr": 219,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-09-26T22:45:13Z",
      "side": 1,
      "message": "Just to make sure i understand why you forward isOwner() from here to RefControl and from there to ProjectControl, and then search in access section if that line is still present, that you wrote there in Schema_85\n\n [access \"refs/heads/*\"]\n  abandon \u003d group Change Owners\n\nand wasn\u0027t removed, right? OTOH why to add all those lines at all (in Schema_85 for abandon and other friends that you have listed in the commit message)?\n\nCan\u0027t we do it by convention over configuration paradigm? Like in the line 217? Project owner can abandon. Change owner can abandon too. So the code here would be much simpler (nothing to route any more):\n\n return getRefControl().isOwner() // branch owner can abandon\n      || getProjectControl().isOwner() // project owner can abandon \n      || getCurrentUser().getCapabilities().canAdministrateServer() // site administers are god\n      || isOwner()\n      || getRefControl().canAbandon()\n\nNot to mention the changes in Schema_85.",
      "revId": "c57233fbd9906c01c79c4af7516d0980cc8ae4b6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "847b3f36_cbe17548",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ChangeControl.java",
        "patchSetId": 13
      },
      "lineNbr": 219,
      "author": {
        "id": 1012623
      },
      "writtenOn": "2013-09-27T17:15:45Z",
      "side": 1,
      "message": "I proposed to do it by convention on patch sets 2 thru 11, the Change Owner group would only apply to the label permission.  However the feedback was that it would be too confusing to users when setting up ACLs (patch set 2 \u0026 9).  The request was to make the CHANGE OWNER group apply to all permissions that have a change context.",
      "parentUuid": "44ea27f0_71f6180f",
      "revId": "c57233fbd9906c01c79c4af7516d0980cc8ae4b6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c44377e0_7d3b57ac",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ChangeControl.java",
        "patchSetId": 13
      },
      "lineNbr": 219,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-09-27T17:57:05Z",
      "side": 1,
      "message": "No, you didn\u0027t. In ps 2 you didn\u0027t touch canAbandon() on line 215 in this patch.\n\nSo again, what i propose is to remove\n\n abandon \u003d group Change Owners\n\nand friends from `project.config` i. e. the corresponding code from Schema_85 and to extend canAbandon() and friends here to be:\n\n [...]\n return getRefControl().isOwner() // branch owner can abandon\n      || getProjectControl().isOwner() // project owner is roject god\n      || getCurrentUser().getCapabilities().canAdministrateServer() // site administers are site god\n      || isOwner() // change owner is change god\n      || getRefControl().canAbandon();",
      "parentUuid": "847b3f36_cbe17548",
      "revId": "c57233fbd9906c01c79c4af7516d0980cc8ae4b6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "847b3f36_ebe6b15d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ChangeControl.java",
        "patchSetId": 13
      },
      "lineNbr": 219,
      "author": {
        "id": 1012623
      },
      "writtenOn": "2013-09-27T18:17:47Z",
      "side": 1,
      "message": "Sorry, i don\u0027t understand.  I think what you are proposing is exactly what I have in patch set 9.  Could you please take a look?",
      "parentUuid": "c44377e0_7d3b57ac",
      "revId": "c57233fbd9906c01c79c4af7516d0980cc8ae4b6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e4d87b6d_8ef03b13",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/schema/Schema_85.java",
        "patchSetId": 13
      },
      "lineNbr": 122,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-09-26T22:45:13Z",
      "side": 1,
      "message": "Why to do it? We don\u0027t do it for Project Owners, right?. So why not to behave the same way with the new group?",
      "revId": "c57233fbd9906c01c79c4af7516d0980cc8ae4b6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "241613dd_b851f9e3",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/schema/Schema_85.java",
        "patchSetId": 13
      },
      "lineNbr": 122,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2013-09-27T18:21:00Z",
      "side": 1,
      "message": "I don\u0027t understand your question David.  I think the idea here is to not change the Gerrit\u0027s default policies, but yet to allow them to be customised.  In other words, change owners have always been able to abandon changes.  And after this change, they will still be able to abandon changes, unless an admin comes along and modifies the ACLs to remove these default rules.\n\nAre you asking why we can\u0027t also remove the ability for Project Owners to abandon things?  Perhaps that is something that should also be considered at some point, but I don\u0027t know that it should be considered for this change.  It might be nice if almost all the default rules were expressed as ACLs instead of hard coded into the Control Objects?  That would mean the All-Projects would come with a bunch of default rules and they would be easy to screw up, but it would give lots of good flexibility.  I almost think it would be nice if we had some way of defining default rules in Gerrit that show up in the ACLs, and if someone deletes them, that they would somehow then be highlighted in the ACL UI as overridden!  That would make it obvious that something was changed from the default, and what it takes to get back to that default behavior.",
      "parentUuid": "e4d87b6d_8ef03b13",
      "revId": "c57233fbd9906c01c79c4af7516d0980cc8ae4b6",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}