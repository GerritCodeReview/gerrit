{
  "comments": [
    {
      "key": {
        "uuid": "AAABgn////I\u003d",
        "filename": "gerrit-common/src/main/java/com/google/gerrit/common/data/ProjectAdminService.java",
        "patchSetId": 5
      },
      "lineNbr": 39,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-11-21T08:00:48Z",
      "side": 1,
      "message": "Seems like this should go on line 49, and should have a SignInRequired annotation.",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABgn////w\u003d",
        "filename": "gerrit-common/src/main/java/com/google/gerrit/common/data/ProjectMergeStrategies.java",
        "patchSetId": 5
      },
      "lineNbr": 26,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-11-21T08:00:48Z",
      "side": 1,
      "message": "Sections, or mergeStrategies, or mss would probably be better.  Local sounds like a scope, but of what?",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfX///9U\u003d",
        "filename": "gerrit-common/src/main/java/com/google/gerrit/common/data/ProjectMergeStrategies.java",
        "patchSetId": 5
      },
      "lineNbr": 26,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2011-11-27T00:18:19Z",
      "side": 1,
      "message": "I think they are trying to match with the access control section data, which uses local because it used to also have the inherited rules from parent projects, and the local rules were in their own collection so the UI could tell them apart.",
      "parentUuid": "AAABgn////w\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABhX///+k\u003d",
        "filename": "gerrit-common/src/main/java/com/google/gerrit/common/data/ProjectMergeStrategies.java",
        "patchSetId": 5
      },
      "lineNbr": 26,
      "author": {
        "id": 1004024
      },
      "writtenOn": "2011-11-29T16:39:28Z",
      "side": 1,
      "message": "Hi, so should we keep this as \"local\" or change to \"mergeStrategies\"?",
      "parentUuid": "AAABfX///9U\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfX///7s\u003d",
        "filename": "gerrit-common/src/main/java/com/google/gerrit/common/data/ProjectMergeStrategies.java",
        "patchSetId": 5
      },
      "lineNbr": 26,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-11-29T16:45:29Z",
      "side": 1,
      "message": "I am fine either way, your call.",
      "parentUuid": "AAABhX///+k\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABgn////k\u003d",
        "filename": "gerrit-common/src/main/java/com/google/gerrit/common/data/ProjectMergeStrategies.java",
        "patchSetId": 5
      },
      "lineNbr": 36,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-11-21T08:00:48Z",
      "side": 1,
      "message": "Maybe use rev (name seems odd)?",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABgn////g\u003d",
        "filename": "gerrit-common/src/main/java/com/google/gerrit/common/data/ProjectMergeStrategies.java",
        "patchSetId": 5
      },
      "lineNbr": 67,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-11-21T08:00:48Z",
      "side": 1,
      "message": "Nit: no trailing nls in class or method blocks.",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfn///+c\u003d",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/admin/ProjectInfoScreen.java",
        "patchSetId": 5
      },
      "lineNbr": 32,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-11-21T15:12:41Z",
      "side": 1,
      "message": "Is it a good idea to remove the UI for setting the merge strategy on project level if the new UI only comes with a follow-up change? This would mean that both changes should be submitted only together. I think it\u0027s a good idea to seperate this into two changes to make the change smaller and the reviewing easier. But for this change I would propose to keep the old UI and simply persist a change of the merge strategy on project level as merge strategy for \u0027refs/*\u0027. Then this change can be accepted without loosing the possibility to change the merge strategy on project level.",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABhX////4\u003d",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/admin/ProjectInfoScreen.java",
        "patchSetId": 5
      },
      "lineNbr": 32,
      "author": {
        "id": 1004024
      },
      "writtenOn": "2011-11-21T18:51:11Z",
      "side": 1,
      "message": "Hi Edwin, I\u0027ll do this. But just to remind you that in project.config.java the old section for submitType does not exists anymore and the user will set the merge strategy in the new section [mergeStrategy \u003crefs\u003e],  introduced by this change. Is it ok?",
      "parentUuid": "AAABfn///+c\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABhX////w\u003d",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/admin/ProjectInfoScreen.java",
        "patchSetId": 5
      },
      "lineNbr": 32,
      "author": {
        "id": 1004024
      },
      "writtenOn": "2011-11-21T18:52:19Z",
      "side": 1,
      "message": "Ops, sorry I meant project.config, not project.config.java",
      "parentUuid": "AAABhX////4\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfn///+Q\u003d",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/admin/ProjectInfoScreen.java",
        "patchSetId": 5
      },
      "lineNbr": 32,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-11-22T07:47:55Z",
      "side": 1,
      "message": "Yes, this is exactly what I\u0027ve meant. Keep the old UI, but persist the merge strategy in the new format.",
      "parentUuid": "AAABhX////w\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABiX////8\u003d",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/admin/ProjectInfoScreen.java",
        "patchSetId": 5
      },
      "lineNbr": 32,
      "author": {
        "id": 1004024
      },
      "writtenOn": "2011-11-22T14:02:11Z",
      "side": 1,
      "message": "Hi Edwin, doing this I noticed a problem: using the old UI user will be allowed to select only one mergeStrategy. But in the project.config file(s) he can add more than one. So if the user adds more than one mergeStrategy by modifying project.config file, which one should I load in the UI? Should I block anything different from \"refs/*\" in the project.config?",
      "parentUuid": "AAABfn///+Q\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfn///9g\u003d",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/admin/ProjectInfoScreen.java",
        "patchSetId": 5
      },
      "lineNbr": 32,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-11-22T14:15:53Z",
      "side": 1,
      "message": "I would not put too much effort into this since the new UI is already prepared in another change.\n\nFrom my point of view it would be enough if the old UI just works for the straightforward case that only one merge strategy is defined for \u0027refs/*\u0027.\n\nIf merge strategies for other refs are configured by directly modifying the project.config file, I think it\u0027s ok if the UI doesn\u0027t work anymore (e.g. it doesn\u0027t display the merge strategy anymore). In this case it should be acceptable that all further modifications to the merge strategies have to be done by editing the project.config file again.",
      "parentUuid": "AAABiX////8\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABhH////g\u003d",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/rpc/project/ChangeMergeStrategies.java",
        "patchSetId": 5
      },
      "lineNbr": 103,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-11-21T08:00:48Z",
      "side": 1,
      "message": "That seems a little extreme? Just because someone isn\u0027t the owner does it mean they shouldn\u0027t even be able to see a ref? (It appears that you are attempting to obfuscate its existence which I think is usually reserved for things the user isn\u0027t allowed to see.)",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfn///+4\u003d",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/rpc/project/ChangeMergeStrategies.java",
        "patchSetId": 5
      },
      "lineNbr": 103,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-11-21T15:12:41Z",
      "side": 1,
      "message": "I would agree with Martin. Maybe a simple \u0027continue;\u0027 would be enough, at least this is how similar cases are handled in ChangeProjectAccess.",
      "parentUuid": "AAABhH////g\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABhH////Y\u003d",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/rpc/project/ChangeMergeStrategies.java",
        "patchSetId": 5
      },
      "lineNbr": 138,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-11-21T08:00:48Z",
      "side": 1,
      "message": "I think that getSectionNames might be clearer.",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfn///+8\u003d",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/rpc/project/ChangeMergeStrategies.java",
        "patchSetId": 5
      },
      "lineNbr": 138,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-11-21T15:12:41Z",
      "side": 1,
      "message": "First I also wanted to make the same comment, but then I noticed that the current name is consistent with ChangeProjectAccess#scanSectionNames(ProjectConfig).",
      "parentUuid": "AAABhH////Y\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABhH////U\u003d",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/rpc/project/ChangeMergeStrategies.java",
        "patchSetId": 5
      },
      "lineNbr": 150,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-11-21T08:00:48Z",
      "side": 1,
      "message": "See my note on the previous patch set, HashSet constructors can take a collection, this method is unneeded.",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABgn////E\u003d",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/rpc/project/ProjectAdminServiceImpl.java",
        "patchSetId": 5
      },
      "lineNbr": 103,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-11-21T08:00:48Z",
      "side": 1,
      "message": "Put this on line 79 to be more consistent?",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABgn////0\u003d",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/rpc/project/ProjectMergeStrategiesFactory.java",
        "patchSetId": 5
      },
      "lineNbr": 77,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-11-21T08:00:48Z",
      "side": 1,
      "message": "I am not sure it is appropriate to work around (doubt) the cache here?  And if so, it seems like the code to do the version check should live somewhere else?  But I admit I don\u0027t know, can someone step in and help here, or could you point me to some similar examples already in Gerrit?",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfn///+0\u003d",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/rpc/project/ProjectMergeStrategiesFactory.java",
        "patchSetId": 5
      },
      "lineNbr": 77,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-11-21T15:12:41Z",
      "side": 1,
      "message": "The same code can be found in ProjectAccessFactory#call().\n\nI agree with Martin, that it would be nice to have this version check only in one central place and to just call it from here. Though I\u0027m not sure where it would be placed best...",
      "parentUuid": "AAABgn////0\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABhX////M\u003d",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/rpc/project/ProjectMergeStrategiesFactory.java",
        "patchSetId": 5
      },
      "lineNbr": 77,
      "author": {
        "id": 1003770
      },
      "writtenOn": "2011-11-22T13:01:38Z",
      "side": 1,
      "message": "Would you refer to the verification if the revision is out of date? If yes, what about if we create a new method in ProjectState, as below?\n\n  public boolean isRevisionOutOfDate(final ProjectConfig projectConfig) {\n    return !config.getRevision().equals(projectConfig.getRevision());\n  }\n\nAnd then, modify here and ProjectAccessFactory#call to use this method?",
      "parentUuid": "AAABfn///+0\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfn///9Y\u003d",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/rpc/project/ProjectMergeStrategiesFactory.java",
        "patchSetId": 5
      },
      "lineNbr": 77,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-11-22T14:29:10Z",
      "side": 1,
      "message": "This would already improve the situation a bit, but I was hoping that this code here could be even more simplified, e.g. add the following method to ProjectControl.Factory: \n\n  validateFor(Project.NameKey nameKey, int need, boolean refreshConfig)\n\nIf this method would ensure that the ProjectControl that is returned contains the latest project config, all this code could disappear here and we could simply have:\n\n  pc \u003d projectControlFactory.validateFor(projectName, ProjectControl.OWNER | ProjectControl.VISIBLE, true);\n\nBut I\u0027m not sure if this can be done easily. If not, I\u0027m not insisting on a change here.",
      "parentUuid": "AAABhX////M\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABgn////A\u003d",
        "filename": "gerrit-httpd/src/main/java/com/google/gerrit/httpd/rpc/project/ProjectMergeStrategiesFactory.java",
        "patchSetId": 5
      },
      "lineNbr": 98,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-11-21T08:00:48Z",
      "side": 1,
      "message": "Detail seems counterintuitive, for something short, how about strategies?",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABgn///+8\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/MergeOp.java",
        "patchSetId": 5
      },
      "lineNbr": 297,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-11-21T08:00:48Z",
      "side": 1,
      "message": "It feels wrong to be doing this sort of checking in this class, it is huge already.  I suspect that passing in the appropriate merge strategy via the factory would be cleaner.",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABhH////E\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/MergeOp.java",
        "patchSetId": 5
      },
      "lineNbr": 298,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-11-21T08:00:48Z",
      "side": 1,
      "message": "You created a method on Project state which if you make the fix I suggested there, would already provide this for you.",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfn///+s\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/MergeOp.java",
        "patchSetId": 5
      },
      "lineNbr": 309,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-11-21T15:12:41Z",
      "side": 1,
      "message": "Shouldn\u0027t there be a default merge strategy that applies in this case?\n\nMaybe the wild project should always provide \u0027Merge If Necessarry\u0027 for any ref if no merge strategy is configured for this ref so that this exception here can never happen?",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABhX////k\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/MergeOp.java",
        "patchSetId": 5
      },
      "lineNbr": 309,
      "author": {
        "id": 1003770
      },
      "writtenOn": "2011-11-22T11:40:52Z",
      "side": 1,
      "message": "This exception should not happen. This is just a security check. Current implementation inserts \u0027Merge if Necessary\u0027 strategy to \u0027All Projects\u0027 when opening a project config of it if none exists. Would you agree to maintain this check here?",
      "parentUuid": "AAABfn///+s\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfn///98\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/MergeOp.java",
        "patchSetId": 5
      },
      "lineNbr": 309,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-11-22T12:32:22Z",
      "side": 1,
      "message": "I\u0027m not yet convinced that this exception cannot happen (see my comment in ProjectConfig.java). \n\nIn fact I was getting this exception when I was trying this change out. I should have a closer look to understand how I got here. I hope I can reproduce it.\n\nAnyway, if in the end it\u0027s really like this that this exception should not happen, I\u0027m fine with leaving this check here.",
      "parentUuid": "AAABhX////k\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABhH////A\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/MergeOp.java",
        "patchSetId": 5
      },
      "lineNbr": 340,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-11-21T08:00:48Z",
      "side": 1,
      "message": "What is a nonMatcherRefStartegy?  Does it just mean an invalid entry?  If so, maybe it would be better to push the validation to a lower level, perhaps down at the ProjectMergeStrategies level, or even at the mss level (prevent invalid sections from even being created)?",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABhX////g\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/MergeOp.java",
        "patchSetId": 5
      },
      "lineNbr": 340,
      "author": {
        "id": 1003770
      },
      "writtenOn": "2011-11-22T11:40:52Z",
      "side": 1,
      "message": "We should improve this method name. A better name would be \"filterRefStrategies\", maybe. When determining the most specific strategy applied to a branch, the first step is to determine all the strategies to all ref patterns. The following step is to call this method so it can filter the ones applying to the branch, based on the ref pattern they have.",
      "parentUuid": "AAABhH////A\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfX///84\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/ProjectConfig.java",
        "patchSetId": 5
      },
      "lineNbr": 71,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2011-11-27T00:18:19Z",
      "side": 1,
      "message": "I dislike the new naming:\n\n  [mergeStrategy \"refs/heads/foo\"]\n    strategy \u003d MERGE_IF_NECESSARY\n\nWe should stick with the current submit.action, but allow a per-reference entry to override the default:\n\n  [submit]\n    action \u003d CHERRY_PICK\n\n  [submit \"refs/heads/maint\"]\n    action \u003d MERGE_IF_NECESSARY\n\nNote that we should then also be able to support mergeContent within the per-reference submit setting, in addition to the submit type (aka action).",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfX///+o\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/ProjectConfig.java",
        "patchSetId": 5
      },
      "lineNbr": 81,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-11-21T08:00:48Z",
      "side": 1,
      "message": "This seems like it should be plural.",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfX///9I\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/ProjectConfig.java",
        "patchSetId": 5
      },
      "lineNbr": 81,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2011-11-27T00:18:19Z",
      "side": 1,
      "message": "As Martin requested, this name should be plural.",
      "parentUuid": "AAABfX///+o\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfn///8w\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/ProjectConfig.java",
        "patchSetId": 5
      },
      "lineNbr": 301,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-11-23T11:23:03Z",
      "side": 1,
      "message": "This condition always evaluates to false, because it compares projectName which is of type Project.NameKey with AllProjectsNameProvider.DEFAULT which is a String. I think it must either be\n\n  projectName.get().equals(AllProjectsNameProvider.DEFAULT)\n\nor you need to get an instance of AllProjectsNameProvider and do\n\n  projectName.equals(allProjectsNameProvider.get())",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfn///9w\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/ProjectConfig.java",
        "patchSetId": 5
      },
      "lineNbr": 303,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-11-22T12:32:22Z",
      "side": 1,
      "message": "Currently this default merge strategy is only added for the wild project if for the wild project there is no merge strategy defined for any ref pattern. I think this default merge strategy must be added for the wild project if there is no merge strategy set for \u0027refs/*\u0027.\n\nE.g. if on the wild project I set \u0027Fast Foward Only\u0027 as merge strategy for \u0027refs/heads/release/*\u0027. What would happen then if I try to submit a change for \u0027refs/heads/test\u0027? If the child project doesn\u0027t define own merge strategies, there would be no merge strategy for this ref and the submit would fail with the MergeException in MergeOp -\u003e line 308, wouldn\u0027t it?",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABhX////U\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/ProjectConfig.java",
        "patchSetId": 5
      },
      "lineNbr": 303,
      "author": {
        "id": 1003770
      },
      "writtenOn": "2011-11-22T12:40:23Z",
      "side": 1,
      "message": "I am sorry I missed it. You are absolutely right. We should fix it. Would it be ok if we fix it here, without \"inserting\" this default strategy in MergeOp (if none is found, what should not occur with this fix) ?",
      "parentUuid": "AAABfn///9w\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfn///9o\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/ProjectConfig.java",
        "patchSetId": 5
      },
      "lineNbr": 303,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-11-22T12:45:03Z",
      "side": 1,
      "message": "Yes, it\u0027s enough to fix it here. The handling in MergeOp can then stay as it is.",
      "parentUuid": "AAABhX////U\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABhH////s\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ProjectState.java",
        "patchSetId": 5
      },
      "lineNbr": 239,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-11-21T08:00:48Z",
      "side": 1,
      "message": "I suspect that in this case you would still want to at least add the allprojects rules?  Perhaps the check on 244 should just be eliminated?",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfn///+w\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ProjectState.java",
        "patchSetId": 5
      },
      "lineNbr": 239,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-11-21T15:12:41Z",
      "side": 1,
      "message": "I\u0027m not sure that the check on 244 can be removed. Actually this else branch is only entered when the project points to a parent project that does not exist, isn\u0027t it (parent !\u003d null \u0026\u0026 projectCache.get(parent) \u003d\u003d null)? \n\nFor projects that are children of the wild project \u0027s.getProject().getParent()\u0027 may either return \u0027All-Projects\u0027 or null. In the second case the while loop would end and the merge strategies for the wild project are not added to the \u0027inherited\u0027 list. I think for this case the check on 244 is still needed.",
      "parentUuid": "AAABhH////s\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfX///9Q\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ProjectState.java",
        "patchSetId": 5
      },
      "lineNbr": 239,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2011-11-27T00:18:19Z",
      "side": 1,
      "message": "What Edwin said. :-)",
      "parentUuid": "AAABfn///+w\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABhH////o\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ProjectState.java",
        "patchSetId": 5
      },
      "lineNbr": 255,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-11-21T08:00:48Z",
      "side": 1,
      "message": "I suspect that you want to preserve order here and return a List?",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABhX////o\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ProjectState.java",
        "patchSetId": 5
      },
      "lineNbr": 255,
      "author": {
        "id": 1003770
      },
      "writtenOn": "2011-11-22T11:40:52Z",
      "side": 1,
      "message": "Yes, sure.",
      "parentUuid": "AAABhH////o\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfn///84\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/schema/Schema_53.java",
        "patchSetId": 5
      },
      "lineNbr": 41,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-11-23T11:23:03Z",
      "side": 1,
      "message": "this import is not used and should be removed",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABhH////0\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/schema/Schema_53.java",
        "patchSetId": 5
      },
      "lineNbr": 203,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-11-21T08:00:48Z",
      "side": 1,
      "message": "Suggestion: do a Project project \u003d config.project() here and there will be fewer changes to this function and some of the lines will stay shorter.",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfn///+g\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/schema/Schema_53.java",
        "patchSetId": 5
      },
      "lineNbr": 214,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-11-21T15:12:41Z",
      "side": 1,
      "message": "You should not hard code the name of the wild project, but get it injected. Actually this name is now \u0027All-Projects\u0027 and not \u0027-- All Projects --\u0027 anymore.",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABh3////s\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/schema/Schema_53.java",
        "patchSetId": 5
      },
      "lineNbr": 214,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-11-21T18:00:45Z",
      "side": 1,
      "message": "Edwin, see my comment on schema_59.  When did the All-Projects name change?  This update has to deal with the name that it would be on a Gerrit running Schema_52, not the current name!",
      "parentUuid": "AAABfn///+g\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfn///+M\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/schema/Schema_53.java",
        "patchSetId": 5
      },
      "lineNbr": 214,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-11-22T07:47:55Z",
      "side": 1,
      "message": "Sorry. Martin, you are of course right!\n\nThe rename was done with change 23551 [1]. This change introduced schema version 55. Means all migrations for schema version \u003c\u003d 55 have to deal with the old name.\n\n[1] https://gerrit-review.googlesource.com/23551",
      "parentUuid": "AAABh3////s\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABhH////w\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/schema/Schema_53.java",
        "patchSetId": 5
      },
      "lineNbr": 217,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-11-21T08:00:48Z",
      "side": 1,
      "message": "This is kind of confusing, why bother with a flag when these two ifs could just be one?  It only seems to add a layer of indirection making it harder to figure out when and why the second if will be executed.",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfX///9M\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/schema/Schema_60.java",
        "patchSetId": 5
      },
      "lineNbr": 51,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2011-11-27T00:18:19Z",
      "side": 1,
      "message": "Please don\u0027t use a schema version to update the refs/meta/config of projects. The schema version in the SQL database is not related to the configuration version that appears in the refs/meta/config. We cannot rely on the database schema version to tell us how to interpret every project\u0027s refs/meta/config in this server.\n\nAdditionally, gerrit-review.googlesource.com is now this weird special case where I cannot do a schema upgrade other than the default gwtorm logic of adding new fields with Java default values like false / 0 / \"\". If Gerrit Code Review forces me to do a data upgrade through a SchemaVersion subclass, I have thus far estimated it will cost me a man-week worth of effort *and* require I shutdown the site for up to 24 hours. Please consider carefully how important a schema upgrade is, because it has a very high cost to me now.\n\nUnfortunately this sort of logic must be in the read code path of ProjectConfig, where the behavior of the project is based around the variables that actually exist in the refs/meta/config branch. If there are no reference specific submit actions than the default submit.action must be used.",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABhH////I\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/schema/Schema_60.java",
        "patchSetId": 5
      },
      "lineNbr": 53,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-11-21T08:00:48Z",
      "side": 1,
      "message": "I noticed that schema53 which you modified did not use any constants to represent strings.  I suspect that is to ensure that the schema update is \"frozen\" to the value of the strings at the time the update was written so that it is possible to update the string constants in normal Gerrit classes without having to worry about messing up the old conversions.  I suspect that the same should apply to this class for the many string constants that are used below.",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABgn////U\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/schema/Schema_60.java",
        "patchSetId": 5
      },
      "lineNbr": 62,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-11-21T08:00:48Z",
      "side": 1,
      "message": "@Override",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfn///+o\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/schema/Schema_60.java",
        "patchSetId": 5
      },
      "lineNbr": 74,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-11-21T15:12:41Z",
      "side": 1,
      "message": "Looks like you\u0027re adding a merge strategy for \u0027refs/*\u0027 only if there is a \u0027submit\u0027 section in the project.config file.\n\nFor some projects (e.g. for newly created projects) there is no \u0027submit\u0027 section in the project.config, which means that the default merge strategy (Merge If Necessarry) applies.\n\nAt least for the wild project this needs to be handled, other projects can then inherit the default merge strategy.",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABhX////c\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/schema/Schema_60.java",
        "patchSetId": 5
      },
      "lineNbr": 74,
      "author": {
        "id": 1003770
      },
      "writtenOn": "2011-11-22T11:40:52Z",
      "side": 1,
      "message": "Yes, it is already handled. Please, look at the line 301 of ProjectConfig.java .",
      "parentUuid": "AAABfn///+o\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfn///94\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/schema/Schema_60.java",
        "patchSetId": 5
      },
      "lineNbr": 74,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-11-22T12:32:22Z",
      "side": 1,
      "message": "Ok I see, then this looks good here.",
      "parentUuid": "AAABhX////c\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfn///+k\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/schema/Schema_60.java",
        "patchSetId": 5
      },
      "lineNbr": 75,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-11-21T15:12:41Z",
      "side": 1,
      "message": "If you set the merge strategy for a project back to the default merge strategy \u0027Merge If Necessarry\u0027 this results in an empty \u0027submit\u0027 section in the project.config file. This case isn\u0027t handled here. I think it at least needs to be handled for the wild projects, other projects can then inherit the default merge strategy.",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABfn///90\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/schema/Schema_60.java",
        "patchSetId": 5
      },
      "lineNbr": 75,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-11-22T12:32:22Z",
      "side": 1,
      "message": "I guess this is then also covered by line 301 of ProjectConfig.java.",
      "parentUuid": "AAABfn///+k\u003d",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABgn////M\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/schema/Schema_60.java",
        "patchSetId": 5
      },
      "lineNbr": 77,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-11-21T08:00:48Z",
      "side": 1,
      "message": "Mypref(feel free to ignore):  Since this is the only place that this flag is being set, it might be simpler to put an active slant on the setting by using a var named saveSubmitSection instead.",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABgn////Q\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/schema/Schema_60.java",
        "patchSetId": 5
      },
      "lineNbr": 101,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2011-11-21T08:00:48Z",
      "side": 1,
      "message": "56?",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAABe3////M\u003d",
        "filename": "gerrit-sshd/src/main/java/com/google/gerrit/sshd/commands/CreateProject.java",
        "patchSetId": 5
      },
      "lineNbr": 82,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2011-11-17T08:33:58Z",
      "side": 1,
      "message": "If the \u0027--submit-type\u0027 option is removed in the code, it should also be removed from the documentation in \u0027cmd-create-project.txt\u0027.",
      "revId": "c57e94175b6d58cfff4d502f6d83b8d52abc48e9",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}