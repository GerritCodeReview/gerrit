{
  "comments": [
    {
      "key": {
        "uuid": "6b9fe610_fdd1b89b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-11-29T15:55:30Z",
      "side": 1,
      "message": "I\u0027m not totally convinced that we want to just delete this extension point. But I think it\u0027s fine to break anyway.",
      "range": {
        "startLine": 18,
        "startChar": 57,
        "endLine": 19,
        "endChar": 62
      },
      "revId": "c6eebf8ae869aa697a65c922f19c4b1e3d2844f2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "563f3890_579f7766",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-11-29T16:10:33Z",
      "side": 1,
      "message": "This extension point is only called by the ReviewDb code path at the moment. I thought that we wanted to replace it by the reference updated events of NoteDb. If we want to keep it with NoteDb, we should include it in our list of remaining tasks.",
      "parentUuid": "6b9fe610_fdd1b89b",
      "range": {
        "startLine": 18,
        "startChar": 57,
        "endLine": 19,
        "endChar": 62
      },
      "revId": "c6eebf8ae869aa697a65c922f19c4b1e3d2844f2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7a266c22_3bfcc543",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-11-29T16:17:41Z",
      "side": 1,
      "message": "I was talking about exactly this issue (in a more general context) with Shawn yesterday: someone may want to maintain an audit log outside of the Gerrit storage layer. The use case is if a company hires an outside auditor to audit their entire company for some sort of regulatory compliance, they want to be able to point the auditor at a single unified audit log storage system. This is much preferable to having the auditor manually correlate audit logs stored in a bunch of separate systems.\n\nSo we have to have some way of getting the audit log information from Gerrit to the external system. Right now, that can be done with this extension point. If we take it away, admins would have to write a tool to periodically read in audit logs via the GetAuditLog endpoint and dump them to the external system. This is perfectly doable, of course, but it\u0027s more work.\n\nEither way, we have to break audit log extensions. We have our choice of breaking them by slightly changing the Java method signatures, or by requiring them to be rewritten as batch jobs. The former is less pain.",
      "parentUuid": "563f3890_579f7766",
      "range": {
        "startLine": 18,
        "startChar": 57,
        "endLine": 19,
        "endChar": 62
      },
      "revId": "c6eebf8ae869aa697a65c922f19c4b1e3d2844f2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3ac873b3_edfe724e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-11-29T16:32:39Z",
      "side": 1,
      "message": "Good point. I adjusted the commit message. Notifying the audit listeners with just NoteDb will be the scope of another change.",
      "parentUuid": "7a266c22_3bfcc543",
      "range": {
        "startLine": 18,
        "startChar": 57,
        "endLine": 19,
        "endChar": 62
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "c6eebf8ae869aa697a65c922f19c4b1e3d2844f2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "40f8add6_5450fa57",
        "filename": "java/com/google/gerrit/server/group/db/GroupsUpdate.java",
        "patchSetId": 1
      },
      "lineNbr": 209,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-11-29T15:55:30Z",
      "side": 1,
      "message": "This comment seems out of place, it is describing the opposite of the behavior in this block.",
      "revId": "c6eebf8ae869aa697a65c922f19c4b1e3d2844f2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "18397153_00f00a4a",
        "filename": "java/com/google/gerrit/server/group/db/GroupsUpdate.java",
        "patchSetId": 1
      },
      "lineNbr": 209,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-11-29T16:10:33Z",
      "side": 1,
      "message": "We pass this code whenever we write to ReviewDb. I didn\u0027t want to distinguish between writing or not writing to NoteDb as setting the timestamp here for the \u0027not writing\u0027 case doesn\u0027t hurt.\n\nI don\u0027t understand why you think that the comment is describing the opposite of what the code does but I can simply remove it if that\u0027s better.",
      "parentUuid": "40f8add6_5450fa57",
      "revId": "c6eebf8ae869aa697a65c922f19c4b1e3d2844f2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d20cfc40_4eb7d3da",
        "filename": "java/com/google/gerrit/server/group/db/GroupsUpdate.java",
        "patchSetId": 1
      },
      "lineNbr": 255,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-11-29T15:55:30Z",
      "side": 1,
      "message": "Same comment as above.",
      "revId": "c6eebf8ae869aa697a65c922f19c4b1e3d2844f2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}