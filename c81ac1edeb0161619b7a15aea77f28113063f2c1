{
  "comments": [
    {
      "key": {
        "uuid": "b031d818_653040b1",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/api/changes/RevisionApi.java",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-11-15T23:21:01Z",
      "side": 1,
      "message": "I think by analogy to ChangeApi#topic, this should be description(String), and also have a getter.",
      "revId": "c81ac1edeb0161619b7a15aea77f28113063f2c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b031d818_850104ba",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/api/changes/RevisionApi.java",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2016-11-15T23:36:10Z",
      "side": 1,
      "message": "Okay, will impl that",
      "parentUuid": "b031d818_653040b1",
      "revId": "c81ac1edeb0161619b7a15aea77f28113063f2c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0a51083_072b7846",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PutDescription.java",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-11-15T23:21:01Z",
      "side": 1,
      "message": "Conventionally this would be \"rsrc\"",
      "range": {
        "startLine": 68,
        "startChar": 49,
        "endLine": 68,
        "endChar": 52
      },
      "revId": "c81ac1edeb0161619b7a15aea77f28113063f2c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b031d818_254d983e",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PutDescription.java",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2016-11-15T23:36:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f0a51083_072b7846",
      "revId": "c81ac1edeb0161619b7a15aea77f28113063f2c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b031d818_c514ac0a",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PutDescription.java",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-11-15T23:21:01Z",
      "side": 1,
      "message": "This shouldn\u0027t be necessary in Java 8.",
      "range": {
        "startLine": 81,
        "startChar": 19,
        "endLine": 81,
        "endChar": 28
      },
      "revId": "c81ac1edeb0161619b7a15aea77f28113063f2c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b031d818_6547a01c",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PutDescription.java",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2016-11-15T23:36:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b031d818_c514ac0a",
      "revId": "c81ac1edeb0161619b7a15aea77f28113063f2c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b031d818_65d4c001",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PutDescription.java",
        "patchSetId": 1
      },
      "lineNbr": 93,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-11-15T23:42:46Z",
      "side": 1,
      "message": "Just pass in the PatchSet.Id. Then, inside updateChange, read the patch set back with psUtil.get(ctx.getDb(), ctx.getNotes(), psId). This ensures that you have the latest value inside the transaction, in case it\u0027s been changed since the PatchSet was read during REST API setup.",
      "revId": "c81ac1edeb0161619b7a15aea77f28113063f2c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0a51083_c714800a",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PutDescription.java",
        "patchSetId": 1
      },
      "lineNbr": 109,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-11-15T23:21:01Z",
      "side": 1,
      "message": "Should newDescription be quoted or set off with a : or something?",
      "revId": "c81ac1edeb0161619b7a15aea77f28113063f2c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0a51083_2747941d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PutDescription.java",
        "patchSetId": 1
      },
      "lineNbr": 109,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2016-11-15T23:36:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f0a51083_c714800a",
      "revId": "c81ac1edeb0161619b7a15aea77f28113063f2c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b031d818_051fb424",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PutDescription.java",
        "patchSetId": 1
      },
      "lineNbr": 114,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-11-15T23:21:01Z",
      "side": 1,
      "message": "Is it necessary to include oldDescription here?",
      "range": {
        "startLine": 111,
        "startChar": 8,
        "endLine": 114,
        "endChar": 44
      },
      "revId": "c81ac1edeb0161619b7a15aea77f28113063f2c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0a51083_c73b208c",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PutDescription.java",
        "patchSetId": 1
      },
      "lineNbr": 114,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2016-11-15T23:36:10Z",
      "side": 1,
      "message": "Most of this is copied from PutTopic brainlessly :D",
      "parentUuid": "b031d818_051fb424",
      "revId": "c81ac1edeb0161619b7a15aea77f28113063f2c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b031d818_88759b3c",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PutDescription.java",
        "patchSetId": 1
      },
      "lineNbr": 114,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-11-16T00:07:30Z",
      "side": 1,
      "message": "My only slightly brainful concern is that descriptions might be longer than topics, so this might be more distracting. I\u0027ll defer to PG folks though.",
      "parentUuid": "f0a51083_c73b208c",
      "revId": "c81ac1edeb0161619b7a15aea77f28113063f2c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b031d818_4521bc64",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PutDescription.java",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2016-11-15T23:08:23Z",
      "side": 1,
      "message": "I think the problem lies in these two lines. Calling ps.setDescription does not cause ReviewDB to actually set the value in the db.",
      "range": {
        "startLine": 116,
        "startChar": 0,
        "endLine": 118,
        "endChar": 0
      },
      "revId": "c81ac1edeb0161619b7a15aea77f28113063f2c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b031d818_a511a818",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PutDescription.java",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-11-15T23:21:01Z",
      "side": 1,
      "message": "\u003e Calling ps.setDescription does not cause ReviewDB to actually set the value in the db.\n\nThis statement is true, but that\u0027s what update.setPsDescription is supposed to do. What specific problem are you seeing?\n\nWhen I run into this kind of issue with NoteDb, to be honest, what I will do is usually printf debugging.\n\nFor example, try putting System.out.println(cb.getMesssage()) around AbstractChangeUpdate.java:232",
      "parentUuid": "b031d818_4521bc64",
      "revId": "c81ac1edeb0161619b7a15aea77f28113063f2c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0a51083_e7073cc8",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PutDescription.java",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2016-11-15T23:36:10Z",
      "side": 1,
      "message": "When gerrit.config is set up to read from/write to NoteDB, this code works. When NoteDB is not configured, the change succeeds and I get an OK response, but the new value does not persist when I check the DB.",
      "parentUuid": "b031d818_a511a818",
      "revId": "c81ac1edeb0161619b7a15aea77f28113063f2c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0a51083_27dd542e",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PutDescription.java",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-11-15T23:42:46Z",
      "side": 1,
      "message": "Ah. So NoteDb works but ReviewDb doesn\u0027t.\n\nYou are missing ctx.getDb().patchSets().update(Collections.singleton(ps)) to write it back to ReviewDb.",
      "parentUuid": "f0a51083_e7073cc8",
      "revId": "c81ac1edeb0161619b7a15aea77f28113063f2c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b031d818_e5bf30ad",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PutDescription.java",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-11-15T23:44:21Z",
      "side": 1,
      "message": "You may also choose to move this chunk into a PatchSetUtil method similar to setGroups. Not really an issue if we expect this to be the only place that modifies this field (outside of when the patch set is created).",
      "parentUuid": "f0a51083_27dd542e",
      "revId": "c81ac1edeb0161619b7a15aea77f28113063f2c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0a51083_a7bf04ae",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PutDescription.java",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2016-11-16T00:01:51Z",
      "side": 1,
      "message": "Done with ctx.getDb().patchSets().update(Collections.singleton(ps)).\n\nDon\u0027t expect this field to get set anywhere else.",
      "parentUuid": "b031d818_e5bf30ad",
      "revId": "c81ac1edeb0161619b7a15aea77f28113063f2c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b031d818_e51bb034",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PutDescription.java",
        "patchSetId": 1
      },
      "lineNbr": 140,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-11-15T23:21:01Z",
      "side": 1,
      "message": "This can be shortened to UiAction.Description.",
      "range": {
        "startLine": 140,
        "startChar": 9,
        "endLine": 140,
        "endChar": 64
      },
      "revId": "c81ac1edeb0161619b7a15aea77f28113063f2c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b031d818_c53b0c8c",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/PutDescription.java",
        "patchSetId": 1
      },
      "lineNbr": 140,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2016-11-15T23:36:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b031d818_e51bb034",
      "revId": "c81ac1edeb0161619b7a15aea77f28113063f2c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b031d818_45489c2e",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ChangeControl.java",
        "patchSetId": 1
      },
      "lineNbr": 450,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-11-15T23:21:01Z",
      "side": 1,
      "message": "Nit: long line",
      "revId": "c81ac1edeb0161619b7a15aea77f28113063f2c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b031d818_e53290ac",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/ChangeControl.java",
        "patchSetId": 1
      },
      "lineNbr": 450,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2016-11-15T23:36:10Z",
      "side": 1,
      "message": "Most of the lines in this file are long, too. Stylistically I actually think this ought to stay for smoother visual flow.\n\nI actually had a question about this method... I tried to include everything I felt was relevant, do you think I\u0027m missing anything?",
      "parentUuid": "b031d818_45489c2e",
      "revId": "c81ac1edeb0161619b7a15aea77f28113063f2c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}