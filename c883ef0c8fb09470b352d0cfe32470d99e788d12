{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "5976260e_e2e94a1a",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-rest-api-impl.ts",
        "patchSetId": 8
      },
      "lineNbr": 286,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2022-01-21T09:56:44Z",
      "side": 1,
      "message": "I think we should set the backoff parameters explicitly here and below for the write scheduler, as well.\n\nFor retrying 429s we may need a more substantial backoff interval than just 50 ms.",
      "revId": "c883ef0c8fb09470b352d0cfe32470d99e788d12",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "529d0c8e_da5828e2",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-rest-api-impl.ts",
        "patchSetId": 8
      },
      "lineNbr": 286,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2022-01-21T09:59:50Z",
      "side": 1,
      "message": "Weirdly enough this works to alleviate the bug, even with a max-in-flight scheduler supporting 10000 in parallel.",
      "parentUuid": "5976260e_e2e94a1a",
      "revId": "c883ef0c8fb09470b352d0cfe32470d99e788d12",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "25436c14_68ade293",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-rest-api-impl.ts",
        "patchSetId": 8
      },
      "lineNbr": 286,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2022-01-21T10:10:58Z",
      "side": 1,
      "message": "Weird. I was not expecting that we can solve rate limiting issues by continuing to hammer the service. :-)",
      "parentUuid": "529d0c8e_da5828e2",
      "revId": "c883ef0c8fb09470b352d0cfe32470d99e788d12",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8a79f118_afeedfac",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-rest-api-impl.ts",
        "patchSetId": 8
      },
      "lineNbr": 286,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2022-01-21T10:29:03Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "25436c14_68ade293",
      "revId": "c883ef0c8fb09470b352d0cfe32470d99e788d12",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eec39195_ce2560f5",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-rest-apis/gr-rest-api-helper.ts",
        "patchSetId": 8
      },
      "lineNbr": 247,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2022-01-21T09:56:44Z",
      "side": 1,
      "message": "Maybe use the `HttpMethod` enum.",
      "revId": "c883ef0c8fb09470b352d0cfe32470d99e788d12",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "55b819d7_4e533dba",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-rest-apis/gr-rest-api-helper.ts",
        "patchSetId": 8
      },
      "lineNbr": 247,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2022-01-21T09:59:50Z",
      "side": 1,
      "message": "Unfortunately we don\u0027t use HttpMethod in send.  I could recast it but then what about values outside of that enum.",
      "parentUuid": "eec39195_ce2560f5",
      "revId": "c883ef0c8fb09470b352d0cfe32470d99e788d12",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "343973de_5fd3cd88",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-rest-apis/gr-rest-api-helper.ts",
        "patchSetId": 8
      },
      "lineNbr": 266,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2022-01-21T09:56:44Z",
      "side": 1,
      "message": "What do you think about increasing the backoff interval to something like 3 seconds and then firing an alert (i.e. show a toast) here such that the user knows that something is being retried in the background?",
      "revId": "c883ef0c8fb09470b352d0cfe32470d99e788d12",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ff79ef89_d15be564",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-rest-apis/gr-rest-api-helper.ts",
        "patchSetId": 8
      },
      "lineNbr": 266,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2022-01-21T09:59:50Z",
      "side": 1,
      "message": "Why should we bother the user if this is a temporary glitch that can resolve itself?",
      "parentUuid": "343973de_5fd3cd88",
      "revId": "c883ef0c8fb09470b352d0cfe32470d99e788d12",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bf103eda_0d719de0",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-rest-apis/gr-rest-api-helper.ts",
        "patchSetId": 8
      },
      "lineNbr": 266,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2022-01-21T10:10:58Z",
      "side": 1,
      "message": "Because if the user is rate limited, then I was expecting that we have to wait a few seconds before we can send more requests. If the backoff interval is 50 ms and the retry count 3, then I agree with you.\n\nIf we let the user wait for more than 3 seconds for something that usually takes \u003c1 second, then I think telling the user about what is causing the delay might be a good idea. Similar to how GMail notifies about retrying when network connection is lost.\n\nFeel free to punt on this for later UX optmizations.",
      "parentUuid": "ff79ef89_d15be564",
      "revId": "c883ef0c8fb09470b352d0cfe32470d99e788d12",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9936e275_633dd4de",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-rest-apis/gr-rest-api-helper.ts",
        "patchSetId": 8
      },
      "lineNbr": 266,
      "author": {
        "id": 1139611
      },
      "writtenOn": "2022-01-21T10:29:03Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "bf103eda_0d719de0",
      "revId": "c883ef0c8fb09470b352d0cfe32470d99e788d12",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}