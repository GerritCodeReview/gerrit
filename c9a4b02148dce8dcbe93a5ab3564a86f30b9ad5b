{
  "comments": [
    {
      "key": {
        "uuid": "8213dd79_a9a2819a",
        "filename": "javatests/com/google/gerrit/server/permissions/RefControlTest.java",
        "patchSetId": 1
      },
      "lineNbr": 435,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-05-22T09:45:22Z",
      "side": 0,
      "message": "Why was this dropped?",
      "range": {
        "startLine": 435,
        "startChar": 4,
        "endLine": 435,
        "endChar": 45
      },
      "revId": "c9a4b02148dce8dcbe93a5ab3564a86f30b9ad5b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "632c4cab_6a8ceff9",
        "filename": "javatests/com/google/gerrit/server/permissions/RefControlTest.java",
        "patchSetId": 1
      },
      "lineNbr": 435,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2019-05-22T16:47:18Z",
      "side": 0,
      "message": "Lines 438-441 are doing something unusual and non-obvious here: they are resetting local back to the state it was at the beginning of the test, i.e. an empty ACL defining only the parent project. In order to replicate that with the new pattern, we would need to:\n\n* allow read for devs on refs/heads/*\n* assert admin can access\n* undo step 1, i.e. remove read for devs on refs/heads/*\n* allow read for dev on refs/*\n* assert def can access\n\nWhen phrased that way, not only is it rather verbose, it makes it clear that there are really two distinct test cases in this method: testing that admins can access in the case where inheritance *doesn\u0027t* involve duplicate sections; and testing that devs can access in the case where inheritance *does* involve duplicate sections.\n\nOf those two scenarios, only the latter one is relevant to the stated purpose of the test method, so when rewriting it, I omitted the first, irrelevant half of the test. I did leave in the extra assert about admin, since that is still relevant in the context of inherited sections.",
      "parentUuid": "8213dd79_a9a2819a",
      "range": {
        "startLine": 435,
        "startChar": 4,
        "endLine": 435,
        "endChar": 45
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "c9a4b02148dce8dcbe93a5ab3564a86f30b9ad5b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ca0ea62f_f6e6789c",
        "filename": "javatests/com/google/gerrit/server/permissions/RefControlTest.java",
        "patchSetId": 1
      },
      "lineNbr": 640,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2019-05-22T09:45:22Z",
      "side": 0,
      "message": "Setting this force flag is missing in the new code.",
      "range": {
        "startLine": 640,
        "startChar": 3,
        "endLine": 640,
        "endChar": 21
      },
      "revId": "c9a4b02148dce8dcbe93a5ab3564a86f30b9ad5b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42e7b1f0_c08dce4e",
        "filename": "javatests/com/google/gerrit/server/permissions/RefControlTest.java",
        "patchSetId": 1
      },
      "lineNbr": 640,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2019-05-22T16:47:18Z",
      "side": 0,
      "message": "Done. I\u0027m not sure why it still passed.",
      "parentUuid": "ca0ea62f_f6e6789c",
      "range": {
        "startLine": 640,
        "startChar": 3,
        "endLine": 640,
        "endChar": 21
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "c9a4b02148dce8dcbe93a5ab3564a86f30b9ad5b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}