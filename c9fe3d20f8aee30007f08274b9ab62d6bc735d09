{
  "pushCert": "certificate version 0.1\npusher A0D0EF51 1503055595 +0200\nnonce AHIDc+N1jRIAzUj6rh1W6SKFf8g9ofs2o8IQhcDcsRTyWOLWzo+msd1hhg9gbuw/TarnUuudxYpO\n\n0000000000000000000000000000000000000000 c9fe3d20f8aee30007f08274b9ab62d6bc735d09 refs/for/master\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQEcBAABAgAGBQJZls7sAAoJEFG1/Zeg0O9RCeMIAJpfhPkqzXmi/ppqvufZcMp5\n7H7L6XB0qDnSRNpIHSHoiV28aqzc4xkwe2m9MpYR6fX9Q59llyKMS8Cs9PbwguvA\nDdJwOrFEp75s9dRCfAjWHZJw8f/vaCB0tnYMz3B6LTdu2Vwjcu+c+dHHnx0YUUOX\nGqqMn+ATMQcZBZPz6aFCUlbCqVhz6mDNkjWIZi1todZx88C3ZgnEGQoEXmEje1wH\nxLdfE9ipqJQaFowf4hdOGr5q5CSqHe2SIT/x3xiTcQk6BZZN7GCphLFSKwwAT7+c\neQiLsmTUXm/l+2DC676UztT1TvMlYVb/0ofikhtZb1qfzs4+v5okKshTKyE4UUk\u003d\n\u003dIqE7\n-----END PGP SIGNATURE-----\n",
  "comments": [
    {
      "key": {
        "uuid": "bebf0cbc_40db1e5c",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/git/AbstractPushForReview.java",
        "patchSetId": 1
      },
      "lineNbr": 190,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-08-18T13:19:08Z",
      "side": 1,
      "message": "Do we want a test that pushing an initial commit for anything other than master and refs/meta/config fails?",
      "revId": "c9fe3d20f8aee30007f08274b9ab62d6bc735d09",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "909ab67a_25629fb2",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/MergeOpRepoManager.java",
        "patchSetId": 1
      },
      "lineNbr": 139,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-08-18T13:19:08Z",
      "side": 1,
      "message": "getFullBranch() returns the name of the branch to which HEAD is pointing. So, without seeing this change, I would assume in a config-only repo, HEAD would be pointing at refs/meta/config even if refs/meta/config doesn\u0027t exist.\n\nBut, the fact that you had to write this change suggests my assumption is incorrect. I guess the only way to get HEAD pointing at refs/meta/config is to set ProjectInput.permissionsOnly, at which point it\u0027s also going to create the refs/meta/config branch.\n\nSo, is this the use case we\u0027re concerned about: someone running \"git init --bare $site/git/parentproject.git\", where they *plan* to make it config-only, but HEAD doesn\u0027t (yet) point at refs/meta/config?\n\nIf I\u0027m following correctly, then I think special-casing REFS_CONFIG here is the right way to go.",
      "range": {
        "startLine": 139,
        "startChar": 34,
        "endLine": 139,
        "endChar": 57
      },
      "revId": "c9fe3d20f8aee30007f08274b9ab62d6bc735d09",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}