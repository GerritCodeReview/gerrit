{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "0ee6b929_732126b9",
        "filename": "polygerrit-ui/app/elements/shared/gr-lib-loader/gr-lib-loader.ts",
        "patchSetId": 2
      },
      "lineNbr": 60,
      "author": {
        "id": 1083880
      },
      "writtenOn": "2021-06-09T15:07:32Z",
      "side": 0,
      "message": "Not very familiar with promises, but this looks to me also as if previously only the first call to getHLJS() would ever see a rejected promise, while later calls would just never resolve?",
      "revId": "cc5ceefef7d138c338c082e6577c5ccb32a9bdc2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bd473b65_28ca02da",
        "filename": "polygerrit-ui/app/elements/shared/gr-lib-loader/gr-lib-loader.ts",
        "patchSetId": 2
      },
      "lineNbr": 60,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2021-06-09T16:11:28Z",
      "side": 0,
      "message": "this._hljsState.loading is never reset back to false if the promise is rejected so this function does simply nothing if the first call rejects IIUC?",
      "parentUuid": "0ee6b929_732126b9",
      "revId": "cc5ceefef7d138c338c082e6577c5ccb32a9bdc2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0f045438_b09a29f6",
        "filename": "polygerrit-ui/app/elements/shared/gr-lib-loader/gr-lib-loader.ts",
        "patchSetId": 2
      },
      "lineNbr": 60,
      "author": {
        "id": 1083880
      },
      "writtenOn": "2021-06-09T16:12:55Z",
      "side": 0,
      "message": "That\u0027s how I understand it. First caller of getHLJS() sees their promise rejected if the loading fails and any other callers will see their promise never resolve.",
      "parentUuid": "bd473b65_28ca02da",
      "revId": "cc5ceefef7d138c338c082e6577c5ccb32a9bdc2",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}