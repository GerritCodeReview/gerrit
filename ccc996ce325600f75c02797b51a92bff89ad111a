{
  "comments": [
    {
      "key": {
        "uuid": "75718c34_f247ca3b",
        "filename": "polygerrit-ui/app/elements/core/gr-error-manager/gr-error-manager.js",
        "patchSetId": 4
      },
      "lineNbr": 19,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2017-03-22T05:02:15Z",
      "side": 1,
      "message": "Either make this one a number, or update the one above to me a multiplication statement.",
      "range": {
        "startLine": 19,
        "startChar": 38,
        "endLine": 19,
        "endChar": 48
      },
      "revId": "ccc996ce325600f75c02797b51a92bff89ad111a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "38320d4c_777d1502",
        "filename": "polygerrit-ui/app/elements/core/gr-error-manager/gr-error-manager.js",
        "patchSetId": 4
      },
      "lineNbr": 19,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-03-22T17:05:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "75718c34_f247ca3b",
      "range": {
        "startLine": 19,
        "startChar": 38,
        "endLine": 19,
        "endChar": 48
      },
      "revId": "ccc996ce325600f75c02797b51a92bff89ad111a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ea197c39_91e8f011",
        "filename": "polygerrit-ui/app/elements/core/gr-error-manager/gr-error-manager.js",
        "patchSetId": 4
      },
      "lineNbr": 29,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2017-03-22T05:02:15Z",
      "side": 1,
      "message": "I presume, user can log in and out multiple times, so there is no need to focus on app launch.",
      "revId": "ccc996ce325600f75c02797b51a92bff89ad111a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bdd1fa06_7d8e19d9",
        "filename": "polygerrit-ui/app/elements/core/gr-error-manager/gr-error-manager.js",
        "patchSetId": 4
      },
      "lineNbr": 29,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-03-22T17:05:22Z",
      "side": 1,
      "message": "This records the ID when the app is launched (IOW each time GR-APP is initialized). If a user logs in or out, the result is new page load, which means GR-APP is run again.\n\nThe only way credentials change without a new page load is by refresh. Thus, this allows us to check whether the refreshed ID differs from the launch ID.",
      "parentUuid": "ea197c39_91e8f011",
      "revId": "ccc996ce325600f75c02797b51a92bff89ad111a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5403cffd_205912a0",
        "filename": "polygerrit-ui/app/elements/core/gr-error-manager/gr-error-manager.js",
        "patchSetId": 4
      },
      "lineNbr": 29,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2017-03-22T17:35:17Z",
      "side": 1,
      "message": "\u003e The only way credentials change without a new page load is by refresh\n\nWhat if user had more than one window open, and re-logged in using another one?",
      "parentUuid": "bdd1fa06_7d8e19d9",
      "revId": "ccc996ce325600f75c02797b51a92bff89ad111a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a016d78c_3ba3f7e2",
        "filename": "polygerrit-ui/app/elements/core/gr-error-manager/gr-error-manager.js",
        "patchSetId": 4
      },
      "lineNbr": 29,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-03-22T18:10:23Z",
      "side": 1,
      "message": "You\u0027re right. That\u0027s another way for credentials to change.\n\nAre you saying that would cause a problem? If the user has two PG tabs -- tab A and tab B -- and re-logs in on tab B, then tab A should continue to work as normal since the cookie is valid.",
      "parentUuid": "5403cffd_205912a0",
      "revId": "ccc996ce325600f75c02797b51a92bff89ad111a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df86ec6e_c43a27bc",
        "filename": "polygerrit-ui/app/elements/core/gr-error-manager/gr-error-manager.js",
        "patchSetId": 4
      },
      "lineNbr": 164,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2017-03-22T05:02:15Z",
      "side": 1,
      "message": "This return isn\u0027t needed.",
      "revId": "ccc996ce325600f75c02797b51a92bff89ad111a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "80d1437f_3753478d",
        "filename": "polygerrit-ui/app/elements/core/gr-error-manager/gr-error-manager.js",
        "patchSetId": 4
      },
      "lineNbr": 164,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-03-22T17:05:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "df86ec6e_c43a27bc",
      "revId": "ccc996ce325600f75c02797b51a92bff89ad111a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b63457e2_7f721f7b",
        "filename": "polygerrit-ui/app/elements/gr-app.js",
        "patchSetId": 4
      },
      "lineNbr": 114,
      "author": {
        "id": 1027267
      },
      "writtenOn": "2017-03-22T00:42:23Z",
      "side": 1,
      "message": "Is this._account guaranteed to have an _account_id at this point?",
      "revId": "ccc996ce325600f75c02797b51a92bff89ad111a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1bf323bf_52b5843a",
        "filename": "polygerrit-ui/app/elements/gr-app.js",
        "patchSetId": 4
      },
      "lineNbr": 114,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-03-22T00:50:24Z",
      "side": 1,
      "message": "Based on [1], I believe the answer is yes. But based on the wording of your question, I wonder if there\u0027s something else I should be checking/worrying-about?\n\n* [1] https://gerrit-review.googlesource.com/Documentation/rest-api-accounts.html#account-info",
      "parentUuid": "b63457e2_7f721f7b",
      "revId": "ccc996ce325600f75c02797b51a92bff89ad111a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5312217c_a94a2bea",
        "filename": "polygerrit-ui/app/elements/gr-app.js",
        "patchSetId": 4
      },
      "lineNbr": 114,
      "author": {
        "id": 1027267
      },
      "writtenOn": "2017-03-22T01:14:15Z",
      "side": 1,
      "message": "It just wasn\u0027t totally clear to me, but it seems to make sense now. The _account property is only ever set if the user is signed in, so you can assume that here.",
      "parentUuid": "1bf323bf_52b5843a",
      "revId": "ccc996ce325600f75c02797b51a92bff89ad111a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e00e829_f01254c2",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-rest-api-interface.js",
        "patchSetId": 4
      },
      "lineNbr": 240,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2017-03-22T05:02:15Z",
      "side": 1,
      "message": "Looks like you don\u0027t need this one now.",
      "range": {
        "startLine": 240,
        "startChar": 25,
        "endLine": 240,
        "endChar": 36
      },
      "revId": "ccc996ce325600f75c02797b51a92bff89ad111a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dfb3dbfe_4cc8adef",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-rest-api-interface.js",
        "patchSetId": 4
      },
      "lineNbr": 240,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-03-22T17:05:22Z",
      "side": 1,
      "message": "This parameter is still used. It\u0027s used by `getLoggedIn`.",
      "parentUuid": "4e00e829_f01254c2",
      "range": {
        "startLine": 240,
        "startChar": 25,
        "endLine": 240,
        "endChar": 36
      },
      "revId": "ccc996ce325600f75c02797b51a92bff89ad111a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "35efaf3e_be9d661a",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-rest-api-interface.js",
        "patchSetId": 4
      },
      "lineNbr": 240,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2017-03-22T17:35:17Z",
      "side": 1,
      "message": "Is getLoggedIn() used with that attribute?",
      "parentUuid": "dfb3dbfe_4cc8adef",
      "range": {
        "startLine": 240,
        "startChar": 25,
        "endLine": 240,
        "endChar": 36
      },
      "revId": "ccc996ce325600f75c02797b51a92bff89ad111a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a4583fd0_21dd2a27",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-rest-api-interface.js",
        "patchSetId": 4
      },
      "lineNbr": 240,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-03-22T18:10:23Z",
      "side": 1,
      "message": "I\u0027m not sure what you\u0027re asking. l.342 is:\n\n  return this.getLoggedIn(true);",
      "parentUuid": "35efaf3e_be9d661a",
      "range": {
        "startLine": 240,
        "startChar": 25,
        "endLine": 240,
        "endChar": 36
      },
      "revId": "ccc996ce325600f75c02797b51a92bff89ad111a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f9358142_02f99274",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-rest-api-interface.js",
        "patchSetId": 4
      },
      "lineNbr": 242,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2017-03-22T05:02:15Z",
      "side": 1,
      "message": "What do you think about moving this into refreshCredentials()?",
      "revId": "ccc996ce325600f75c02797b51a92bff89ad111a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "74b72db6_f41690bd",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-rest-api-interface.js",
        "patchSetId": 4
      },
      "lineNbr": 242,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-03-22T17:05:22Z",
      "side": 1,
      "message": "I don\u0027t think it belongs there. This option is for getting the account without the cache, so it\u0027s an option on the `getAccount` method.\n\nIn fact, I\u0027d lean towards removing `refreshCredentials` or maybe just renaming it to `validateCredentials` or `checkCredentials` since it doesn\u0027t do any refreshing. That may be cleanup for a future change.",
      "parentUuid": "f9358142_02f99274",
      "revId": "ccc996ce325600f75c02797b51a92bff89ad111a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "892b4386_6853ef8c",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-rest-api-interface.js",
        "patchSetId": 4
      },
      "lineNbr": 242,
      "author": {
        "id": 1024777
      },
      "writtenOn": "2017-03-22T17:35:17Z",
      "side": 1,
      "message": "Few points that were spread in multiple other comments:\n\n- getAccount() isn\u0027t used with parameter as of now, except in getLoggedIn\n- getLoggedIn() isn\u0027t used with parameter as of now, except in refreshCredentials\n- refreshCredentials is only used in one place, and triggers a chain of 3 methods and adds the parameter.\n- if fetchJSON was called in refreshCredentials, this would allow not to add parameter to the getLoggedIn and getAccount\n\nAs for removing refreshCredentials or renaming - I think it\u0027s a great idea. I think refreshCredentials used to demonstrate intent initially, and looks like it changed over time.",
      "parentUuid": "74b72db6_f41690bd",
      "revId": "ccc996ce325600f75c02797b51a92bff89ad111a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5a83c56c_956de992",
        "filename": "polygerrit-ui/app/elements/shared/gr-rest-api-interface/gr-rest-api-interface.js",
        "patchSetId": 4
      },
      "lineNbr": 242,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2017-03-22T18:10:23Z",
      "side": 1,
      "message": "I do plan to use it in upcoming changes, including the change that depends on this one.\n\nHowever, I don\u0027t want this detail to hold up this change, so I have refactored and will rebase the dependent change so that this change makes more sense on its own.",
      "parentUuid": "892b4386_6853ef8c",
      "revId": "ccc996ce325600f75c02797b51a92bff89ad111a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}