{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "237a5bb7_a093cf3d",
        "filename": "polygerrit-ui/app/embed/diff/gr-diff/gr-diff.ts",
        "patchSetId": 2
      },
      "lineNbr": 674,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2023-09-11T14:20:08Z",
      "side": 1,
      "message": "rename to threads since we\u0027re filtering from `threadEls`?",
      "range": {
        "startLine": 674,
        "startChar": 10,
        "endLine": 674,
        "endChar": 18
      },
      "revId": "cf797f450fab791214f46af43a39709a003dd888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ed73af0c_8f30a8fe",
        "filename": "polygerrit-ui/app/embed/diff/gr-diff/gr-diff.ts",
        "patchSetId": 2
      },
      "lineNbr": 674,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2023-09-12T07:11:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "237a5bb7_a093cf3d",
      "range": {
        "startLine": 674,
        "startChar": 10,
        "endLine": 674,
        "endChar": 18
      },
      "revId": "cf797f450fab791214f46af43a39709a003dd888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a201eb91_cc310a32",
        "filename": "polygerrit-ui/app/embed/diff/gr-diff/gr-diff.ts",
        "patchSetId": 2
      },
      "lineNbr": 679,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2023-09-11T14:20:08Z",
      "side": 1,
      "message": "this looks quite strange to me that UpdateRanges is taking `comments` as arguments.\n\nCan we update this method to take Ranges as arguments? Otherwise the next argument `this.getHighlightRanges` is quite confusing to read.",
      "range": {
        "startLine": 679,
        "startChar": 20,
        "endLine": 679,
        "endChar": 45
      },
      "revId": "cf797f450fab791214f46af43a39709a003dd888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8cbf6a97_76d41a9b",
        "filename": "polygerrit-ui/app/embed/diff/gr-diff/gr-diff.ts",
        "patchSetId": 2
      },
      "lineNbr": 679,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2023-09-12T07:11:19Z",
      "side": 1,
      "message": "The layer requires also the `side`, so just passing a range is not sufficient. So I think any refactoring would go beyond what I am willing to invest for this fix.",
      "parentUuid": "a201eb91_cc310a32",
      "range": {
        "startLine": 679,
        "startChar": 20,
        "endLine": 679,
        "endChar": 45
      },
      "revId": "cf797f450fab791214f46af43a39709a003dd888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4c0d842c_6a131e3d",
        "filename": "polygerrit-ui/app/embed/diff/gr-diff/gr-diff.ts",
        "patchSetId": 2
      },
      "lineNbr": 679,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2023-09-12T08:05:43Z",
      "side": 1,
      "message": "I would understand this if you weren\u0027t adding this line of code\n\n```\nthis.rangeLayer.updateRanges([...threads, ...this.getHighlightRanges\n```\n\nWhich is adding to the confusion and making it less readable.\n\nAny chance you can reconsider updating this method? Maybe I am not fully understanding the scope of it but it shouldn\u0027t be that bad? ðŸ˜Š",
      "parentUuid": "8cbf6a97_76d41a9b",
      "range": {
        "startLine": 679,
        "startChar": 20,
        "endLine": 679,
        "endChar": 45
      },
      "revId": "cf797f450fab791214f46af43a39709a003dd888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "970b5ac9_e321346f",
        "filename": "polygerrit-ui/app/embed/diff/gr-diff/gr-diff.ts",
        "patchSetId": 2
      },
      "lineNbr": 679,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2023-09-12T08:12:21Z",
      "side": 1,
      "message": "I think I am not sure where the confusion is coming from.\n\n`updateRanges` receives an array of ranges. We are passing it the comment ranges and some explicit highlight ranges. This seems fine to me.\n\nMaybe explain in more detail or upload a proposed refactoring. :-)",
      "parentUuid": "4c0d842c_6a131e3d",
      "range": {
        "startLine": 679,
        "startChar": 20,
        "endLine": 679,
        "endChar": 45
      },
      "revId": "cf797f450fab791214f46af43a39709a003dd888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "79b9b2dc_c0fa1fa1",
        "filename": "polygerrit-ui/app/embed/diff/gr-diff/gr-diff.ts",
        "patchSetId": 2
      },
      "lineNbr": 679,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2023-09-12T08:33:16Z",
      "side": 1,
      "message": "`threads` is not a variable that should be passed to a method that is called `updateRanges`.\n\nIt should be taking `Ranges` as argument.\n\n\n```\nupdateRanges(rawRanges: Ranges[]) {\n```\n\nThen at the call side we have\n\n```\nthis.rangeLayer.updateRanges([...threads.map(t \u003d\u003e { return { range: t.range!, side: t.side }; }), ...this.getHighlightRanges()]);\n```\n\nSomething like this maybe?",
      "parentUuid": "970b5ac9_e321346f",
      "range": {
        "startLine": 679,
        "startChar": 20,
        "endLine": 679,
        "endChar": 45
      },
      "revId": "cf797f450fab791214f46af43a39709a003dd888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2d5ffd52_216537e9",
        "filename": "polygerrit-ui/app/embed/diff/gr-diff/gr-diff.ts",
        "patchSetId": 2
      },
      "lineNbr": 679,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2023-09-14T12:39:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "79b9b2dc_c0fa1fa1",
      "range": {
        "startLine": 679,
        "startChar": 20,
        "endLine": 679,
        "endChar": 45
      },
      "revId": "cf797f450fab791214f46af43a39709a003dd888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "14181c6c_4a68cffe",
        "filename": "polygerrit-ui/app/embed/diff/gr-diff/gr-diff.ts",
        "patchSetId": 2
      },
      "lineNbr": 689,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2023-09-11T14:20:08Z",
      "side": 1,
      "message": "The property is defined as \n\n```\n  // explicitly highlight a range if it is not associated with any comment\n  @property({type: Object})\n  highlightRange?: CommentRange;\n``\n\nThe comment explains it\u0027s purpose but not the variable name itself. ðŸ˜ž\n\noptional: If you can maybe think of a better name then consider updating the name as well.",
      "range": {
        "startLine": 689,
        "startChar": 38,
        "endLine": 689,
        "endChar": 57
      },
      "revId": "cf797f450fab791214f46af43a39709a003dd888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "29df0ad6_229b73d0",
        "filename": "polygerrit-ui/app/embed/diff/gr-diff/gr-diff.ts",
        "patchSetId": 2
      },
      "lineNbr": 689,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2023-09-12T07:11:19Z",
      "side": 1,
      "message": "As a public property of gr-diff this is technically an API that we cannot simply change. Maybe we could, if we investigate the usage. But that is more work than I am willing to invest atm.",
      "parentUuid": "14181c6c_4a68cffe",
      "range": {
        "startLine": 689,
        "startChar": 38,
        "endLine": 689,
        "endChar": 57
      },
      "revId": "cf797f450fab791214f46af43a39709a003dd888",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}