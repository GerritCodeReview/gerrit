{
  "comments": [
    {
      "key": {
        "uuid": "9f4d5812_db2633dc",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/GerritGwtUI.gwt.xml",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1010404
      },
      "writtenOn": "2014-06-04T09:36:22Z",
      "side": 1,
      "message": "This is not needed with GWT 2.6+, this is now the default value.",
      "revId": "cf99040bb543e9c91ae94c0665936a2a457f33c3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3f3d4c4d_40ea2ec4",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/GerritGwtUI.gwt.xml",
        "patchSetId": 2
      },
      "lineNbr": 42,
      "author": {
        "id": 1010404
      },
      "writtenOn": "2014-06-04T09:36:22Z",
      "side": 1,
      "message": "If you don\u0027t want/need source maps in \"prod mode\", then you don\u0027t need this; CodeServer will set it anyway.",
      "revId": "cf99040bb543e9c91ae94c0665936a2a457f33c3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9f4d5812_9b30ab0d",
        "filename": "lib/gwt/BUCK",
        "patchSetId": 2
      },
      "lineNbr": 33,
      "author": {
        "id": 1010404
      },
      "writtenOn": "2014-06-04T09:36:22Z",
      "side": 1,
      "message": "codeserver actually depends on :dev, and :dev depends on :json (but you addressed that last bit in another change)",
      "range": {
        "startLine": 31,
        "startChar": 0,
        "endLine": 33,
        "endChar": 3
      },
      "revId": "cf99040bb543e9c91ae94c0665936a2a457f33c3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3f3d4c4d_c014fe14",
        "filename": "lib/gwt/BUCK",
        "patchSetId": 2
      },
      "lineNbr": 33,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-04T12:15:58Z",
      "side": 1,
      "message": "Right. That has to be:\n\n  deps \u003d [\n    \u0027:dev\u0027,\n  ]\n\nThat was fixed in another change that wasn\u0027t merged yet. I will rebase this change on top of it [1].\n\n [1] https://gerrit-review.googlesource.com/57640",
      "parentUuid": "9f4d5812_9b30ab0d",
      "range": {
        "startLine": 31,
        "startChar": 0,
        "endLine": 33,
        "endChar": 3
      },
      "revId": "cf99040bb543e9c91ae94c0665936a2a457f33c3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9f4d5812_fb2befa2",
        "filename": "lib/gwt/BUCK",
        "patchSetId": 2
      },
      "lineNbr": 41,
      "author": {
        "id": 1010404
      },
      "writtenOn": "2014-06-04T09:36:22Z",
      "side": 1,
      "message": "org.json:json from Maven Central is Crockford\u0027s one under the JSON.org license; I\u0027m not aware of a publicly-available JAR for the Android re-implementation (GWT uses one that\u0027s been extracted from the Android SDK, in https://google-web-toolkit.googlecode.com/svn/tools/lib/json/android-sdk-19.1/ but when deployed to Maven Central, we declare the dependency on org.json:json, as we want to minimize —some— conflicts and there\u0027s no alternative)",
      "revId": "cf99040bb543e9c91ae94c0665936a2a457f33c3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3f3d4c4d_600ad2f3",
        "filename": "lib/gwt/BUCK",
        "patchSetId": 2
      },
      "lineNbr": 41,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-04T12:15:58Z",
      "side": 1,
      "message": "Thanks for pointing this out. This was also addressed in this change with \u0027DO_NOT_DISTRIBUTE\u0027 license [1].\n\n [1] https://gerrit-review.googlesource.com/57640",
      "parentUuid": "9f4d5812_fb2befa2",
      "revId": "cf99040bb543e9c91ae94c0665936a2a457f33c3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9f4d5812_bb3567fc",
        "filename": "tools/eclipse/BUCK",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1010404
      },
      "writtenOn": "2014-06-04T09:36:22Z",
      "side": 1,
      "message": "This is not needed in the Eclipse .classpath (and you added it explicitly in the *.launch file for SuperDevMode)\n\nMaybe this rule should be split with //tools/eclipse:classpath containing only those things needed in the Eclipse .classpath, and another rule that \"extends\" it to add those few other dependencies needed for working with the code (and downloaded by tools/download_all.py). tools/eclipse/project.py could build that other rule too to make sure all dependencies are downloaded (and therefore available for the *.launch configuration in Eclipse)",
      "revId": "cf99040bb543e9c91ae94c0665936a2a457f33c3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9f4d5812_1b257bc9",
        "filename": "tools/eclipse/BUCK",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-04T12:15:58Z",
      "side": 1,
      "message": "Yes, I see. As you pointed out DevMode is still seems to working on OS X. That why i am inclined not to include that additional download step of gwt-codeserver.jar + (!) legacy Jetty aggregate artifact in common tools/eclipse/project.py code path (for now), but instead provide it as an additional (documented) step, a lá:\n\n  buck build codeserver\n\nas a prerequisite to run SuperDevMode. That should work, given the following Buck dependency graph is in place:\n\n  maven_jar(\n   name \u003d \u0027codeserver\u0027,\n   id \u003d \u0027com.google.gwt:gwt-codeserver:\u0027 + VERSION,\n   sha1 \u003d \u0027940edc715cc31b1957e18f617f75a068f251346a\u0027,\n   license \u003d \u0027Apache2.0\u0027,\n   deps \u003d [\n    \u0027:gwt-dev\u0027, # Jetty 8.1 is stripped\n    \u0027:jetty-servlet-aggregate\u0027, # 8.1 for codeserver\n   ],\n   attach_source \u003d False,\n  )\n  maven_jar(\n   name \u003d \u0027jetty-servlet-aggregate\u0027,\n   id \u003d \u0027org.eclipse.jetty.aggregate:jetty-servlet:8.1.12.v20130726\u0027,\n   [...]\n  )",
      "parentUuid": "9f4d5812_bb3567fc",
      "revId": "cf99040bb543e9c91ae94c0665936a2a457f33c3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9f4d5812_bb4c8786",
        "filename": "tools/eclipse/BUCK",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1010404
      },
      "writtenOn": "2014-06-04T13:46:08Z",
      "side": 1,
      "message": "Sounds good.\n\nI think you\u0027d have to generate the gerrit_gwt_codeserver.launch classpath using Buck though, to only include //gerrit-gwtui:ui_module and its dependencies (or something like that, provided it doesn\u0027t include Jetty 9.x)",
      "parentUuid": "9f4d5812_1b257bc9",
      "revId": "cf99040bb543e9c91ae94c0665936a2a457f33c3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3f3d4c4d_c09e3e54",
        "filename": "tools/eclipse/BUCK",
        "patchSetId": 2
      },
      "lineNbr": 21,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-06-04T15:56:28Z",
      "side": 1,
      "message": "Even work on top of existing .classpath from Gerrit project. That allow us not to mess around with custom classpath in launch configuration.\n\nCoderServer is up and running now:\n\n Compile completed in 22542 ms\n  [2014-06-04 19:47:22,770] INFO  org.eclipse.jetty.server.Server : jetty-  \n  8.1.12.v20130726\n  [2014-06-04 19:47:22,803] INFO  \n  org.eclipse.jetty.server.AbstractConnector : Started  \n  SelectChannelConnector@127.0.0.1:9876\n  The code server is ready.\n  Next, visit: http://localhost:9876/\n\nHowever when i am trying to activate \"Dev Mode On\" there, i am getting:\n\n  \"Can\u0027t find any GWT Modules on this page.\"\n\nAnd i don\u0027t know why...",
      "parentUuid": "9f4d5812_bb4c8786",
      "revId": "cf99040bb543e9c91ae94c0665936a2a457f33c3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3f3d4c4d_001bc647",
        "filename": "tools/eclipse/gerrit_gwt_codeserver.launch",
        "patchSetId": 2
      },
      "lineNbr": 14,
      "author": {
        "id": 1010404
      },
      "writtenOn": "2014-06-04T09:36:22Z",
      "side": 1,
      "message": "Any reason to use 9999 rather than the 9876 that\u0027s used by default?",
      "range": {
        "startLine": 14,
        "startChar": 107,
        "endLine": 14,
        "endChar": 117
      },
      "revId": "cf99040bb543e9c91ae94c0665936a2a457f33c3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9f4d5812_7b183f8e",
        "filename": "tools/eclipse/gerrit_gwt_codeserver.launch",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1010404
      },
      "writtenOn": "2014-06-04T09:36:22Z",
      "side": 1,
      "message": "SuperDevMode doesn\u0027t run your code in Java like DevMode did, so this will have no effect, and GWT has no equivalent to java\u0027s -da (it only has -ea and that\u0027s always active in SuperDevMode).\n\nIf you really need to disable the assertions in this class in SuperDevMode, then I\u0027m afraid you\u0027ll have to wrap them into\n\n if (!GWT.isScript())\n\nblocks or similar (that said, I don\u0027t see anything that would exercise those asserts then).",
      "range": {
        "startLine": 16,
        "startChar": 333,
        "endLine": 16,
        "endChar": 387
      },
      "revId": "cf99040bb543e9c91ae94c0665936a2a457f33c3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9f4d5812_5b1b038c",
        "filename": "tools/eclipse/gerrit_gwt_codeserver.launch",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1010404
      },
      "writtenOn": "2014-06-04T09:36:22Z",
      "side": 1,
      "message": "SuperDevMode only runs the client-side code (you have to run gerrit_daemon and gerrit_gwt_codeserver side-by-side), so I don\u0027t think this is needed here.",
      "range": {
        "startLine": 16,
        "startChar": 214,
        "endLine": 16,
        "endChar": 333
      },
      "revId": "cf99040bb543e9c91ae94c0665936a2a457f33c3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}