{
  "comments": [
    {
      "key": {
        "uuid": "97682aa0_79c0873e",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.js",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2016-05-20T15:20:55Z",
      "side": 1,
      "message": "Is the need for a polyfill related to the use of Object.assign?",
      "revId": "d066c219211309d0f4db2fa96db143b2f0b0e6ed",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "97682aa0_59dca31f",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.js",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 1021482
      },
      "writtenOn": "2016-05-20T17:53:41Z",
      "side": 1,
      "message": "Yep.",
      "parentUuid": "97682aa0_79c0873e",
      "revId": "d066c219211309d0f4db2fa96db143b2f0b0e6ed",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b7652ec6_fab3a9f6",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.js",
        "patchSetId": 1
      },
      "lineNbr": 180,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2016-05-20T15:20:55Z",
      "side": 1,
      "message": "These are pretty complex handlers. I think another (less network-efficient) approach would be to just call _getDiffDrafts again when save and discard are captured. Then the complexity would go down and the need for a polyfill would go away. Thoughts?",
      "revId": "d066c219211309d0f4db2fa96db143b2f0b0e6ed",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "97682aa0_99dd5b24",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.js",
        "patchSetId": 1
      },
      "lineNbr": 180,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2016-05-20T15:23:19Z",
      "side": 1,
      "message": "Another alternative to a differential update is querying the local elements in some kind of generic _updateDiffDrafts function.",
      "parentUuid": "b7652ec6_fab3a9f6",
      "revId": "d066c219211309d0f4db2fa96db143b2f0b0e6ed",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b7652ec6_5adc951f",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.js",
        "patchSetId": 1
      },
      "lineNbr": 180,
      "author": {
        "id": 1021482
      },
      "writtenOn": "2016-05-20T17:53:41Z",
      "side": 1,
      "message": "I thought about both. The former will most likely bring up a contentious topic around this: https://gerrit-review.googlesource.com/c/75619/ (in short, excess network requests are a bad thing).\n\nAs for the latter, I have a hard time seeing that as a better solution than this. This implementation is altering the model directly which makes it much easier to stay isolated and test correct behavior. Digging into the file list diffs from here in order to get the same information just couples the implementations of the components.",
      "parentUuid": "97682aa0_99dd5b24",
      "revId": "d066c219211309d0f4db2fa96db143b2f0b0e6ed",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b7652ec6_ba0bf17e",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.js",
        "patchSetId": 1
      },
      "lineNbr": 180,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2016-05-20T18:07:14Z",
      "side": 1,
      "message": "Another thought: is the dots-in-paths problem necessarily relevant here? We can be disciplined about our property names and never include problem characters.",
      "parentUuid": "b7652ec6_5adc951f",
      "revId": "d066c219211309d0f4db2fa96db143b2f0b0e6ed",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "97682aa0_19fb0b88",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.js",
        "patchSetId": 1
      },
      "lineNbr": 180,
      "author": {
        "id": 1021482
      },
      "writtenOn": "2016-05-20T18:19:46Z",
      "side": 1,
      "message": "Yes it is because the model returns the drafts keyed off of filenames, which most likely have dots in them. It’s a consequence of the REST model, not our own choice.",
      "parentUuid": "b7652ec6_ba0bf17e",
      "revId": "d066c219211309d0f4db2fa96db143b2f0b0e6ed",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b7652ec6_3af8c188",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.js",
        "patchSetId": 1
      },
      "lineNbr": 180,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2016-05-20T18:24:12Z",
      "side": 1,
      "message": "Oh I see. One way to fix that is to transform the comments data in the gr-rest-api-interface. It could be transformed into a list of objects with path properties rather than an object keyed by path.\n\nI think that layout is considered a more normal-form for JSON anyway.",
      "parentUuid": "97682aa0_19fb0b88",
      "revId": "d066c219211309d0f4db2fa96db143b2f0b0e6ed",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "97682aa0_193ceb1c",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.js",
        "patchSetId": 1
      },
      "lineNbr": 180,
      "author": {
        "id": 1021482
      },
      "writtenOn": "2016-05-20T18:37:04Z",
      "side": 1,
      "message": "This is a bug in Polymer. Having dots in keys is perfectly fine and good for a model. I don’t see a need to normalize our model in order to work around Polymer’s issues.",
      "parentUuid": "b7652ec6_3af8c188",
      "revId": "d066c219211309d0f4db2fa96db143b2f0b0e6ed",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "97682aa0_59c3c34b",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.js",
        "patchSetId": 1
      },
      "lineNbr": 382,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2016-05-20T15:20:55Z",
      "side": 1,
      "message": "The Polymer devguide says that changeRecord can be undefined also.",
      "revId": "d066c219211309d0f4db2fa96db143b2f0b0e6ed",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "97682aa0_99063b78",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.js",
        "patchSetId": 1
      },
      "lineNbr": 382,
      "author": {
        "id": 1021482
      },
      "writtenOn": "2016-05-20T17:53:41Z",
      "side": 1,
      "message": "Can you point me to that documentation? I’ll have to go through and correct other instances as well.",
      "parentUuid": "97682aa0_59c3c34b",
      "revId": "d066c219211309d0f4db2fa96db143b2f0b0e6ed",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "97682aa0_d900b35d",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.js",
        "patchSetId": 1
      },
      "lineNbr": 382,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2016-05-20T17:56:55Z",
      "side": 1,
      "message": "https://www.polymer-project.org/1.0/docs/devguide/properties and grep for \"Change record may be undefined\"",
      "parentUuid": "97682aa0_99063b78",
      "revId": "d066c219211309d0f4db2fa96db143b2f0b0e6ed",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b7652ec6_fa05696a",
        "filename": "polygerrit-ui/app/elements/change/gr-change-view/gr-change-view.js",
        "patchSetId": 1
      },
      "lineNbr": 382,
      "author": {
        "id": 1021482
      },
      "writtenOn": "2016-05-20T18:19:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "97682aa0_d900b35d",
      "revId": "d066c219211309d0f4db2fa96db143b2f0b0e6ed",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}