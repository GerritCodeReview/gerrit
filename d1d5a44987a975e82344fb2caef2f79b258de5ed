{
  "comments": [
    {
      "key": {
        "uuid": "L-yMu6pc",
        "filename": "Documentation/config-hooks.txt",
        "patchSetId": 12
      },
      "lineNbr": 27,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2012-11-28T00:55:00Z",
      "side": 1,
      "message": "s/commited/comitted",
      "revId": "d1d5a44987a975e82344fb2caef2f79b258de5ed",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "L-0Mr5oY",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/ReceiveCommits.java",
        "patchSetId": 12
      },
      "lineNbr": 770,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2012-11-28T00:55:00Z",
      "side": 1,
      "message": "I think we need to trim the result, otherwise we get an unwanted newline on the output:\n\n $ cat ref-update \n #!/bin/bash -e\n echo \"rejected by ref-update hook\"\n exit 1\n\n $ git push origin HEAD:refs/for/master\n Counting objects: 5, done.\n Delta compression using up to 8 threads.\n Compressing objects: 100% (2/2), done.\n Writing objects: 100% (3/3), 307 bytes, done.\n Total 3 (delta 1), reused 0 (delta 0)\n remote: Resolving deltas: 100% (1/1)\n remote: Processing changes: refs: 1, done    \n To ssh://david.pursehouse@localhost:29418/test-project\n  ! [remote rejected] HEAD -\u003e refs/for/master (rejected by ref-update hook\n )",
      "revId": "d1d5a44987a975e82344fb2caef2f79b258de5ed",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "L-4NF3kY",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/ReceiveCommits.java",
        "patchSetId": 12
      },
      "lineNbr": 770,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2012-11-28T00:58:38Z",
      "side": 1,
      "message": "Tried it like this:\n\n      if (result !\u003d null) {\n        final String message \u003d result.toString().trim();\n        if (result.getExitValue() !\u003d 0) {\n          reject(cmd, message);\n          continue;\n        }\n        rp.sendMessage(message);\n      }\n\nAnd the output looks better:\n\n To ssh://david.pursehouse@localhost:29418/test-project\n  ! [remote rejected] HEAD -\u003e refs/for/master (rejected by ref-update hook)",
      "parentUuid": "L-0Mr5oY",
      "revId": "d1d5a44987a975e82344fb2caef2f79b258de5ed",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}