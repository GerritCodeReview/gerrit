{
  "comments": [
    {
      "key": {
        "uuid": "b7c81f78_ed20fe4e",
        "filename": "javatests/com/google/gerrit/acceptance/git/AbstractGitOverHttpServlet.java",
        "patchSetId": 6
      },
      "lineNbr": 63,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2020-01-30T04:03:32Z",
      "side": 1,
      "message": "I see it was like this before, so not a problem with this change, but why is this test expecting an anonymous request here when the fetch is being done as the admin user?",
      "range": {
        "startLine": 63,
        "startChar": 4,
        "endLine": 63,
        "endChar": 56
      },
      "revId": "d2b12082143926e4feb362c8723602d6ef39e2c3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a820effb_3c8d3a6c",
        "filename": "javatests/com/google/gerrit/acceptance/git/AbstractGitOverHttpServlet.java",
        "patchSetId": 6
      },
      "lineNbr": 63,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-01-30T09:42:34Z",
      "side": 1,
      "message": "\u003e I see it was like this before, so not a problem with this change, but why is this test expecting an anonymous request here when the fetch is being done as the admin user?\n\nThe fetch is performed at L58: I do not find any reference to the admin user. Why would you expect an normal git fetch be executed on behalf of admin?",
      "parentUuid": "b7c81f78_ed20fe4e",
      "range": {
        "startLine": 63,
        "startChar": 4,
        "endLine": 63,
        "endChar": 56
      },
      "revId": "d2b12082143926e4feb362c8723602d6ef39e2c3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e4d6d7db_124bc4ba",
        "filename": "javatests/com/google/gerrit/acceptance/git/AbstractGitOverHttpServlet.java",
        "patchSetId": 6
      },
      "lineNbr": 63,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2020-01-30T10:19:35Z",
      "side": 1,
      "message": "Because in the beforeEach method it sets up the credentials as the admin user.",
      "parentUuid": "a820effb_3c8d3a6c",
      "range": {
        "startLine": 63,
        "startChar": 4,
        "endLine": 63,
        "endChar": 56
      },
      "revId": "d2b12082143926e4feb362c8723602d6ef39e2c3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3fdefea7_b93fd408",
        "filename": "javatests/com/google/gerrit/acceptance/git/AbstractGitOverHttpServlet.java",
        "patchSetId": 6
      },
      "lineNbr": 63,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-01-30T11:51:19Z",
      "side": 1,
      "message": "I know, it is misleading. The problem here is that the URL of the repository does not include the \u0027/a/\u0027 and thus, even if the credentials are provided, they are not passed to the HTTP servlet for authentication and thus the call is executed in Gerrit as anonymous.\n\nThe same doesn\u0027t happen for the receive-pack, because Gerrit requires authentication there and thus the HTTP basic auth handshake is triggered and the JGit client answers with the admin credentials.",
      "parentUuid": "e4d6d7db_124bc4ba",
      "range": {
        "startLine": 63,
        "startChar": 4,
        "endLine": 63,
        "endChar": 56
      },
      "revId": "d2b12082143926e4feb362c8723602d6ef39e2c3",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}