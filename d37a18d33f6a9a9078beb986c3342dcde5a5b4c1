{
  "comments": [
    {
      "key": {
        "uuid": "cd512da4_42308698",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 10,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2018-03-22T21:29:00Z",
      "side": 1,
      "message": "This change is so that it doesn\u0027t make the request that fails when unauthenticated, right? Maybe worth mentioning here.\n\nIf the gr-account-entry has not been in a dom-if for such a long time, why did it recently start making these problematic requests? This should be explained here, IMO.",
      "revId": "d37a18d33f6a9a9078beb986c3342dcde5a5b4c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e29c0a6_64e07897",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 10,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2018-03-22T21:39:03Z",
      "side": 1,
      "message": "Yes to point A -- will add that note later. It also has the added benefit of lightening the DOM some (removing a component that has no use when the user is not logged in).\n\nI have no idea when this started happening. I\u0027d imagine that it started when we started doing default reviewer suggestions in [1], but I don\u0027t make a habit of using Gerrit unauthenticated. \n\n[1] https://gerrit-review.googlesource.com/c/gerrit/+/111490",
      "parentUuid": "cd512da4_42308698",
      "revId": "d37a18d33f6a9a9078beb986c3342dcde5a5b4c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b8af9817_affebf9a",
        "filename": "polygerrit-ui/app/elements/change/gr-account-list/gr-account-list.html",
        "patchSetId": 5
      },
      "lineNbr": 63,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2018-03-22T21:29:00Z",
      "side": 1,
      "message": "What\u0027s the restamp needed for?",
      "range": {
        "startLine": 63,
        "startChar": 26,
        "endLine": 63,
        "endChar": 33
      },
      "revId": "d37a18d33f6a9a9078beb986c3342dcde5a5b4c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "009b1555_377501c1",
        "filename": "polygerrit-ui/app/elements/change/gr-account-list/gr-account-list.html",
        "patchSetId": 5
      },
      "lineNbr": 63,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2018-03-22T21:39:03Z",
      "side": 1,
      "message": "Honestly, it\u0027s just for convenience in testing. Without this, my assert.notOk() calls get a lot less easy/obvious, and the performance implication here is minimal (it isn\u0027t often that the state of this thing gets toggled). Do you want me to remove it?",
      "parentUuid": "b8af9817_affebf9a",
      "range": {
        "startLine": 63,
        "startChar": 26,
        "endLine": 63,
        "endChar": 33
      },
      "revId": "d37a18d33f6a9a9078beb986c3342dcde5a5b4c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9a7039e5_fda259ce",
        "filename": "polygerrit-ui/app/elements/change/gr-account-list/gr-account-list.html",
        "patchSetId": 5
      },
      "lineNbr": 66,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2018-03-22T21:29:00Z",
      "side": 1,
      "message": "Would another approach would be to pass in the readonly boolean and have it not make the request if it\u0027s true?\n\nThat way we could avoid the dom-if and all the modified queries in the JS-side.",
      "revId": "d37a18d33f6a9a9078beb986c3342dcde5a5b4c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e17522d_51f98358",
        "filename": "polygerrit-ui/app/elements/change/gr-account-list/gr-account-list.html",
        "patchSetId": 5
      },
      "lineNbr": 66,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2018-03-22T21:39:03Z",
      "side": 1,
      "message": "You\u0027re right that that is another approach.\n\nI think it\u0027s kind of unintuitive to do that, though -- when the account list is in read only mode, it doesn\u0027t need an account entry at all. The flag we pass in to this that you\u0027re suggesting, \u0027readonly\u0027, would essentially be telling the component that it should be a complete nonoperational element. It makes much more sense from a design perspective, IMO, to just not attach elements to the DOM if they aren\u0027t needed instead of hiding them with CSS and disabling them with more JS.",
      "parentUuid": "9a7039e5_fda259ce",
      "revId": "d37a18d33f6a9a9078beb986c3342dcde5a5b4c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c888dbd7_42aa589b",
        "filename": "polygerrit-ui/app/elements/change/gr-account-list/gr-account-list.js",
        "patchSetId": 5
      },
      "lineNbr": 94,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2018-03-22T21:29:00Z",
      "side": 1,
      "message": "This makes me a little nervous. We had that problem in the reply dialog where it wouldn\u0027t render right because this sort of query inside a dom-if would fail for no clear reason.",
      "range": {
        "startLine": 92,
        "startChar": 6,
        "endLine": 94,
        "endChar": 42
      },
      "revId": "d37a18d33f6a9a9078beb986c3342dcde5a5b4c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "74fe733e_916762b2",
        "filename": "polygerrit-ui/app/elements/change/gr-account-list/gr-account-list.js",
        "patchSetId": 5
      },
      "lineNbr": 94,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2018-03-22T21:39:03Z",
      "side": 1,
      "message": "I also agree that it makes me nervous, but I don\u0027t really know what to do about unintuitive platform behavior. We can talk about your suggested workaround more -- let\u0027s do that in the other thread.",
      "parentUuid": "c888dbd7_42aa589b",
      "range": {
        "startLine": 92,
        "startChar": 6,
        "endLine": 94,
        "endChar": 42
      },
      "revId": "d37a18d33f6a9a9078beb986c3342dcde5a5b4c1",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}