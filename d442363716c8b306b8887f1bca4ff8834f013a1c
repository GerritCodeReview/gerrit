{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "d1086d5f_0e6b5184",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-view/gr-diff-view.ts",
        "patchSetId": 26
      },
      "lineNbr": 414,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-11-26T12:08:21Z",
      "side": 1,
      "message": "new Set() is the same as new Set([])",
      "range": {
        "startLine": 414,
        "startChar": 46,
        "endLine": 414,
        "endChar": 57
      },
      "revId": "d442363716c8b306b8887f1bca4ff8834f013a1c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "faeadbdc_789e9d17",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-view/gr-diff-view.ts",
        "patchSetId": 26
      },
      "lineNbr": 424,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-11-26T12:08:21Z",
      "side": 1,
      "message": "this.subscriptions.push",
      "revId": "d442363716c8b306b8887f1bca4ff8834f013a1c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "35071012_6e869626",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-view/gr-diff-view.ts",
        "patchSetId": 26
      },
      "lineNbr": 426,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-11-26T12:08:21Z",
      "side": 1,
      "message": "What about a reset of this.$.reviewed here (in a tap()) or in paramsChanged()? When you are switching files then this first thing you want to do is clearing the checkbox, right? I would expect a\n\n  this.$.reviewed.checked \u003d false or undefined\n  \nsomewhere as a reset.\n\nMaybe just add a subscription:\n\n  combineLatest(diffPath$, reviewedFiles$).subscribe((path, files) \u003d\u003e {\n    this.$.reviewed.checked \u003d !!path \u0026\u0026 !!files \u0026\u0026 files.has(path);\n  });\n\nThen you can drop the update in line 486.",
      "revId": "d442363716c8b306b8887f1bca4ff8834f013a1c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5aa4e3f8_1a25fa8c",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-view/gr-diff-view.ts",
        "patchSetId": 26
      },
      "lineNbr": 478,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-11-26T12:08:21Z",
      "side": 1,
      "message": "add a comment to the method",
      "revId": "d442363716c8b306b8887f1bca4ff8834f013a1c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ae9726e6_6fb71064",
        "filename": "polygerrit-ui/app/elements/diff/gr-diff-view/gr-diff-view.ts",
        "patchSetId": 26
      },
      "lineNbr": 599,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-11-26T12:08:21Z",
      "side": 1,
      "message": "Is this an optimistic update? Maybe add a comment to say so.",
      "range": {
        "startLine": 598,
        "startChar": 4,
        "endLine": 599,
        "endChar": 41
      },
      "revId": "d442363716c8b306b8887f1bca4ff8834f013a1c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "279baa09_d59c7f92",
        "filename": "polygerrit-ui/app/services/change/change-model.ts",
        "patchSetId": 26
      },
      "lineNbr": 47,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-11-26T12:08:21Z",
      "side": 1,
      "message": "If you want to put Sets into application state, then can you add tests to deepEqual()?\n\nMaybe just use an array or Record?",
      "revId": "d442363716c8b306b8887f1bca4ff8834f013a1c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f1ba4be7_0338cc2b",
        "filename": "polygerrit-ui/app/services/change/change-model.ts",
        "patchSetId": 26
      },
      "lineNbr": 109,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-11-26T12:08:21Z",
      "side": 1,
      "message": "Add `return;`!!!",
      "revId": "d442363716c8b306b8887f1bca4ff8834f013a1c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "59000cc6_316752f6",
        "filename": "polygerrit-ui/app/services/change/change-model.ts",
        "patchSetId": 26
      },
      "lineNbr": 114,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-11-26T12:08:21Z",
      "side": 1,
      "message": "Maybe add checks whether an update is needed at all.",
      "revId": "d442363716c8b306b8887f1bca4ff8834f013a1c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6cdeac1e_16ba98cb",
        "filename": "polygerrit-ui/app/services/change/change-service.ts",
        "patchSetId": 26
      },
      "lineNbr": 75,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-11-26T12:08:21Z",
      "side": 1,
      "message": "I think you want to switchMap the this.restApiService.getReviewedFiles() call here, because otherwise you don\u0027t know then the call comes back and whether the response is still applicable. The user may have switched patch nums while the reviewed files were loading.",
      "range": {
        "startLine": 75,
        "startChar": 52,
        "endLine": 75,
        "endChar": 61
      },
      "revId": "d442363716c8b306b8887f1bca4ff8834f013a1c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "54be4ef5_7e41b284",
        "filename": "polygerrit-ui/app/services/change/change-service.ts",
        "patchSetId": 26
      },
      "lineNbr": 88,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-11-26T12:08:21Z",
      "side": 1,
      "message": "use loggedIn$ and put into the observable stream above",
      "range": {
        "startLine": 88,
        "startChar": 4,
        "endLine": 88,
        "endChar": 38
      },
      "revId": "d442363716c8b306b8887f1bca4ff8834f013a1c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e6b468c5_a988ec05",
        "filename": "polygerrit-ui/app/services/change/change-service.ts",
        "patchSetId": 26
      },
      "lineNbr": 107,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2021-11-26T12:08:21Z",
      "side": 1,
      "message": "You have to check whether changeNum and patchNum are still current.",
      "revId": "d442363716c8b306b8887f1bca4ff8834f013a1c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}