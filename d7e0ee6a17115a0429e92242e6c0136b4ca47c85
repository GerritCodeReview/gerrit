{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "e2d495a0_72dbb16a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1013267
      },
      "writtenOn": "2024-01-18T11:32:31Z",
      "side": 1,
      "message": "the immediate question that pops into my mind is \"what about the author?\"\n\ni suppose this is sort of implicitly answered by the second paragraph: this is not about modifying the meta data overall, but merely the \"signature\" of the actual content edit.\n\nbut then i wonder what the use case really is, and whether this is the right way to address it. isn\u0027t this something one would want to configure just once in the account settings?",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 11,
        "endChar": 9
      },
      "revId": "d7e0ee6a17115a0429e92242e6c0136b4ca47c85",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e83f24d6_c48d9f46",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2024-01-18T16:07:26Z",
      "side": 1,
      "message": "\u003e the immediate question that pops into my mind is \"what about the author?\"\n\u003e \n\u003e i suppose this is sort of implicitly answered by the second paragraph: this is not about modifying the meta data overall, but merely the \"signature\" of the actual content edit.\n\nCorrect. We thought about adding support for changing the author here, but to us it didn\u0027t fit. Change Ic6d86e748 provides the ability to edit both author and committer in the context of a change edit (equivalent to `git commit --amend`) and we expect users to use that functionality if needed.\n\n\u003e \n\u003e but then i wonder what the use case really is, and whether this is the right way to address it. isn\u0027t this something one would want to configure just once in the account settings?\n\nIn our deployments users have multiple \"active\" email addresses and they are required by internal policies to use different addresses for different projects (simplistically: internal vs external). So the use case for this functionality is for when a user who is not the current patch set committer is editing the commit message and needs to commit using their alternate/external email address. A practical example of this would be a project maintainer fixing a typo in a contributor\u0027s commit message. They could do that via the new edit APIs mentioned above, but it\u0027s a lot faster to use the commit message edit feature directly.",
      "parentUuid": "e2d495a0_72dbb16a",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 11,
        "endChar": 9
      },
      "revId": "d7e0ee6a17115a0429e92242e6c0136b4ca47c85",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7e5b55eb_46eec114",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1013267
      },
      "writtenOn": "2024-01-18T18:29:36Z",
      "side": 1,
      "message": "\u003e use different addresses for different projects\n\nbut making this manual seems like waste of resources and rather error-prone to me.\nthe question would then be how to make per-project per-user settings.\ni suppose something resembling project watches would work.\nbut then, having each user configure the policy is still suboptimal.\nsetting up email selector patterns per-project (an inheritable property, of course) would seem best.",
      "parentUuid": "e83f24d6_c48d9f46",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 11,
        "endChar": 9
      },
      "revId": "d7e0ee6a17115a0429e92242e6c0136b4ca47c85",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "23117c5d_24a272fd",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2024-01-18T18:42:37Z",
      "side": 1,
      "message": "\u003e \u003e use different addresses for different projects\n\u003e \n\u003e but making this manual seems like waste of resources and rather error-prone to me.\n\u003e the question would then be how to make per-project per-user settings.\n\u003e i suppose something resembling project watches would work.\n\u003e but then, having each user configure the policy is still suboptimal.\n\u003e setting up email selector patterns per-project (an inheritable property, of course) would seem best.\n\nTotally agree, but at least having the manual ability is better than nothing and it lets the more intelligent policy-based functionality be layered on top. We\u0027ll get there eventually and I view this as incremental progress towards that goal.",
      "parentUuid": "7e5b55eb_46eec114",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 11,
        "endChar": 9
      },
      "revId": "d7e0ee6a17115a0429e92242e6c0136b4ca47c85",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f512c388_b34b50dd",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1013267
      },
      "writtenOn": "2024-01-19T08:10:34Z",
      "side": 1,
      "message": "i\u0027m skeptical of that line of argumentation, as i don\u0027t see potential for layering anything; the implementations are basically orthogonal. the actual outcome will be probably that the perceived urgency of a proper solution will be significantly downgraded. while permanently cluttering up the UI for unsuspecting users.",
      "parentUuid": "23117c5d_24a272fd",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 11,
        "endChar": 9
      },
      "revId": "d7e0ee6a17115a0429e92242e6c0136b4ca47c85",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "919d72b0_54e98c9c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2024-01-19T16:11:12Z",
      "side": 1,
      "message": "\u003e i\u0027m skeptical of that line of argumentation, as i don\u0027t see potential for layering anything; the implementations are basically orthogonal.\n\nIf you have the implementation handy for the policy-based solution, please do share it. I\u0027m skeptical that you do ðŸ˜Š\nI don\u0027t have an implementation yet, but the design we very roughly sketched out for it leverages the backend API that\u0027s populating this UI drop-down, including which email it chooses as the default for the drop-down. If we can influence that default through project config or a plugin, then we can make it easy for users to follow the policy.\n\n\u003e the actual outcome will be probably that the perceived urgency of a proper solution will be significantly downgraded. while permanently cluttering up the UI for unsuspecting users.\n\nYou gloss over the fact that the immediate outcome is an (imperfect) solution to the issue we have. I don\u0027t think this drop-down is \"clutter\", but if you have concerns about UI clutter and want to improve that, please suggest some options.",
      "parentUuid": "f512c388_b34b50dd",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 11,
        "endChar": 9
      },
      "revId": "d7e0ee6a17115a0429e92242e6c0136b4ca47c85",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2828bbce_58859469",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1013267
      },
      "writtenOn": "2024-01-19T20:13:37Z",
      "side": 1,
      "message": "my assumption is that the proper implementation _won\u0027t_ have an interactive drop-down, because there simply is no need for this: your case can be fully automated, and the \"usual\" case is already automated by selecting the preferred email address. therefore, the implementation would likely be in the backend, as an extension to the already existing preference. plus, a config frontend. so basically zero overlap with this patch, except maybe some of the autotests.\ntherefore, it would make no sense to submit this as a \"first step\", it being a dead end wrt. the requirements i\u0027m aware of.",
      "parentUuid": "919d72b0_54e98c9c",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 11,
        "endChar": 9
      },
      "revId": "d7e0ee6a17115a0429e92242e6c0136b4ca47c85",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "79ae377c_4a3eadb6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2024-01-19T20:29:28Z",
      "side": 1,
      "message": "\u003e my assumption is that the proper implementation _won\u0027t_ have an interactive drop-down, because there simply is no need for this: your case can be fully automated, and the \"usual\" case is already automated by selecting the preferred email address. therefore, the implementation would likely be in the backend, as an extension to the already existing preference. plus, a config frontend. so basically zero overlap with this patch, except maybe some of the autotests.\n\nWe would still have the UI selection available as an override to allow for any exception cases. Policies are rarely perfect.",
      "parentUuid": "2828bbce_58859469",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 11,
        "endChar": 9
      },
      "revId": "d7e0ee6a17115a0429e92242e6c0136b4ca47c85",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "309b8f4c_8e32f466",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1013267
      },
      "writtenOn": "2024-01-19T20:54:06Z",
      "side": 1,
      "message": "well, it\u0027s a simple problem (as far as you presented it), so it really seems like implementing it perfectly should be easy enough. and given that it would fall onto the admin, it\u0027s not something i\u0027d expect users to work around.\n\nthen you need to consider the wider impact:\nfirstly, i have five emails in my qt-project account, and three of them are dead, so they absolutely need a config option to mark them as inactive to prevent accidental selection (but they should stay there, as i want my account to be associated with commits using them).\nsecondly, as pointed out before, for just about everyone outside your setup this additional UI would be just clutter and therefore degrade UX. so you\u0027d need another option (global? per-user?) to actually enable the feature.",
      "parentUuid": "79ae377c_4a3eadb6",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 11,
        "endChar": 9
      },
      "revId": "d7e0ee6a17115a0429e92242e6c0136b4ca47c85",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ca498e3e_d9bb9526",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2024-01-19T22:03:23Z",
      "side": 1,
      "message": "\u003e well, it\u0027s a simple problem (as far as you presented it), so it really seems like implementing it perfectly should be easy enough. and given that it would fall onto the admin, it\u0027s not something i\u0027d expect users to work around.\n\nI was simplifying the problem significantly. The logic for selection is painfully complicated and unfortunately changes on a regular basis. If it was easy I would have done it years ago.\n\n\u003e \n\u003e then you need to consider the wider impact:\n\u003e firstly, i have five emails in my qt-project account, and three of them are dead, so they absolutely need a config option to mark them as inactive to prevent accidental selection (but they should stay there, as i want my account to be associated with commits using them).\n\nI agree that would be nice, but it doesn\u0027t seem like a blocker. Maybe you want to contribute it?\n\n\u003e secondly, as pointed out before, for just about everyone outside your setup this additional UI would be just clutter and therefore degrade UX. so you\u0027d need another option (global? per-user?) to actually enable the feature.\n\nI\u0027m still not convinced this is \"clutter\". It makes use of existing empty UI space and informs the user as to what email address will be used as the committer address when they save their commit message edit. Further, do you expect a config to disable every feature a user doesn\u0027t regularly use in Gerrit? That doesn\u0027t seem practical.",
      "parentUuid": "309b8f4c_8e32f466",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 11,
        "endChar": 9
      },
      "revId": "d7e0ee6a17115a0429e92242e6c0136b4ca47c85",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "613702fe_ba4906be",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2024-01-18T16:07:26Z",
      "side": 1,
      "message": "Add a link with a screenshot?",
      "revId": "d7e0ee6a17115a0429e92242e6c0136b4ca47c85",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "34afe864_4b5497d8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 18,
      "author": {
        "id": 1012457
      },
      "writtenOn": "2024-01-19T04:49:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "613702fe_ba4906be",
      "revId": "d7e0ee6a17115a0429e92242e6c0136b4ca47c85",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}