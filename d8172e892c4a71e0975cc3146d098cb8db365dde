{
  "comments": [
    {
      "key": {
        "uuid": "1e83c50b_8b4889dd",
        "filename": "gerrit-elasticsearch/src/test/java/com/google/gerrit/elasticsearch/ElasticV7QueryChangesTest.java",
        "patchSetId": 1
      },
      "lineNbr": 65,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2018-12-03T13:17:43Z",
      "side": 1,
      "message": "Can this method with @After annotation be added in AbstractQueryChangesTest  lcass and thus would apply for all test for all versions?",
      "revId": "d8172e892c4a71e0975cc3146d098cb8db365dde",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4a8c2e8_44d1d3df",
        "filename": "gerrit-elasticsearch/src/test/java/com/google/gerrit/elasticsearch/ElasticV7QueryChangesTest.java",
        "patchSetId": 1
      },
      "lineNbr": 65,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2018-12-03T13:28:48Z",
      "side": 1,
      "message": "No, because it would then also be called for the Lucene tests, and it\u0027s not needed (and won\u0027t work) there.\n\nAlso, we don\u0027t really need to do this for Elasticsearch 5 and 6.",
      "parentUuid": "1e83c50b_8b4889dd",
      "revId": "d8172e892c4a71e0975cc3146d098cb8db365dde",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "54d98367_8a37fb48",
        "filename": "gerrit-elasticsearch/src/test/java/com/google/gerrit/elasticsearch/ElasticV7QueryChangesTest.java",
        "patchSetId": 1
      },
      "lineNbr": 65,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2018-12-03T14:52:18Z",
      "side": 1,
      "message": "OK, but what will happen if we add tests for Elasticsearch 8 and 9? Would we duplicate that code or add another base class? Of course, we can address it at that time, but I would like to have a plan already now.",
      "parentUuid": "b4a8c2e8_44d1d3df",
      "revId": "d8172e892c4a71e0975cc3146d098cb8db365dde",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e9b0e3d7_da7826d7",
        "filename": "gerrit-elasticsearch/src/test/java/com/google/gerrit/elasticsearch/ElasticV7QueryChangesTest.java",
        "patchSetId": 1
      },
      "lineNbr": 65,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2018-12-03T21:03:08Z",
      "side": 1,
      "message": "How about eventually inserting a new base class, say, ElasticV7AndUpQueryChangesTest, between this very class and AbstractQueryChangesTest? This way, we would expect a potential ElasticV8QueryChangesTest class to also extend ElasticV7AndUpQueryChangesTest, reusing such tear-down code consistently.\n\nThis pattern could be generalised to other elastic index test classes, beside changes here, if need (ever) be. Now, I would not apply the above today, as it would look odd I think, but that could be a plan for once V8 pops up.\n\n-Persist the plan (this or any other one) in the commit message?",
      "parentUuid": "54d98367_8a37fb48",
      "revId": "d8172e892c4a71e0975cc3146d098cb8db365dde",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "df4c300c_35e3caa4",
        "filename": "gerrit-elasticsearch/src/test/java/com/google/gerrit/elasticsearch/ElasticV7QueryChangesTest.java",
        "patchSetId": 1
      },
      "lineNbr": 65,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2018-12-03T23:13:16Z",
      "side": 1,
      "message": "I\u0027ve previously tried to introduce a common base class, to reduce the amount of duplicated code in the elasticsearch tests, but it was not successful due to the usage of a static method to start the container.\n\nWe could introduce a base class that only has the @After method, but I wonder if it\u0027s really worth it since we still have to duplicate a fair amount of code.",
      "parentUuid": "e9b0e3d7_da7826d7",
      "revId": "d8172e892c4a71e0975cc3146d098cb8db365dde",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}