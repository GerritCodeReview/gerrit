{
  "comments": [
    {
      "key": {
        "uuid": "ae7bdb48_fb42bf35",
        "filename": "e2e-tests/load-tests/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2019-11-13T10:39:47Z",
      "side": 1,
      "message": "Why not use/build on the docker image maintained in the gatling-git project?",
      "revId": "d8bf14c1e01f25686e641472e42a15bf45fd7f8f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6b1a4915_3d1f7b15",
        "filename": "e2e-tests/load-tests/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2019-11-20T22:55:19Z",
      "side": 1,
      "message": "yep, could do. Is it ok if I do it in a separate change?",
      "parentUuid": "ae7bdb48_fb42bf35",
      "revId": "d8bf14c1e01f25686e641472e42a15bf45fd7f8f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "70700e15_aef59e15",
        "filename": "e2e-tests/load-tests/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2019-11-21T08:43:57Z",
      "side": 1,
      "message": "Sure.",
      "parentUuid": "6b1a4915_3d1f7b15",
      "revId": "d8bf14c1e01f25686e641472e42a15bf45fd7f8f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "003a9915_f3d03f62",
        "filename": "e2e-tests/load-tests/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2019-11-28T21:38:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "70700e15_aef59e15",
      "revId": "d8bf14c1e01f25686e641472e42a15bf45fd7f8f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "204a58c1_defadc23",
        "filename": "e2e-tests/load-tests/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 3,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2019-11-13T10:39:47Z",
      "side": 1,
      "message": "This build probably won\u0027t be available forever. Can we use a build-arg to set the URL with using the last successful build URL as the default?",
      "range": {
        "startLine": 3,
        "startChar": 65,
        "endLine": 3,
        "endChar": 67
      },
      "revId": "d8bf14c1e01f25686e641472e42a15bf45fd7f8f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "60e675fc_469641fd",
        "filename": "e2e-tests/load-tests/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 3,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2019-11-20T22:55:19Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "204a58c1_defadc23",
      "range": {
        "startLine": 3,
        "startChar": 65,
        "endLine": 3,
        "endChar": 67
      },
      "revId": "d8bf14c1e01f25686e641472e42a15bf45fd7f8f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d4442535_1c8a3924",
        "filename": "e2e-tests/load-tests/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 6,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2019-11-13T10:39:47Z",
      "side": 1,
      "message": "Remove this?",
      "revId": "d8bf14c1e01f25686e641472e42a15bf45fd7f8f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "79ee7a70_5e45638e",
        "filename": "e2e-tests/load-tests/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 6,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2019-11-20T22:55:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d4442535_1c8a3924",
      "revId": "d8bf14c1e01f25686e641472e42a15bf45fd7f8f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4c59e2ef_63643a7f",
        "filename": "e2e-tests/load-tests/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2019-11-13T10:39:47Z",
      "side": 1,
      "message": "This runs the container as root. Can we change that?",
      "revId": "d8bf14c1e01f25686e641472e42a15bf45fd7f8f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7e184bc1_1df64ca3",
        "filename": "e2e-tests/load-tests/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2019-11-20T22:55:19Z",
      "side": 1,
      "message": "The original image doesn\u0027t have any system user. I could fork create a PR to add a system user to the original image, but I believe it goes out of this scope.",
      "parentUuid": "4c59e2ef_63643a7f",
      "revId": "d8bf14c1e01f25686e641472e42a15bf45fd7f8f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bb01ca6a_5dbe4359",
        "filename": "e2e-tests/load-tests/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2019-11-21T08:43:57Z",
      "side": 1,
      "message": "Why should that keeping you from doing so here? Just create a user here, chown the /opt/gatling directory, use the USER command to change users and you should be fine. No need to change anything in the underlying image (They won\u0027t accept that anyway, since they probably leave it to be root by design to provide the highest flexibility for downstream images.)",
      "parentUuid": "7e184bc1_1df64ca3",
      "revId": "d8bf14c1e01f25686e641472e42a15bf45fd7f8f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e208cef6_20cdb8ff",
        "filename": "e2e-tests/load-tests/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2019-11-28T21:38:46Z",
      "side": 1,
      "message": "I have added a non-root user, but I am trying to understand why the recursive \"chown\" is not working.\n\nIf I build the image and run it, I end up with the following permissions:\n\nbash-4.4$ ls -lrt\ntotal 40\ndrwxr-xr-x    1 gatling  appgroup      4096 Sep 23 15:41 bin\n-rw-r--r--    1 gatling  appgroup     11367 Sep 23 15:41 LICENSE\ndrwxr-xr-x    1 gatling  appgroup     12288 Nov 28 20:51 lib\ndrwxr-xr-x    4 root     root          4096 Nov 28 21:34 user-files\ndrwxr-xr-x    2 root     root          4096 Nov 28 21:34 results\ndrwxr-xr-x    2 root     root          4096 Nov 28 21:34 conf\n\nI don\u0027t get why :/",
      "parentUuid": "bb01ca6a_5dbe4359",
      "revId": "d8bf14c1e01f25686e641472e42a15bf45fd7f8f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6aaa0fb4_64573694",
        "filename": "e2e-tests/load-tests/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2019-11-28T22:24:42Z",
      "side": 1,
      "message": "Seems like the user-files, results and conf directories were created in another layer, hence I cannot modify the permission while building the image. I didn\u0027t find a workaround to it yet. Any suggestion?",
      "parentUuid": "e208cef6_20cdb8ff",
      "revId": "d8bf14c1e01f25686e641472e42a15bf45fd7f8f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e81dd8b0_e93602d5",
        "filename": "e2e-tests/load-tests/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1065256
      },
      "writtenOn": "2019-11-29T08:32:58Z",
      "side": 1,
      "message": "This is because the /opt/gatling/conf and the other directories in question are made a VOLUME by the parent image [1]. The parent image was made with the idea in mind to mount these directories not copy them into the image.\nMaybe copying the directories in a different location and symlinking them works? Does the user running the tests really need write access to these files at all?\n\n[1] https://stackoverflow.com/questions/26145351/why-doesnt-chown-work-in-dockerfile",
      "parentUuid": "6aaa0fb4_64573694",
      "revId": "d8bf14c1e01f25686e641472e42a15bf45fd7f8f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bbd1e784_1633fe26",
        "filename": "e2e-tests/load-tests/Dockerfile",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2019-11-29T20:31:36Z",
      "side": 1,
      "message": "I have moved everything to the newly created gatling home. This way it seems to work.",
      "parentUuid": "e81dd8b0_e93602d5",
      "revId": "d8bf14c1e01f25686e641472e42a15bf45fd7f8f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}