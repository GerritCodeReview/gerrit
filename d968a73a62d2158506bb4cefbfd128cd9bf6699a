{
  "comments": [
    {
      "key": {
        "uuid": "021f28f0_7cbcd7b1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1013267
      },
      "writtenOn": "2020-07-14T09:08:06Z",
      "side": 1,
      "message": "aaaaand there we go: you\u0027re doing exactly the thing that we established during the design phase you cannot do without providing some level of configurability to keep aggressive notifications working on a per-user level. my comments on https://gerrit-review.googlesource.com/c/homepage/+/245069 have all the details.",
      "revId": "d968a73a62d2158506bb4cefbfd128cd9bf6699a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "99638afe_7b1ddb28",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-07-14T09:42:18Z",
      "side": 1,
      "message": "The approved design doc contains \"Email notifications about uploaded patch sets will not be sent anymore.\" So this change just implements what was agreed upon.\n\nPointing to change 245069 and all its comments is not helpful. It is almost impossible for Gal to find exactly what you are referring to. FWIW I don\u0027t remember that we \"established\" that better notification config options are a prerequisite for the attention set feature.",
      "parentUuid": "021f28f0_7cbcd7b1",
      "revId": "d968a73a62d2158506bb4cefbfd128cd9bf6699a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d4da90d6_201e2c08",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1013267
      },
      "writtenOn": "2020-07-14T10:26:22Z",
      "side": 1,
      "message": "\u003e The approved design doc contains [...]\n\u003e I don\u0027t remember that we \"established\" [...]\n\nthat you consistently refused to acknowledge the relevance of my use case doesn\u0027t change the fact that i established it as a reality.\n\n\u003e It is almost impossible for Gal to find exactly what you are referring to.\n\ni would prefer it if you let gal himself judge that. he can still ask for an executive summary if he\u0027s unwilling or unable to find his way, but i think it would make sense if he familiarizes himself with the entirety of my alternative approaches.",
      "parentUuid": "99638afe_7b1ddb28",
      "revId": "d968a73a62d2158506bb4cefbfd128cd9bf6699a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "238f1209_721a60d0",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1013267
      },
      "writtenOn": "2020-07-14T09:08:06Z",
      "side": 1,
      "message": "scattering the notification logic all over the place, using multiple mechanisms to implement it, will certainly make the code hard to comprehend and maintain.",
      "revId": "d968a73a62d2158506bb4cefbfd128cd9bf6699a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4c5ad654_627a5369",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1083042
      },
      "writtenOn": "2020-07-14T09:23:23Z",
      "side": 1,
      "message": "Do you have a suggestion for improving this? I understand the concern and while reviewing the code I wondered if there is a more modular way of implementing attention set related logic. But it\u0027s deeply hooked into low level events and I see no easy solution. One idea would be to use events, but IIUC that won\u0027t be available in time.",
      "parentUuid": "238f1209_721a60d0",
      "revId": "d968a73a62d2158506bb4cefbfd128cd9bf6699a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "64f7b865_b28a87ff",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1083042
      },
      "writtenOn": "2020-07-14T09:27:13Z",
      "side": 1,
      "message": "To clarify, I take your comment to refer to the backend implementation as a whole rather than this particular change.",
      "parentUuid": "4c5ad654_627a5369",
      "revId": "d968a73a62d2158506bb4cefbfd128cd9bf6699a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "353e5a3b_149b165c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1013267
      },
      "writtenOn": "2020-07-14T09:52:53Z",
      "side": 1,
      "message": "there is already the event stream which all relevant pieces (should) report to. putting a notification mail dispatcher on top of that would naively seem like the obvious choice. \"more modular\" seems at least attainable.",
      "parentUuid": "4c5ad654_627a5369",
      "revId": "d968a73a62d2158506bb4cefbfd128cd9bf6699a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "57080fcf_a5186e35",
        "filename": "java/com/google/gerrit/server/git/receive/ReceiveCommits.java",
        "patchSetId": 1
      },
      "lineNbr": 2512,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-07-14T07:28:08Z",
      "side": 1,
      "message": "Nit: Maybe just\n\n   boolean isAttentionSetEnabled \u003d config.getBoolean(...\n\nhere. And\n\n  .setSendMail(!isAttentionSetEnabled)\n\nbelow.",
      "revId": "d968a73a62d2158506bb4cefbfd128cd9bf6699a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3474f565_7d0d6a47",
        "filename": "java/com/google/gerrit/server/git/receive/ReceiveCommits.java",
        "patchSetId": 1
      },
      "lineNbr": 2513,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-07-14T07:28:08Z",
      "side": 1,
      "message": "Maybe remove the comment? It just reiterates what the code says.",
      "revId": "d968a73a62d2158506bb4cefbfd128cd9bf6699a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "56f55371_50caeaca",
        "filename": "java/com/google/gerrit/server/git/receive/ReplaceOp.java",
        "patchSetId": 1
      },
      "lineNbr": 529,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-07-14T07:28:08Z",
      "side": 1,
      "message": "How does this work with canary configs?\n\nWe were planning to turn attention set on for all canary hosts in a week or so. That will work fine for the frontend, but does that also work for the backend? If `cfg` is the canary config for x% of backend traffic, then this approach does not really work. I think we have to either make sure that `cfg` is always prod or use a completely different approach. WDYT?",
      "revId": "d968a73a62d2158506bb4cefbfd128cd9bf6699a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}