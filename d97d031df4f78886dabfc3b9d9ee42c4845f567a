{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "ca450936_38250a5a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2022-04-29T09:04:51Z",
      "side": 1,
      "message": "I like the idea, but it can be dangerous when the underlying filesystem is NFS. Because of caching issues, the reindexing could fail temporarily but then succeed later on.\n\nIn the HA plugin we had this delete logic in the past and, after issues seen in production, we reverted and introduced a retry mechanism.\n\nI know you don\u0027t use NFS and you won\u0027t be impacted by it, however, other users may be impacted.\n\nIs there any other option for dealing with this case?",
      "revId": "d97d031df4f78886dabfc3b9d9ee42c4845f567a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7137b1db_11a6d188",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2022-04-29T10:25:38Z",
      "side": 1,
      "message": "OK, then I propose that I add an option like \"delete_if_not_found\" to this REST endpoint. WDYT?",
      "parentUuid": "ca450936_38250a5a",
      "revId": "d97d031df4f78886dabfc3b9d9ee42c4845f567a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "036a4bd1_db5c46ae",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2022-04-29T10:38:17Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "7137b1db_11a6d188",
      "revId": "d97d031df4f78886dabfc3b9d9ee42c4845f567a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "65032691_f07e8619",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2022-05-02T09:29:31Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "036a4bd1_db5c46ae",
      "revId": "d97d031df4f78886dabfc3b9d9ee42c4845f567a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6292f039_c22fbf90",
        "filename": "java/com/google/gerrit/server/restapi/config/IndexChanges.java",
        "patchSetId": 1
      },
      "lineNbr": 66,
      "author": {
        "id": 1004034
      },
      "writtenOn": "2022-04-29T09:58:09Z",
      "side": 1,
      "message": "Shouldn\u0027t this be logged as an error ?\n\nIs there any chance to return a list of such issues to the caller of the REST API ?",
      "range": {
        "startLine": 66,
        "startChar": 15,
        "endLine": 66,
        "endChar": 24
      },
      "revId": "d97d031df4f78886dabfc3b9d9ee42c4845f567a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ee910bde_00b58cd4",
        "filename": "java/com/google/gerrit/server/restapi/config/IndexChanges.java",
        "patchSetId": 1
      },
      "lineNbr": 66,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2022-04-29T10:24:43Z",
      "side": 1,
      "message": "It is a user error, maybe just a typo... so I think a warning is good.\n\nYes, we can enhance the response body to differentiate between:\n* indexed changes\n* not found changes",
      "parentUuid": "6292f039_c22fbf90",
      "range": {
        "startLine": 66,
        "startChar": 15,
        "endLine": 66,
        "endChar": 24
      },
      "revId": "d97d031df4f78886dabfc3b9d9ee42c4845f567a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e5665c0a_2ddbc1ba",
        "filename": "java/com/google/gerrit/server/restapi/config/IndexChanges.java",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1004034
      },
      "writtenOn": "2022-04-29T09:58:09Z",
      "side": 1,
      "message": "What if the changeId isn\u0027t present ?\nCan this happen at all ?",
      "revId": "d97d031df4f78886dabfc3b9d9ee42c4845f567a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fef158ea_e27afb78",
        "filename": "java/com/google/gerrit/server/restapi/config/IndexChanges.java",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2022-04-29T10:24:43Z",
      "side": 1,
      "message": "Yes, it can happen when the provided id is not parseable.",
      "parentUuid": "e5665c0a_2ddbc1ba",
      "revId": "d97d031df4f78886dabfc3b9d9ee42c4845f567a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}