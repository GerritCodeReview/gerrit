{
  "comments": [
    {
      "key": {
        "uuid": "ba079351_f0ea400a",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/index/ChangeSchemas.java",
        "patchSetId": 2
      },
      "lineNbr": 306,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-11-13T15:44:19Z",
      "side": 1,
      "message": "Is there actually anything different about the 4.10.2 index version? The bugfixes I read about looked like they were entirely in client code and wouldn\u0027t affect the storage format. If we don\u0027t have to change the storage format on bugfix releases this would save some churn.\n\n(Actually one thing low on my list of cleanups is to rework Lucene schema version numbering so we keep track of the Lucene sub-version separately and don\u0027t have to bump the global schema version even when there is an on-disk format change. We already do this for googlesoruce.com and it works out well.)",
      "revId": "ddc34f0d354090f3a7bfd2089289b71ba67019fa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a148387_847906b8",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/index/ChangeSchemas.java",
        "patchSetId": 2
      },
      "lineNbr": 306,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-11-14T07:04:31Z",
      "side": 1,
      "message": "I am failing to parse your statement. Are you speculating that from 4.10.1 to 4.10.2 no index format change took place and we can just replace the lucene version in V14 and hope that we wouldn\u0027t end up with index corruption? That meant restoring ps1 of this change?",
      "parentUuid": "ba079351_f0ea400a",
      "revId": "ddc34f0d354090f3a7bfd2089289b71ba67019fa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba079351_10554411",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/index/ChangeSchemas.java",
        "patchSetId": 2
      },
      "lineNbr": 306,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2014-11-14T18:11:18Z",
      "side": 1,
      "message": "Right. The new version is perfectly capable of reading/writing an index using Versions.LUCENE_4_10_1. My claim is that we can get the full benefits of 4.10.2 without passing LUCENE_4_10_2 to the IndexWriterConfig.",
      "parentUuid": "3a148387_847906b8",
      "revId": "ddc34f0d354090f3a7bfd2089289b71ba67019fa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a148387_04a7d6c8",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/index/ChangeSchemas.java",
        "patchSetId": 2
      },
      "lineNbr": 306,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-11-14T18:18:52Z",
      "side": 1,
      "message": "That makes sense. We update lucene to 4_10_2, but keep passing deprecated 4_10_1 to index writer config.",
      "parentUuid": "ba079351_10554411",
      "revId": "ddc34f0d354090f3a7bfd2089289b71ba67019fa",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}