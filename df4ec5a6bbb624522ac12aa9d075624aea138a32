{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "f03d844c_3fcf6561",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 15
      },
      "lineNbr": 0,
      "author": {
        "id": 1088862
      },
      "writtenOn": "2022-01-26T13:28:39Z",
      "side": 1,
      "message": "Unfortunately we still have many more dependencies from an ideally isolated `embed/diff` folder. Examples are  \u0027app/types\u0027, \u0027/app/test/\u0027, \u0027app/utils\u0027, \u0027app/scripts\u0027, etc.\n\nA full list of non-isolated dependencies can be found via grep:\n\n\n----------\n$ grep -r app/embed -e \"\\.\\.\\/\\.\\.\\/\\.\\.\\/\"\n\n\napp/embed/diff/gr-diff-highlight/gr-diff-highlight_test.js:import \u0027../../../test/common-test-setup-karma.js\u0027;\napp/embed/diff/gr-diff-highlight/gr-diff-highlight.ts:import \u0027../../../styles/shared-styles\u0027;\napp/embed/diff/gr-diff-highlight/gr-diff-highlight.ts:import {strToClassName} from \u0027../../../utils/dom-util\u0027;\napp/embed/diff/gr-diff-highlight/gr-diff-highlight.ts:import {Side} from \u0027../../../constants/constants\u0027;\napp/embed/diff/gr-diff-highlight/gr-diff-highlight.ts:import {CommentRange} from \u0027../../../types/common\u0027;\napp/embed/diff/gr-diff-highlight/gr-diff-highlight.ts:import {debounce, DelayedTask} from \u0027../../../utils/async-util\u0027;\napp/embed/diff/gr-diff-highlight/gr-diff-highlight.ts:import {queryAndAssert} from \u0027../../../utils/common-util\u0027;\napp/embed/diff/gr-diff-highlight/gr-annotation_test.js:import \u0027../../../test/common-test-setup-karma.js\u0027;\napp/embed/diff/gr-context-controls/gr-context-controls.ts:import \u0027../../../elements/shared/gr-button/gr-button\u0027;\napp/embed/diff/gr-context-controls/gr-context-controls.ts:import {pluralize} from \u0027../../../utils/string-util\u0027;\napp/embed/diff/gr-context-controls/gr-context-controls.ts:import {fire} from \u0027../../../utils/event-util\u0027;\napp/embed/diff/gr-context-controls/gr-context-controls.ts:import {DiffInfo} from \u0027../../../types/diff\u0027;\napp/embed/diff/gr-context-controls/gr-context-controls.ts:import {assertIsDefined} from \u0027../../../utils/common-util\u0027;\napp/embed/diff/gr-context-controls/gr-context-controls.ts:import {subscribe} from \u0027../../../elements/lit/subscription-controller\u0027;\napp/embed/diff/gr-context-controls/gr-context-controls.ts:} from \u0027../../../api/diff\u0027;\napp/embed/diff/gr-context-controls/gr-context-controls_test.ts:import \u0027../../../test/common-test-setup-karma\u0027;\napp/embed/diff/gr-context-controls/gr-context-controls_test.ts:import {DiffFileMetaInfo, DiffInfo, SyntaxBlock} from \u0027../../../api/diff\u0027;\napp/embed/diff/gr-diff-selection/gr-diff-selection.ts:import \u0027../../../styles/shared-styles\u0027;\napp/embed/diff/gr-diff-selection/gr-diff-selection.ts:import {descendedFromClass, querySelectorAll} from \u0027../../../utils/dom-util\u0027;\napp/embed/diff/gr-diff-selection/gr-diff-selection.ts:import {DiffInfo} from \u0027../../../types/diff\u0027;\napp/embed/diff/gr-diff-selection/gr-diff-selection.ts:import {Side} from \u0027../../../constants/constants\u0027;\napp/embed/diff/gr-diff-selection/gr-diff-selection_test.js:import \u0027../../../test/common-test-setup-karma.js\u0027;\napp/embed/diff/gr-diff/gr-diff.ts:import \u0027../../../styles/shared-styles\u0027;\napp/embed/diff/gr-diff/gr-diff.ts:import \u0027../../../elements/shared/gr-button/gr-button\u0027;\napp/embed/diff/gr-diff/gr-diff.ts:import \u0027../../../elements/shared/gr-icons/gr-icons\u0027;\napp/embed/diff/gr-diff/gr-diff.ts:import {getHiddenScroll} from \u0027../../../scripts/hiddenscroll\u0027;\napp/embed/diff/gr-diff/gr-diff.ts:} from \u0027../../../types/common\u0027;\napp/embed/diff/gr-diff/gr-diff.ts:} from \u0027../../../types/diff\u0027;\napp/embed/diff/gr-diff/gr-diff.ts:} from \u0027../../../types/types\u0027;\napp/embed/diff/gr-diff/gr-diff.ts:} from \u0027../../../constants/constants\u0027;\napp/embed/diff/gr-diff/gr-diff.ts:import {fireAlert, fireEvent} from \u0027../../../utils/event-util\u0027;\napp/embed/diff/gr-diff/gr-diff.ts:import {MovedLinkClickedEvent} from \u0027../../../types/events\u0027;\napp/embed/diff/gr-diff/gr-diff.ts:import {getContentEditableRange} from \u0027../../../utils/safari-selection-util\u0027;\napp/embed/diff/gr-diff/gr-diff.ts:import {AbortStop} from \u0027../../../api/core\u0027;\napp/embed/diff/gr-diff/gr-diff.ts:} from \u0027../../../api/diff\u0027;\napp/embed/diff/gr-diff/gr-diff.ts:import {isSafari, toggleClass} from \u0027../../../utils/dom-util\u0027;\napp/embed/diff/gr-diff/gr-diff.ts:import {assertIsDefined} from \u0027../../../utils/common-util\u0027;\napp/embed/diff/gr-diff/gr-diff.ts:import {debounce, DelayedTask} from \u0027../../../utils/async-util\u0027;\napp/embed/diff/gr-diff/gr-diff-group_test.js:import \u0027../../../test/common-test-setup-karma.js\u0027;\napp/embed/diff/gr-diff/gr-diff_test.js:import \u0027../../../test/common-test-setup-karma.js\u0027;\napp/embed/diff/gr-diff/gr-diff_test.js:import {getMockDiffResponse} from \u0027../../../test/mocks/diff-response.js\u0027;\napp/embed/diff/gr-diff/gr-diff_test.js:import {getComputedStyleValue} from \u0027../../../utils/dom-util.js\u0027;\napp/embed/diff/gr-diff/gr-diff_test.js:import {_setHiddenScroll} from \u0027../../../scripts/hiddenscroll.js\u0027;\napp/embed/diff/gr-diff/gr-diff_test.js:import {runA11yAudit} from \u0027../../../test/a11y-test-utils.js\u0027;\napp/embed/diff/gr-diff/gr-diff_test.js:import {Side} from \u0027../../../api/diff.js\u0027;\napp/embed/diff/gr-diff/gr-diff_test.js:import {mockPromise, stubRestApi} from \u0027../../../test/test-utils.js\u0027;\napp/embed/diff/gr-diff/gr-diff-group.ts:import {LineRange, Side} from \u0027../../../api/diff\u0027;\napp/embed/diff/gr-diff/gr-diff-line.ts:} from \u0027../../../api/diff\u0027;\napp/embed/diff/gr-diff/gr-diff-utils.ts:import {CommentRange} from \u0027../../../types/common\u0027;\napp/embed/diff/gr-diff/gr-diff-utils.ts:import {Side} from \u0027../../../constants/constants\u0027;\napp/embed/diff/gr-diff/gr-diff-utils.ts:import {DiffInfo} from \u0027../../../types/diff\u0027;\napp/embed/diff/gr-ranged-comment-hint/gr-ranged-comment-hint_test.ts:import \u0027../../../test/common-test-setup-karma\u0027;\napp/embed/diff/gr-ranged-comment-hint/gr-ranged-comment-hint_test.ts:import {CommentRange} from \u0027../../../types/common\u0027;\napp/embed/diff/gr-ranged-comment-hint/gr-ranged-comment-hint_test.ts:import {queryAndAssert} from \u0027../../../test/test-utils\u0027;\napp/embed/diff/gr-ranged-comment-hint/gr-ranged-comment-hint.ts:import {CommentRange} from \u0027../../../types/common\u0027;\napp/embed/diff/gr-ranged-comment-hint/gr-ranged-comment-hint.ts:import {sharedStyles} from \u0027../../../styles/shared-styles\u0027;\napp/embed/diff/gr-coverage-layer/gr-coverage-layer_test.js:import \u0027../../../test/common-test-setup-karma.js\u0027;\napp/embed/diff/gr-coverage-layer/gr-coverage-layer.ts:import {CoverageRange, CoverageType, DiffLayer} from \u0027../../../types/types\u0027;\napp/embed/diff/gr-diff-cursor/gr-diff-cursor.ts:import {AbortStop, CursorMoveResult, Stop} from \u0027../../../api/core\u0027;\napp/embed/diff/gr-diff-cursor/gr-diff-cursor.ts:} from \u0027../../../api/diff\u0027;\napp/embed/diff/gr-diff-cursor/gr-diff-cursor.ts:import {ScrollMode, Side} from \u0027../../../constants/constants\u0027;\napp/embed/diff/gr-diff-cursor/gr-diff-cursor.ts:import {PolymerDomWrapper} from \u0027../../../types/types\u0027;\napp/embed/diff/gr-diff-cursor/gr-diff-cursor.ts:import {toggleClass} from \u0027../../../utils/dom-util\u0027;\napp/embed/diff/gr-diff-cursor/gr-diff-cursor.ts:} from \u0027../../../elements/shared/gr-cursor-manager/gr-cursor-manager\u0027;\napp/embed/diff/gr-diff-cursor/gr-diff-cursor_test.js:import \u0027../../../test/common-test-setup-karma.js\u0027;\napp/embed/diff/gr-diff-cursor/gr-diff-cursor_test.js:import {listenOnce, mockPromise} from \u0027../../../test/test-utils.js\u0027;\napp/embed/diff/gr-diff-cursor/gr-diff-cursor_test.js:import {getMockDiffResponse} from \u0027../../../test/mocks/diff-response.js\u0027;\napp/embed/diff/gr-diff-cursor/gr-diff-cursor_test.js:import {createDefaultDiffPrefs} from \u0027../../../constants/constants.js\u0027;\napp/embed/diff/gr-diff-mode-selector/gr-diff-mode-selector_test.ts:import \u0027../../../test/common-test-setup-karma\u0027;\napp/embed/diff/gr-diff-mode-selector/gr-diff-mode-selector_test.ts:import {DiffViewMode} from \u0027../../../constants/constants\u0027;\napp/embed/diff/gr-diff-mode-selector/gr-diff-mode-selector_test.ts:import {stubUsers} from \u0027../../../test/test-utils\u0027;\napp/embed/diff/gr-diff-mode-selector/gr-diff-mode-selector.ts:import \u0027../../../styles/shared-styles\u0027;\napp/embed/diff/gr-diff-mode-selector/gr-diff-mode-selector.ts:import \u0027../../../elements/shared/gr-button/gr-button\u0027;\napp/embed/diff/gr-diff-mode-selector/gr-diff-mode-selector.ts:import {DiffViewMode} from \u0027../../../constants/constants\u0027;\napp/embed/diff/gr-diff-mode-selector/gr-diff-mode-selector.ts:import {FixIronA11yAnnouncer} from \u0027../../../types/types\u0027;\napp/embed/diff/gr-diff-mode-selector/gr-diff-mode-selector.ts:import {getAppContext} from \u0027../../../services/app-context\u0027;\napp/embed/diff/gr-diff-mode-selector/gr-diff-mode-selector.ts:import {fireIronAnnounce} from \u0027../../../utils/event-util\u0027;\napp/embed/diff/gr-diff-mode-selector/gr-diff-mode-selector.ts:import {browserModelToken} from \u0027../../../models/browser/browser-model\u0027;\napp/embed/diff/gr-diff-mode-selector/gr-diff-mode-selector.ts:import {resolve, DIPolymerElement} from \u0027../../../models/dependency\u0027;\napp/embed/diff/gr-ranged-comment-layer/gr-ranged-comment-layer.ts:import {strToClassName} from \u0027../../../utils/dom-util\u0027;\napp/embed/diff/gr-ranged-comment-layer/gr-ranged-comment-layer.ts:import {Side} from \u0027../../../constants/constants\u0027;\napp/embed/diff/gr-ranged-comment-layer/gr-ranged-comment-layer.ts:import {CommentRange} from \u0027../../../types/common\u0027;\napp/embed/diff/gr-ranged-comment-layer/gr-ranged-comment-layer.ts:import {DiffLayer, DiffLayerListener} from \u0027../../../types/types\u0027;\napp/embed/diff/gr-ranged-comment-layer/gr-ranged-comment-layer_test.js:import \u0027../../../test/common-test-setup-karma.js\u0027;\napp/embed/diff/gr-diff-image-viewer/gr-overview-image.ts:import {ImageDiffAction} from \u0027../../../api/diff\u0027;\napp/embed/diff/gr-diff-image-viewer/gr-image-viewer.ts:import {GrLibLoader} from \u0027../../../elements/shared/gr-lib-loader/gr-lib-loader\u0027;\napp/embed/diff/gr-diff-image-viewer/gr-image-viewer.ts:import {RESEMBLEJS_LIBRARY_CONFIG} from \u0027../../../elements/shared/gr-lib-loader/resemblejs_config\u0027;\napp/embed/diff/gr-diff-image-viewer/util.ts:import {ImageDiffAction} from \u0027../../../api/diff\u0027;\napp/embed/diff/gr-diff-image-viewer/util_test.js:import \u0027../../../test/common-test-setup-karma.js\u0027;\napp/embed/diff/gr-selection-action-box/gr-selection-action-box_test.js:import \u0027../../../test/common-test-setup-karma.js\u0027;\napp/embed/diff/gr-selection-action-box/gr-selection-action-box.ts:import \u0027../../../styles/shared-styles\u0027;\napp/embed/diff/gr-selection-action-box/gr-selection-action-box.ts:import \u0027../../../elements/shared/gr-tooltip/gr-tooltip\u0027;\napp/embed/diff/gr-selection-action-box/gr-selection-action-box.ts:import {GrTooltip} from \u0027../../../elements/shared/gr-tooltip/gr-tooltip\u0027;\napp/embed/diff/gr-selection-action-box/gr-selection-action-box.ts:import {fireEvent} from \u0027../../../utils/event-util\u0027;\napp/embed/diff/gr-syntax-layer/gr-syntax-layer.ts:import {CancelablePromise, util} from \u0027../../../scripts/util\u0027;\napp/embed/diff/gr-syntax-layer/gr-syntax-layer.ts:import {DiffFileMetaInfo, DiffInfo} from \u0027../../../types/diff\u0027;\napp/embed/diff/gr-syntax-layer/gr-syntax-layer.ts:import {DiffLayer, DiffLayerListener, HighlightJS} from \u0027../../../types/types\u0027;\napp/embed/diff/gr-syntax-layer/gr-syntax-layer.ts:import {GrLibLoader} from \u0027../../../elements/shared/gr-lib-loader/gr-lib-loader\u0027;\napp/embed/diff/gr-syntax-layer/gr-syntax-layer.ts:import {HLJS_LIBRARY_CONFIG} from \u0027../../../elements/shared/gr-lib-loader/highlightjs_config\u0027;\napp/embed/diff/gr-syntax-layer/gr-syntax-layer.ts:import {Side} from \u0027../../../constants/constants\u0027;\napp/embed/diff/gr-syntax-layer/gr-syntax-layer_test.js:import \u0027../../../test/common-test-setup-karma.js\u0027;\napp/embed/diff/gr-syntax-layer/gr-syntax-layer_test.js:import {getMockDiffResponse} from \u0027../../../test/mocks/diff-response.js\u0027;\napp/embed/diff/gr-diff-processor/gr-diff-processor.ts:import {CancelablePromise, util} from \u0027../../../scripts/util\u0027;\napp/embed/diff/gr-diff-processor/gr-diff-processor.ts:import {DiffContent} from \u0027../../../types/diff\u0027;\napp/embed/diff/gr-diff-processor/gr-diff-processor.ts:import {Side} from \u0027../../../constants/constants\u0027;\napp/embed/diff/gr-diff-processor/gr-diff-processor.ts:import {debounce, DelayedTask} from \u0027../../../utils/async-util\u0027;\napp/embed/diff/gr-diff-processor/gr-diff-processor.ts:import {RenderPreferences} from \u0027../../../api/diff\u0027;\napp/embed/diff/gr-diff-processor/gr-diff-processor_test.js:import \u0027../../../test/common-test-setup-karma.js\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder-unified_test.js:import \u0027../../../test/common-test-setup-karma.js\u0027;\napp/embed/diff/gr-diff-builder/token-highlight-layer.ts:import {DiffLayer, DiffLayerListener} from \u0027../../../types/types\u0027;\napp/embed/diff/gr-diff-builder/token-highlight-layer.ts:import {GrDiffLine, Side, TokenHighlightListener} from \u0027../../../api/diff\u0027;\napp/embed/diff/gr-diff-builder/token-highlight-layer.ts:import {assertIsDefined} from \u0027../../../utils/common-util\u0027;\napp/embed/diff/gr-diff-builder/token-highlight-layer.ts:import {debounce, DelayedTask} from \u0027../../../utils/async-util\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder-element_test.js:import \u0027../../../test/common-test-setup-karma.js\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder-element_test.js:import {getMockDiffResponse} from \u0027../../../test/mocks/diff-response.js\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder-element_test.js:import {stubBaseUrl} from \u0027../../../test/test-utils.js\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder-element_test.js:import {DiffViewMode, Side} from \u0027../../../api/diff.js\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder-element_test.js:import {stubRestApi} from \u0027../../../test/test-utils.js\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder-element.ts:import \u0027../../../elements/shared/gr-hovercard/gr-hovercard\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder-element.ts:import {CancelablePromise, util} from \u0027../../../scripts/util\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder-element.ts:import {BlameInfo, ImageInfo} from \u0027../../../types/common\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder-element.ts:import {DiffInfo, DiffPreferencesInfo} from \u0027../../../types/diff\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder-element.ts:import {CoverageRange, DiffLayer} from \u0027../../../types/types\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder-element.ts:import {DiffViewMode, RenderPreferences} from \u0027../../../api/diff\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder-element.ts:import {createDefaultDiffPrefs, Side} from \u0027../../../constants/constants\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder-element.ts:import {fireAlert, fireEvent} from \u0027../../../utils/event-util\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder-image.ts:import {ImageInfo} from \u0027../../../types/common\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder-image.ts:import {DiffInfo, DiffPreferencesInfo} from \u0027../../../types/diff\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder-image.ts:import {GrEndpointParam} from \u0027../../../elements/plugins/gr-endpoint-param/gr-endpoint-param\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder-image.ts:import {RenderPreferences} from \u0027../../../api/diff\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder.ts:} from \u0027../../../api/diff\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder.ts:import {getBaseUrl} from \u0027../../../utils/url-util\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder.ts:import {fire} from \u0027../../../utils/event-util\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder.ts:import {BlameInfo} from \u0027../../../types/common\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder.ts:} from \u0027../../../types/diff\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder.ts:import {DiffViewMode, Side} from \u0027../../../constants/constants\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder.ts:import {DiffLayer} from \u0027../../../types/types\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder-side-by-side.ts:import {DiffInfo, DiffPreferencesInfo} from \u0027../../../types/diff\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder-side-by-side.ts:import {DiffViewMode, Side} from \u0027../../../constants/constants\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder-side-by-side.ts:import {DiffLayer} from \u0027../../../types/types\u0027;\napp/embed/diff/gr-diff-builder/gr-diff-builder-side-by-side.ts:import {RenderPreferences} from \u0027../../../api/diff\u0027;\napp/embed/diff/gr-diff-builder/token-highlight-layer_test.ts:import \u0027../../../test/common-test-setup-karma\u0027;\n...\napp/embed/diff/gr-diff-builder/token-highlight-layer_test.ts:import {queryAndAssert} from \u0027../../../test/test-utils\u0027;\n...",
      "revId": "df4ec5a6bbb624522ac12aa9d075624aea138a32",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cd20335b_606dbbee",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 15
      },
      "lineNbr": 0,
      "author": {
        "id": 1088862
      },
      "writtenOn": "2022-01-31T17:58:56Z",
      "side": 1,
      "message": "I think we will have to these cases in small steps. Since this initial refactor already makes sense I\u0027m marking this comment as resolved.",
      "parentUuid": "f03d844c_3fcf6561",
      "revId": "df4ec5a6bbb624522ac12aa9d075624aea138a32",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}