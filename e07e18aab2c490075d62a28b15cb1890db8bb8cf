{
  "comments": [
    {
      "key": {
        "uuid": "70a120aa_30ca285f",
        "filename": "polygerrit-ui/app/elements/change/gr-file-list/gr-file-list.js",
        "patchSetId": 1
      },
      "lineNbr": 354,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2016-11-21T22:29:09Z",
      "side": 1,
      "message": "When the inline diffs are shown, this isn\u0027t an issue because preventing overflow is a feature built into the cursor manager. But that manager is only in effect when the diffs are not open, and it only curses through the lines of the diffs.\n\nAn alternative approach to solve this issue would be to create an additional cursor manager for when the diffs are closed. That way we don\u0027t have to duplicate logic already found in the cursor manager.\n\n* Rename this.$.cursor to this.$.diffLineCursor or similar.\n* Create a new cursor manager named this.$.fileCursor.\n* Send the user actions to the appropriate cursor based on the result of this._showInlineDiffs().\n\nWhat do you think?",
      "range": {
        "startLine": 353,
        "startChar": 8,
        "endLine": 354,
        "endChar": 65
      },
      "revId": "e07e18aab2c490075d62a28b15cb1890db8bb8cf",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "70a120aa_d0c2bc3f",
        "filename": "polygerrit-ui/app/elements/change/gr-file-list/gr-file-list.js",
        "patchSetId": 1
      },
      "lineNbr": 354,
      "author": {
        "id": 1029297
      },
      "writtenOn": "2016-11-21T22:36:18Z",
      "side": 1,
      "message": "Hmm. What exactly is the point of a cursor manager? I\u0027m unfamiliar with the concept. Looks like it refers to an object that manages scroll specifically for diffs.\n\nI\u0027m not entirely sure what the purpose of changing this code would be. This seems like the shortest path to getting where we need, since we have to keep track of selectedIndex anyway for other hotkeys that perform actions on that selected file.\n\nIn other words, I can see how what you\u0027re proposing would work, but I\u0027m not entirely sure why we should do it.",
      "parentUuid": "70a120aa_30ca285f",
      "revId": "e07e18aab2c490075d62a28b15cb1890db8bb8cf",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "70a120aa_909f544d",
        "filename": "polygerrit-ui/app/elements/change/gr-file-list/gr-file-list.js",
        "patchSetId": 1
      },
      "lineNbr": 354,
      "author": {
        "id": 1026519
      },
      "writtenOn": "2016-11-21T23:33:53Z",
      "side": 1,
      "message": "\u003e What exactly is the point of a cursor manager? [...] Looks like it refers to an object that manages scroll specifically for diffs.\n\nAha! Yeah, it\u0027s intentionally kind of abstract. To be clear, I\u0027m talking about gr-cursor-manager. OTOH, gr-diff-cursor is like a specialized cursor manager for diffs. There\u0027s a gr-cursor-manager inside it.\n\nThe cursor manager is for keeping track of a \"current\" DOM element among any arbitrary set of DOM elements, and moving forward or backward among them. For example, there\u0027s a gr-cursor-manager inside gr-autocomplete for cycling through the options.\n\nThe scroll behavior part of it is just an option. (Off by default I think.)\n\nWe originally borrowed it from the cr-cursor-manager in PolyReitveld [1]. That one\u0027s written for Polymer 0.5 IIRC.\n\n\u003e In other words, I can see how what you\u0027re proposing would work, but I\u0027m not entirely sure why we should do it.\n\nI concede that it probably doesn\u0027t need to hold up this change, but I think it\u0027s something worth upgrading this code at some point. Definitely a tool that\u0027s worth being aware of too.\n\nIf we don\u0027t use a cursor manager here, add a test for the bookending. (gr-cursor-manager already has tests for this.)\n\n* [1] https://chromium.googlesource.com/infra/infra/+/master/appengine/chromium_rietveld/new_static/common/cr-cursor-manager.html",
      "parentUuid": "70a120aa_d0c2bc3f",
      "revId": "e07e18aab2c490075d62a28b15cb1890db8bb8cf",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}