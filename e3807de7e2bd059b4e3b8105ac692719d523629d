{
  "comments": [
    {
      "key": {
        "uuid": "83d09a10_01014a5f",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/PluginLoader.java",
        "patchSetId": 16
      },
      "lineNbr": 147,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-12-02T16:45:41Z",
      "side": 1,
      "message": "Do we support originalName with extension or we don\u0027t?\n\nIf we don\u0027t then throw IllegalArgumentException here and remove this if.\nIf we do, then the line 159 seems to be wrong, as you add \".jar\" to fileName var and still use originalName var on line 159.\n\nI would personally prefer to preserve backward compatibility as i already mentioned in my previous review. So i still suggest to add a new optional plugin_type parameter to install plugin command, e. g.:\n\n enum {\n JAR\n JS,\n // future extension\n JYTHON,\n GROOVY,\n JRUBY,\n â€¦\n }\n\nand fall back to plugin_type \u003d jar if nothing provided. Consequently this method would get type enum.",
      "revId": "e3807de7e2bd059b4e3b8105ac692719d523629d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "839c1a85_01076a34",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/PluginLoader.java",
        "patchSetId": 16
      },
      "lineNbr": 147,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2013-12-04T11:59:03Z",
      "side": 1,
      "message": "Yes, we do support originalName with extension. If originalName ends with \".jar\" or \".js\" then we won\u0027t change it. If it is not, then we would append \".jar\" and assume that we are dealing with regular java based jar extension.\n\nIMO, enum here doesn\u0027t make sense. Plugin system is already complicated with Java and JS plugins. Other then that, one can still use groovy, jython plugin if they will properly initialize environment. Actually few weeks ago I was integrating Jython support into our plugins and it works fine (except of performance, therefore we dropped that idea).\n\nI wouldn\u0027t squeeze additional changes into this patch. It already huge and old! Adding plugin type parameter will make it even bigger. If we agree on having something like that it should be done in separate change. For now I would focus on polishing this one and improving it later on.",
      "parentUuid": "83d09a10_01014a5f",
      "revId": "e3807de7e2bd059b4e3b8105ac692719d523629d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "839c1a85_c100621b",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/PluginLoader.java",
        "patchSetId": 16
      },
      "lineNbr": 147,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-12-04T14:18:10Z",
      "side": 1,
      "message": "\"If it is not, then we would append \".jar\" and assume that we are dealing with regular java based jar extension.\"\n\n\nBut then i think you should use fileName variable on the line 159",
      "parentUuid": "839c1a85_01076a34",
      "revId": "e3807de7e2bd059b4e3b8105ac692719d523629d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "839c1a85_a1055e29",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/PluginLoader.java",
        "patchSetId": 16
      },
      "lineNbr": 159,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2013-12-04T14:18:10Z",
      "side": 1,
      "message": "Shouldn\u0027t it be:\n\n String fileExtension \u003d getExtension(fileName);",
      "revId": "e3807de7e2bd059b4e3b8105ac692719d523629d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "839c1a85_811b7a8c",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/plugins/PluginLoader.java",
        "patchSetId": 16
      },
      "lineNbr": 159,
      "author": {
        "id": 1010134
      },
      "writtenOn": "2013-12-04T14:30:35Z",
      "side": 1,
      "message": "yes it should...\n\nI really don\u0027t like working on more then 3 months old patches... and this one is more then on year old :/",
      "parentUuid": "839c1a85_a1055e29",
      "revId": "e3807de7e2bd059b4e3b8105ac692719d523629d",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}