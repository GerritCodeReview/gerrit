{
  "comments": [
    {
      "key": {
        "uuid": "571a8a68_348735d4",
        "filename": "java/com/google/gerrit/server/schema/SchemaCreator.java",
        "patchSetId": 9
      },
      "lineNbr": 105,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2017-11-08T12:38:14Z",
      "side": 1,
      "message": "bikeshed, but othre things use section \"notedb.groups\" for these, eg. https://gerrit.googlesource.com/gerrit/+/b4a4c58120e6d8d58f603d11dbda043042f8c034/java/com/google/gerrit/server/Sequences.java#75",
      "range": {
        "startLine": 105,
        "startChar": 33,
        "endLine": 105,
        "endChar": 43
      },
      "revId": "e3eee02683c425d8f47a2587f24ac1a25c6ca173",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8f451c94_797bab46",
        "filename": "java/com/google/gerrit/server/schema/SchemaCreator.java",
        "patchSetId": 9
      },
      "lineNbr": 105,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-11-08T13:21:21Z",
      "side": 1,
      "message": "This is just a temporary flag which should never be used by any human. Hence, we don\u0027t care about the section it is in.",
      "parentUuid": "571a8a68_348735d4",
      "range": {
        "startLine": 105,
        "startChar": 33,
        "endLine": 105,
        "endChar": 43
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "e3eee02683c425d8f47a2587f24ac1a25c6ca173",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f355e8d4_1dbd5b97",
        "filename": "java/com/google/gerrit/server/schema/SchemaCreator.java",
        "patchSetId": 9
      },
      "lineNbr": 129,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-11-08T12:40:46Z",
      "side": 1,
      "message": "I was a little surprised to see that this is not a part of AllUsersCreator. Since AllProjectsCreator already has optional setters for setAdministrators and setBatchUsers, ISTM AllUsersCreator could have similar setters.",
      "range": {
        "startLine": 126,
        "startChar": 4,
        "endLine": 129,
        "endChar": 5
      },
      "revId": "e3eee02683c425d8f47a2587f24ac1a25c6ca173",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "258b607b_d69cd6bd",
        "filename": "java/com/google/gerrit/server/schema/SchemaCreator.java",
        "patchSetId": 9
      },
      "lineNbr": 129,
      "author": {
        "id": 1030912
      },
      "writtenOn": "2017-11-08T13:21:21Z",
      "side": 1,
      "message": "I don\u0027t understand your comment. AllProjectsCreator doesn\u0027t create any groups. It just takes a reference to them and grants them some permission. The same holds for AllUsersCreator, which also allows to set and grant permissions for the admin group.",
      "parentUuid": "f355e8d4_1dbd5b97",
      "range": {
        "startLine": 126,
        "startChar": 4,
        "endLine": 129,
        "endChar": 5
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "e3eee02683c425d8f47a2587f24ac1a25c6ca173",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "188cc5b2_507b0166",
        "filename": "java/com/google/gerrit/server/schema/SchemaCreator.java",
        "patchSetId": 9
      },
      "lineNbr": 129,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2017-11-08T13:43:35Z",
      "side": 1,
      "message": "I initially expected this method to simply read:\n\n allProjectsCreator.setAdministrators(admins).setBatchUsers(batchUsers).create();\n allUsersCreator.setAdministrators(admins).setBatchUsers(batchUsers).create();\n\nand the code to create groups to live in the body of AllUsersCreator#create, so there is no implementation of group creation in this class.\n\nI think I have a reason that wouldn\u0027t be the best way to do it: group creation touches both All-Users and ReviewDb, and it wouldn\u0027t make sense for AllUsersCreator to be touching ReviewDb.",
      "parentUuid": "258b607b_d69cd6bd",
      "range": {
        "startLine": 126,
        "startChar": 4,
        "endLine": 129,
        "endChar": 5
      },
      "revId": "e3eee02683c425d8f47a2587f24ac1a25c6ca173",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "86546fce_35b28dbf",
        "filename": "java/com/google/gerrit/server/schema/SchemaCreator.java",
        "patchSetId": 9
      },
      "lineNbr": 129,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2017-11-08T14:33:27Z",
      "side": 1,
      "message": "Group creation was always done here even before we had an All-Users repository.\nI agree that once groups are in NoteDb only it makes more sense to do the group creation as part of AllUsersCreator.",
      "parentUuid": "188cc5b2_507b0166",
      "range": {
        "startLine": 126,
        "startChar": 4,
        "endLine": 129,
        "endChar": 5
      },
      "revId": "e3eee02683c425d8f47a2587f24ac1a25c6ca173",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}