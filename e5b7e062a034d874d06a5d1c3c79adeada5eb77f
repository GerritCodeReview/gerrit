{
  "comments": [
    {
      "key": {
        "uuid": "AAADf3////M\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/events/DependencyAttribute.java",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1010030
      },
      "writtenOn": "2012-03-02T15:50:35Z",
      "side": 1,
      "message": "boolean - see EventFactory class",
      "revId": "e5b7e062a034d874d06a5d1c3c79adeada5eb77f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADg3////Y\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/events/DependencyAttribute.java",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1010367
      },
      "writtenOn": "2012-03-02T23:19:12Z",
      "side": 1,
      "message": "This is a String in order to allow for tri-state output.  Since \u0027isCurrent\u0027 doesn\u0027t make sense for neededBy entries, empty strings allow this field to be left out of the neededBy output.  If it were boolean, we\u0027d have to have something there, even when it didn\u0027t make sense, no?",
      "parentUuid": "AAADf3////M\u003d",
      "revId": "e5b7e062a034d874d06a5d1c3c79adeada5eb77f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADiX////4\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/events/DependencyAttribute.java",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2012-03-03T16:34:29Z",
      "side": 1,
      "message": "Is it possible to use a Boolean object instead of the boolean primitive to achieve this tristate more clearly?",
      "parentUuid": "AAADg3////Y\u003d",
      "revId": "e5b7e062a034d874d06a5d1c3c79adeada5eb77f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADk3////4\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/events/DependencyAttribute.java",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1010367
      },
      "writtenOn": "2012-03-05T20:18:01Z",
      "side": 1,
      "message": "In my opinion, no.  The printing code would try to expand the Boolean object to explicitly show its value fields, and adding special handling on the printing side to stop this seems to me like more hassle/obfuscation than simply using a string in the first place.",
      "parentUuid": "AAADiX////4\u003d",
      "revId": "e5b7e062a034d874d06a5d1c3c79adeada5eb77f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADjn////o\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/events/DependencyAttribute.java",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1010030
      },
      "writtenOn": "2012-03-06T15:24:29Z",
      "side": 1,
      "message": "I think what Martin means is that you have the same tri-state with the Boolean wrapper (null, true, false), the print code doesn\u0027t need to be touched at all.",
      "parentUuid": "AAADk3////4\u003d",
      "revId": "e5b7e062a034d874d06a5d1c3c79adeada5eb77f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADk3////M\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/events/DependencyAttribute.java",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1010367
      },
      "writtenOn": "2012-03-06T22:11:30Z",
      "side": 1,
      "message": "Understood, but if the print code isn\u0027t touched, then it will print out all the fields inside the wrapper and we\u0027ll end up with:\n\n isCurrentPatchSet:\n   value: true\n\nOr something equivalent.  I would think that this kind of output would be undesirable.",
      "parentUuid": "AAADjn////o\u003d",
      "revId": "e5b7e062a034d874d06a5d1c3c79adeada5eb77f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADmH////s\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/events/DependencyAttribute.java",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2012-03-07T00:39:44Z",
      "side": 1,
      "message": "If you look at the ChangeAttribute class, it has a \"Boolean open\" variable.  When I run a query, I get:\n\n open: true\n\nI haven\u0027t tested the tri state support, but it does not seem to look bad for the true state at least.",
      "parentUuid": "AAADk3////M\u003d",
      "revId": "e5b7e062a034d874d06a5d1c3c79adeada5eb77f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADmX////8\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/events/DependencyAttribute.java",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1010030
      },
      "writtenOn": "2012-03-07T08:32:01Z",
      "side": 1,
      "message": "I went ahead and tested your change (with the Boolean), the output was:\n\n  open: true\n  status: NEW\n  dependsOn:\n    id: Ie8e9ced44bf733ce4dc5cc646979cdafda952164\n    number: 66\n    revision: e8e9ced44bf733ce4dc5cc646979cdafda952164\n    ref: refs/changes/66/66/1\n    isCurrentPatchSet: true\n  neededBy:\n    id: I7c961817dfd4b18d2950cec260612c40cc0aa395\n    number: 99\n    revision: 7c961817dfd4b18d2950cec260612c40cc0aa395\n    ref: refs/changes/99/99/1\n\ntype: stats\nrowCount: 5\nrunTimeMilliseconds: 151\n\nneededBy doesn\u0027t print isCurrentPatchSet, this was our concern right? Or am I missing something here?",
      "parentUuid": "AAADk3////M\u003d",
      "revId": "e5b7e062a034d874d06a5d1c3c79adeada5eb77f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADqH////c\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/events/DependencyAttribute.java",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1010367
      },
      "writtenOn": "2012-03-07T18:01:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AAADmX////8\u003d",
      "revId": "e5b7e062a034d874d06a5d1c3c79adeada5eb77f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADf3////U\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/events/EventFactory.java",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1010030
      },
      "writtenOn": "2012-03-02T15:50:35Z",
      "side": 1,
      "message": "Unused",
      "revId": "e5b7e062a034d874d06a5d1c3c79adeada5eb77f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADg3////s\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/events/EventFactory.java",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1010367
      },
      "writtenOn": "2012-03-02T23:19:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AAADf3////U\u003d",
      "revId": "e5b7e062a034d874d06a5d1c3c79adeada5eb77f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADf3////E\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/events/EventFactory.java",
        "patchSetId": 1
      },
      "lineNbr": 48,
      "author": {
        "id": 1010030
      },
      "writtenOn": "2012-03-02T15:50:35Z",
      "side": 1,
      "message": "These 3 new imports are unused",
      "revId": "e5b7e062a034d874d06a5d1c3c79adeada5eb77f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADg3////o\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/events/EventFactory.java",
        "patchSetId": 1
      },
      "lineNbr": 48,
      "author": {
        "id": 1010367
      },
      "writtenOn": "2012-03-02T23:19:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AAADf3////E\u003d",
      "revId": "e5b7e062a034d874d06a5d1c3c79adeada5eb77f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADf3////Q\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/events/EventFactory.java",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1010030
      },
      "writtenOn": "2012-03-02T15:50:35Z",
      "side": 1,
      "message": "This one as well",
      "revId": "e5b7e062a034d874d06a5d1c3c79adeada5eb77f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADg3////k\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/events/EventFactory.java",
        "patchSetId": 1
      },
      "lineNbr": 50,
      "author": {
        "id": 1010367
      },
      "writtenOn": "2012-03-02T23:19:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AAADf3////Q\u003d",
      "revId": "e5b7e062a034d874d06a5d1c3c79adeada5eb77f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADXH////o\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/events/EventFactory.java",
        "patchSetId": 1
      },
      "lineNbr": 125,
      "author": {
        "id": 1006454
      },
      "writtenOn": "2012-03-01T09:19:38Z",
      "side": 1,
      "message": "Similar code to traverse dependencies is also found in ChangeDetailFactory and also soon in my Rebase-feature (an upcoming patch set). I\u0027m thinking we should refactor out the dependency related code to it\u0027s own place and make it a bit more reusable. I can imagine more features needs to deal with change dependencies. Nothing you should change in this patchset, just an observation :)",
      "revId": "e5b7e062a034d874d06a5d1c3c79adeada5eb77f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADf3////Y\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/events/EventFactory.java",
        "patchSetId": 1
      },
      "lineNbr": 126,
      "author": {
        "id": 1010030
      },
      "writtenOn": "2012-03-02T15:50:35Z",
      "side": 1,
      "message": "Do we need constant time random access in these lists? Linear lists should be LinkedList.",
      "revId": "e5b7e062a034d874d06a5d1c3c79adeada5eb77f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADg3////g\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/events/EventFactory.java",
        "patchSetId": 1
      },
      "lineNbr": 126,
      "author": {
        "id": 1010367
      },
      "writtenOn": "2012-03-02T23:19:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AAADf3////Y\u003d",
      "revId": "e5b7e062a034d874d06a5d1c3c79adeada5eb77f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADln////A\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/events/EventFactory.java",
        "patchSetId": 1
      },
      "lineNbr": 126,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2012-03-07T00:39:44Z",
      "side": 1,
      "message": "I have to say, I don\u0027t really agree with this, what is your reasoning?  Doing appends only is likely to be faster with an ArrayList (in the real world almost everything is faster with an ArrayList).  You should consider a LinkedList when doing random inserts or removes while iterating.  Here you are only appending and doing iterative reads, in this case the theoretical times of both are close to the same, but an ArrayList performs better in the real world (mostly because of more localized caching and potentially lower memory usage).  Since you can only control the writers, and the writer is append only, and you cannot control the reader here, they may eventually do random reads (they don\u0027t currently), an ArrayList is probably better.  Not to mention that these lists will likely always be very small favoring the ArrayList again (one allocation instead of one for each item).",
      "parentUuid": "AAADf3////Y\u003d",
      "revId": "e5b7e062a034d874d06a5d1c3c79adeada5eb77f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADm3////8\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/events/EventFactory.java",
        "patchSetId": 1
      },
      "lineNbr": 126,
      "author": {
        "id": 1010030
      },
      "writtenOn": "2012-03-07T08:32:01Z",
      "side": 1,
      "message": "In this particular case, where the list is rather small, it really doesn\u0027t make a difference.",
      "parentUuid": "AAADln////A\u003d",
      "revId": "e5b7e062a034d874d06a5d1c3c79adeada5eb77f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADqX////g\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/events/EventFactory.java",
        "patchSetId": 1
      },
      "lineNbr": 126,
      "author": {
        "id": 1010367
      },
      "writtenOn": "2012-03-07T18:01:04Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "AAADm3////8\u003d",
      "revId": "e5b7e062a034d874d06a5d1c3c79adeada5eb77f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADf3////c\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/events/EventFactory.java",
        "patchSetId": 1
      },
      "lineNbr": 164,
      "author": {
        "id": 1010030
      },
      "writtenOn": "2012-03-02T15:50:35Z",
      "side": 1,
      "message": "Why not store them in a boolean?\n\nDependencyAttribute d \u003d newDependencyAttribute(c, ps);\nd.isCurrentPatchSet \u003d c.currPatchSetId().equals(ps.getId());\nreturn d;",
      "revId": "e5b7e062a034d874d06a5d1c3c79adeada5eb77f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADg3////c\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/events/EventFactory.java",
        "patchSetId": 1
      },
      "lineNbr": 164,
      "author": {
        "id": 1010367
      },
      "writtenOn": "2012-03-02T23:19:12Z",
      "side": 1,
      "message": "The strings allow the neededBy output to omit this field entirely instead of producing a meaningless and confusing boolean.",
      "parentUuid": "AAADf3////c\u003d",
      "revId": "e5b7e062a034d874d06a5d1c3c79adeada5eb77f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADf3////A\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/query/change/QueryProcessor.java",
        "patchSetId": 1
      },
      "lineNbr": 379,
      "author": {
        "id": 1010030
      },
      "writtenOn": "2012-03-02T15:50:35Z",
      "side": 1,
      "message": "Unrelated to your change, naming a variable \u0027thing\u0027 is quite extra ordinary.",
      "revId": "e5b7e062a034d874d06a5d1c3c79adeada5eb77f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAADiX////8\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/query/change/QueryProcessor.java",
        "patchSetId": 1
      },
      "lineNbr": 379,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2012-03-03T16:34:29Z",
      "side": 1,
      "message": "Note that this is a generic method which is meant to be able to print any sort of ojects out, thus the \"thing\".",
      "parentUuid": "AAADf3////A\u003d",
      "revId": "e5b7e062a034d874d06a5d1c3c79adeada5eb77f",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}