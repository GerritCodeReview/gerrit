{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ce4aad2d_919df1b4",
        "filename": "Documentation/rest-api.txt",
        "patchSetId": 4
      },
      "lineNbr": 264,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2021-06-01T11:21:32Z",
      "side": 1,
      "message": "Do we have to (URL-)encode project and branch names?\n\nSo can we have projects that have a ~ and still have a valid name?",
      "revId": "e76ae03c84192e3f146dab79b03ee174d0b0641a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "17d2882f_179c4e00",
        "filename": "Documentation/rest-api.txt",
        "patchSetId": 4
      },
      "lineNbr": 264,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-06-01T15:14:28Z",
      "side": 1,
      "message": "this feels unrelated to me, since I just copied the example request and adapted it (everywhere in our documentation is like that).\n\nReading the docs a bit, I see this format is just one form for a change id:\nhttps://gerrit-review.googlesource.com/Documentation/rest-api-changes.html#change-id\n\nAccording to this doc, if the project name itself had a \u0027~\u0027 in it, then this \u0027~\u0027 would need to be encoded, but this is not the case here. Makes sense?",
      "parentUuid": "ce4aad2d_919df1b4",
      "revId": "e76ae03c84192e3f146dab79b03ee174d0b0641a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "28079545_6294ca0b",
        "filename": "Documentation/rest-api.txt",
        "patchSetId": 4
      },
      "lineNbr": 264,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2021-06-01T15:26:04Z",
      "side": 1,
      "message": "Sorry I left the comment a bit further down. I am not talking about this in the docs, but how we surface this 4 parts separated by ~ in the code :-) \n\n\u003e According to this doc, if the project name itself had a \u0027~\u0027 in it, then this \u0027~\u0027 would need to be encoded\n\nRight. But we aren\u0027t doing that (yet), so we could produce headers that look like:\n\nfoo~bar~refs/heads/main~0..0~0..0\n\nWhich the receiver can\u0027t parse.",
      "parentUuid": "17d2882f_179c4e00",
      "revId": "e76ae03c84192e3f146dab79b03ee174d0b0641a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a4379a8f_91861faf",
        "filename": "java/com/google/gerrit/httpd/GerritAuthModule.java",
        "patchSetId": 4
      },
      "lineNbr": 41,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2021-06-01T11:21:32Z",
      "side": 1,
      "message": "This is a plugin extension point, so I think you have to give it a name:\n\nbind(...)\n.annotatedWith(Exports.named(Query.class))\n.to(...).",
      "range": {
        "startLine": 41,
        "startChar": 30,
        "endLine": 41,
        "endChar": 57
      },
      "revId": "e76ae03c84192e3f146dab79b03ee174d0b0641a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2bbcf774_59564654",
        "filename": "java/com/google/gerrit/httpd/GerritAuthModule.java",
        "patchSetId": 4
      },
      "lineNbr": 41,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-06-01T15:14:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a4379a8f_91861faf",
      "range": {
        "startLine": 41,
        "startChar": 30,
        "endLine": 41,
        "endChar": 57
      },
      "revId": "e76ae03c84192e3f146dab79b03ee174d0b0641a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1edb0cb0_0a0809c8",
        "filename": "java/com/google/gerrit/httpd/GerritAuthModule.java",
        "patchSetId": 4
      },
      "lineNbr": 42,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2021-06-01T11:21:32Z",
      "side": 1,
      "message": "The \u0027auth\u0027 module is the wrong place to bind this. Here, we only bind logic related to Authentication.\n\nCan you put it into GerritGlobalModule instead?",
      "range": {
        "startLine": 41,
        "startChar": 7,
        "endLine": 42,
        "endChar": 54
      },
      "revId": "e76ae03c84192e3f146dab79b03ee174d0b0641a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e76abc43_cb0bcd26",
        "filename": "java/com/google/gerrit/httpd/GerritAuthModule.java",
        "patchSetId": 4
      },
      "lineNbr": 42,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-06-01T15:14:28Z",
      "side": 1,
      "message": "GerritGlobalModule is in server.config package, which can\u0027t see gerrit.httpd package.\nIf I try to add it to the BUILD file, it finds a circular dependency: git.receive -\u003e server.restapi -\u003e server -\u003e httpd -\u003e git.receive.\n\nI just added a Module file, is that better?",
      "parentUuid": "1edb0cb0_0a0809c8",
      "range": {
        "startLine": 41,
        "startChar": 7,
        "endLine": 42,
        "endChar": 54
      },
      "revId": "e76ae03c84192e3f146dab79b03ee174d0b0641a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7f6db1b8_abc3c95f",
        "filename": "java/com/google/gerrit/httpd/GerritAuthModule.java",
        "patchSetId": 4
      },
      "lineNbr": 42,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2021-06-01T15:26:04Z",
      "side": 1,
      "message": "\u003e I just added a Module file, is that better?\n\nYep, that works as well!",
      "parentUuid": "e76abc43_cb0bcd26",
      "range": {
        "startLine": 41,
        "startChar": 7,
        "endLine": 42,
        "endChar": 54
      },
      "revId": "e76ae03c84192e3f146dab79b03ee174d0b0641a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6e7908a6_7cd44584",
        "filename": "java/com/google/gerrit/httpd/WebSession.java",
        "patchSetId": 4
      },
      "lineNbr": 57,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2021-06-01T11:21:32Z",
      "side": 1,
      "message": "better: use a thread-safe data type (e.g. CopyOnWriteArrayList or ArrayBlockingQueue)",
      "range": {
        "startLine": 57,
        "startChar": 65,
        "endLine": 57,
        "endChar": 74
      },
      "revId": "e76ae03c84192e3f146dab79b03ee174d0b0641a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c2536358_d36bbc0f",
        "filename": "java/com/google/gerrit/httpd/WebSession.java",
        "patchSetId": 4
      },
      "lineNbr": 57,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2021-06-01T11:21:32Z",
      "side": 1,
      "message": "Having member variables in interfaces is an anti-pattern.\n\nOther options:\na) make this an abstract class instead\nb) just add the methods and leave the implementation to implemetors",
      "range": {
        "startLine": 57,
        "startChar": 13,
        "endLine": 57,
        "endChar": 79
      },
      "revId": "e76ae03c84192e3f146dab79b03ee174d0b0641a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0883f92b_2ecb76a3",
        "filename": "java/com/google/gerrit/httpd/WebSession.java",
        "patchSetId": 4
      },
      "lineNbr": 57,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-06-01T15:14:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6e7908a6_7cd44584",
      "range": {
        "startLine": 57,
        "startChar": 65,
        "endLine": 57,
        "endChar": 74
      },
      "revId": "e76ae03c84192e3f146dab79b03ee174d0b0641a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dbde2126_e4c27839",
        "filename": "java/com/google/gerrit/httpd/WebSession.java",
        "patchSetId": 4
      },
      "lineNbr": 57,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-06-01T15:14:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c2536358_d36bbc0f",
      "range": {
        "startLine": 57,
        "startChar": 13,
        "endLine": 57,
        "endChar": 79
      },
      "revId": "e76ae03c84192e3f146dab79b03ee174d0b0641a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a5034e23_36e13985",
        "filename": "java/com/google/gerrit/httpd/restapi/RestApiServlet.java",
        "patchSetId": 4
      },
      "lineNbr": 312,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2021-06-01T11:21:32Z",
      "side": 1,
      "message": "@Singleton",
      "range": {
        "startLine": 312,
        "startChar": 2,
        "endLine": 312,
        "endChar": 4
      },
      "revId": "e76ae03c84192e3f146dab79b03ee174d0b0641a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cd7a3f14_5ee7f16c",
        "filename": "java/com/google/gerrit/httpd/restapi/RestApiServlet.java",
        "patchSetId": 4
      },
      "lineNbr": 312,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2021-06-01T11:21:32Z",
      "side": 1,
      "message": "Any reason this has to be a subclass of the (already cluttered) RESTApiServlet?",
      "range": {
        "startLine": 312,
        "startChar": 22,
        "endLine": 312,
        "endChar": 41
      },
      "revId": "e76ae03c84192e3f146dab79b03ee174d0b0641a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "58a0aab3_0077b8de",
        "filename": "java/com/google/gerrit/httpd/restapi/RestApiServlet.java",
        "patchSetId": 4
      },
      "lineNbr": 312,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-06-01T15:14:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a5034e23_36e13985",
      "range": {
        "startLine": 312,
        "startChar": 2,
        "endLine": 312,
        "endChar": 4
      },
      "revId": "e76ae03c84192e3f146dab79b03ee174d0b0641a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5efe4a15_1b9f1883",
        "filename": "java/com/google/gerrit/httpd/restapi/RestApiServlet.java",
        "patchSetId": 4
      },
      "lineNbr": 312,
      "author": {
        "id": 1085183
      },
      "writtenOn": "2021-06-01T15:14:28Z",
      "side": 1,
      "message": "because it\u0027s a very small class and only used by this class? :-)\n\nI don\u0027t mind moving it though, done.",
      "parentUuid": "cd7a3f14_5ee7f16c",
      "range": {
        "startLine": 312,
        "startChar": 22,
        "endLine": 312,
        "endChar": 41
      },
      "revId": "e76ae03c84192e3f146dab79b03ee174d0b0641a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "55c721f5_13a0a369",
        "filename": "java/com/google/gerrit/httpd/restapi/RestApiServlet.java",
        "patchSetId": 4
      },
      "lineNbr": 800,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2021-06-01T11:21:32Z",
      "side": 1,
      "message": "nice!",
      "range": {
        "startLine": 796,
        "startChar": 0,
        "endLine": 800,
        "endChar": 65
      },
      "revId": "e76ae03c84192e3f146dab79b03ee174d0b0641a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}