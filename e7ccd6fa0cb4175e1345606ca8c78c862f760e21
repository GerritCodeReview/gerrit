{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "3138d097_13ea0e6e",
        "filename": "polygerrit-ui/app/elements/diff/gr-comment-api/gr-comment-api.ts",
        "patchSetId": 64
      },
      "lineNbr": 142,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-11-26T09:33:58Z",
      "side": 1,
      "message": "I think you can remove this getter. We do not want to expose _portedComments, right?",
      "revId": "e7ccd6fa0cb4175e1345606ca8c78c862f760e21",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e9d21a41_847eb261",
        "filename": "polygerrit-ui/app/elements/diff/gr-comment-api/gr-comment-api.ts",
        "patchSetId": 64
      },
      "lineNbr": 142,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2020-11-26T11:55:41Z",
      "side": 1,
      "message": "There is access in reloadDrafts() in #797 method so we need the getter.",
      "parentUuid": "3138d097_13ea0e6e",
      "revId": "e7ccd6fa0cb4175e1345606ca8c78c862f760e21",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fbb5bbb4_6d0e4faf",
        "filename": "polygerrit-ui/app/elements/diff/gr-comment-api/gr-comment-api.ts",
        "patchSetId": 64
      },
      "lineNbr": 142,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-11-26T14:04:13Z",
      "side": 1,
      "message": "Change that line to use the private property such that we can remove the public getter.",
      "parentUuid": "e9d21a41_847eb261",
      "revId": "e7ccd6fa0cb4175e1345606ca8c78c862f760e21",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc3e558e_5c315f7d",
        "filename": "polygerrit-ui/app/elements/diff/gr-comment-api/gr-comment-api.ts",
        "patchSetId": 64
      },
      "lineNbr": 142,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2020-11-26T17:17:46Z",
      "side": 1,
      "message": "IIUC the method is outside the class and so the access(as expected) throws an error when accessing _portedComments property directly.",
      "parentUuid": "fbb5bbb4_6d0e4faf",
      "revId": "e7ccd6fa0cb4175e1345606ca8c78c862f760e21",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "42fb15e9_ba24d00c",
        "filename": "polygerrit-ui/app/elements/diff/gr-comment-api/gr-comment-api.ts",
        "patchSetId": 64
      },
      "lineNbr": 142,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-11-26T20:30:19Z",
      "side": 1,
      "message": "But you agree that portedComments should never be called from a UI component? If yes, then what do you suggest doing?",
      "parentUuid": "dc3e558e_5c315f7d",
      "revId": "e7ccd6fa0cb4175e1345606ca8c78c862f760e21",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e308ab82_85a444ae",
        "filename": "polygerrit-ui/app/elements/diff/gr-comment-api/gr-comment-api.ts",
        "patchSetId": 64
      },
      "lineNbr": 341,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-11-26T09:33:58Z",
      "side": 1,
      "message": "getThreadsBySideForPath() and getThreadsBySideForFile() are duplicating code. Can you avoid this?",
      "range": {
        "startLine": 341,
        "startChar": 2,
        "endLine": 341,
        "endChar": 25
      },
      "revId": "e7ccd6fa0cb4175e1345606ca8c78c862f760e21",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "170e6b05_c85c4678",
        "filename": "polygerrit-ui/app/elements/diff/gr-comment-api/gr-comment-api.ts",
        "patchSetId": 64
      },
      "lineNbr": 341,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2020-11-26T11:55:41Z",
      "side": 1,
      "message": "You mean the 2-3 lines of code for pushing the threads or merging the two methods entirely(there is a TODO for that)?\nIf you mean the 2-3 lines, I didn\u0027t think it was worth to create a separate function for that.",
      "parentUuid": "e308ab82_85a444ae",
      "range": {
        "startLine": 341,
        "startChar": 2,
        "endLine": 341,
        "endChar": 25
      },
      "revId": "e7ccd6fa0cb4175e1345606ca8c78c862f760e21",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a1aad6d3_0d2d28ab",
        "filename": "polygerrit-ui/app/elements/diff/gr-comment-api/gr-comment-api.ts",
        "patchSetId": 64
      },
      "lineNbr": 341,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-11-26T14:04:13Z",
      "side": 1,
      "message": "getThreadsBySideForPath consumes 17 lines: 341-357\ngetThreadsBySideForFile consumes 17 lines: 526-542\n\nSo I am not sure which 2-3 lines you are referring to. :-)\n\nWhich TODO are you referring to?\n\ngetThreadsBySideForPath and getThreadsBySideForFile look very similar to me, so I just wanted to know whether you have an idea for how to improve that.",
      "parentUuid": "170e6b05_c85c4678",
      "range": {
        "startLine": 341,
        "startChar": 2,
        "endLine": 341,
        "endChar": 25
      },
      "revId": "e7ccd6fa0cb4175e1345606ca8c78c862f760e21",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7fb926d4_71c2488c",
        "filename": "polygerrit-ui/app/elements/diff/gr-comment-api/gr-comment-api.ts",
        "patchSetId": 64
      },
      "lineNbr": 341,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2020-11-26T17:17:46Z",
      "side": 1,
      "message": "// TODO(taoalpha): maybe merge *ForPath so find all comments in one pass\nIt\u0027s on Line number 525.\n\nThere\u0027s basically not that much difference in the getXForFile or getXForPath methods and there are multiple TODOs to fix them.\n\n17 lines looks like a lot but the two functions are making 2 different calls for *file and *path and then the creation of ported threads(3 lines) is the repeated part.\n\nI added a TODO to merge these two *thread methods once the TODO on line 525 is resolved.\nDo you see a way to merge these two without resolving that TODO(the one on 525)?",
      "parentUuid": "a1aad6d3_0d2d28ab",
      "range": {
        "startLine": 341,
        "startChar": 2,
        "endLine": 341,
        "endChar": 25
      },
      "revId": "e7ccd6fa0cb4175e1345606ca8c78c862f760e21",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "18581196_71bb0eab",
        "filename": "polygerrit-ui/app/elements/diff/gr-comment-api/gr-comment-api.ts",
        "patchSetId": 64
      },
      "lineNbr": 341,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-11-26T20:30:19Z",
      "side": 1,
      "message": "\u003e Do you see a way to merge these two without resolving that TODO(the one on 525)?\n\nYes, I do. :-) Can show you on Tuesday.",
      "parentUuid": "7fb926d4_71c2488c",
      "range": {
        "startLine": 341,
        "startChar": 2,
        "endLine": 341,
        "endChar": 25
      },
      "revId": "e7ccd6fa0cb4175e1345606ca8c78c862f760e21",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "79953950_df9b088a",
        "filename": "polygerrit-ui/app/elements/diff/gr-comment-api/gr-comment-api.ts",
        "patchSetId": 64
      },
      "lineNbr": 417,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-11-26T09:33:58Z",
      "side": 1,
      "message": "This comment is not helpful, because it just describes the code.\n\nI would be more interested in \"Why?\", because the thread is created within getPortedCommentThreads() and not used anywhere else, right?\n\nIf you end up removing the code for copying, then maybe just inline the method.",
      "revId": "e7ccd6fa0cb4175e1345606ca8c78c862f760e21",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "340b9fba_6c6d0499",
        "filename": "polygerrit-ui/app/elements/diff/gr-comment-api/gr-comment-api.ts",
        "patchSetId": 64
      },
      "lineNbr": 417,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2020-11-26T11:55:41Z",
      "side": 1,
      "message": "Removed the method and no need for copying.",
      "parentUuid": "79953950_df9b088a",
      "revId": "e7ccd6fa0cb4175e1345606ca8c78c862f760e21",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1e1c1572_482b6196",
        "filename": "polygerrit-ui/app/elements/diff/gr-comment-api/gr-comment-api.ts",
        "patchSetId": 64
      },
      "lineNbr": 463,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-11-26T09:33:58Z",
      "side": 1,
      "message": "Maybe better:\n\n  const portedComments \u003d this._portedComments[path];\n  if (!portedComments) return [];",
      "range": {
        "startLine": 461,
        "startChar": 4,
        "endLine": 463,
        "endChar": 42
      },
      "revId": "e7ccd6fa0cb4175e1345606ca8c78c862f760e21",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "01d71adc_79b5c84c",
        "filename": "polygerrit-ui/app/elements/diff/gr-comment-api/gr-comment-api.ts",
        "patchSetId": 64
      },
      "lineNbr": 463,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2020-11-26T11:55:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1e1c1572_482b6196",
      "range": {
        "startLine": 461,
        "startChar": 4,
        "endLine": 463,
        "endChar": 42
      },
      "revId": "e7ccd6fa0cb4175e1345606ca8c78c862f760e21",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0bc90cf4_cdb0f3fb",
        "filename": "polygerrit-ui/app/elements/diff/gr-comment-api/gr-comment-api.ts",
        "patchSetId": 64
      },
      "lineNbr": 487,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-11-26T09:33:58Z",
      "side": 1,
      "message": "Is this doing the right thing? thread.patchNum is never \u0027PARENT\u0027.\n\ngetCommentsBySideForPath has a more sophisticated way of filtering/comparing using _isInBaseOfPatchRange() and _isInRevisionOfPatchRange(). Should they also be used here?",
      "revId": "e7ccd6fa0cb4175e1345606ca8c78c862f760e21",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "765014dd_86d82516",
        "filename": "polygerrit-ui/app/elements/diff/gr-comment-api/gr-comment-api.ts",
        "patchSetId": 64
      },
      "lineNbr": 487,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2020-11-26T11:55:41Z",
      "side": 1,
      "message": "This is simply checking if thread will be displayed on the left side already.\nIn case of posting a comment when comparing Base vs X, the thread info has patchset X and commentSide \u003d PARENT, so the other check will then be true\nthread.patchNum \u003d\u003d X \u003d\u003d patchRange.patchNum.\n\n_isInBaseOfPatchRange does look more sophisticated.\nUsing _isInBaseOfPatchRange instead.",
      "parentUuid": "0bc90cf4_cdb0f3fb",
      "revId": "e7ccd6fa0cb4175e1345606ca8c78c862f760e21",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "12ddb93a_04f0615e",
        "filename": "polygerrit-ui/app/elements/diff/gr-comment-api/gr-comment-api.ts",
        "patchSetId": 64
      },
      "lineNbr": 501,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-11-26T09:33:58Z",
      "side": 1,
      "message": "Maybe move this up to where thread.range and thread.line are set.",
      "revId": "e7ccd6fa0cb4175e1345606ca8c78c862f760e21",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0241e5d2_fe54231a",
        "filename": "polygerrit-ui/app/elements/diff/gr-comment-api/gr-comment-api.ts",
        "patchSetId": 64
      },
      "lineNbr": 501,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2020-11-26T11:55:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "12ddb93a_04f0615e",
      "revId": "e7ccd6fa0cb4175e1345606ca8c78c862f760e21",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9614e682_249fe645",
        "filename": "polygerrit-ui/app/elements/diff/gr-comment-api/gr-comment-api.ts",
        "patchSetId": 64
      },
      "lineNbr": 502,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-11-26T09:33:58Z",
      "side": 1,
      "message": "Given the complexity of the change, the amount of comments and the lack of tests, we should maybe consider dealing with some of the complexity is follow-up changes. It would be totally fine to restrict this change to the case `thread.commentSide !\u003d\u003d CommentSide.PARENT` and add a TODO.",
      "revId": "e7ccd6fa0cb4175e1345606ca8c78c862f760e21",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2ad949f6_6666f2c8",
        "filename": "polygerrit-ui/app/elements/diff/gr-comment-api/gr-comment-api.ts",
        "patchSetId": 64
      },
      "lineNbr": 502,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2020-11-26T11:55:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9614e682_249fe645",
      "revId": "e7ccd6fa0cb4175e1345606ca8c78c862f760e21",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "300b054b_a448d58e",
        "filename": "polygerrit-ui/app/elements/diff/gr-comment-api/gr-comment-api.ts",
        "patchSetId": 64
      },
      "lineNbr": 503,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-11-26T09:33:58Z",
      "side": 1,
      "message": "Isn\u0027t `patchRange.basePatchNum` the property that determines whether the diff is \u0027Base vs X\u0027?",
      "range": {
        "startLine": 503,
        "startChar": 39,
        "endLine": 503,
        "endChar": 58
      },
      "revId": "e7ccd6fa0cb4175e1345606ca8c78c862f760e21",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "156aa258_facb6769",
        "filename": "polygerrit-ui/app/elements/diff/gr-comment-api/gr-comment-api.ts",
        "patchSetId": 64
      },
      "lineNbr": 503,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2020-11-26T11:55:41Z",
      "side": 1,
      "message": "Obsolete, tackling this in a follow up change as suggested.",
      "parentUuid": "300b054b_a448d58e",
      "range": {
        "startLine": 503,
        "startChar": 39,
        "endLine": 503,
        "endChar": 58
      },
      "revId": "e7ccd6fa0cb4175e1345606ca8c78c862f760e21",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e5c9592f_cbab9716",
        "filename": "polygerrit-ui/app/elements/diff/gr-comment-api/gr-comment-api.ts",
        "patchSetId": 64
      },
      "lineNbr": 505,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2020-11-26T09:33:58Z",
      "side": 1,
      "message": "How do these patchsets relate to these?\n  thread.patchNum\n  patchRange.basePatchNum\n  patchRange.patchNum",
      "range": {
        "startLine": 505,
        "startChar": 13,
        "endLine": 505,
        "endChar": 34
      },
      "revId": "e7ccd6fa0cb4175e1345606ca8c78c862f760e21",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b7925279_20292d40",
        "filename": "polygerrit-ui/app/elements/diff/gr-comment-api/gr-comment-api.ts",
        "patchSetId": 64
      },
      "lineNbr": 505,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2020-11-26T11:55:41Z",
      "side": 1,
      "message": "Obsolete, tackling this in a follow up change as suggested.",
      "parentUuid": "e5c9592f_cbab9716",
      "range": {
        "startLine": 505,
        "startChar": 13,
        "endLine": 505,
        "endChar": 34
      },
      "revId": "e7ccd6fa0cb4175e1345606ca8c78c862f760e21",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}