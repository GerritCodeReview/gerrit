{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "46c52c6f_7d951ceb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-02-08T08:57:00Z",
      "side": 1,
      "message": "I don\u0027t much favour this change and I think it\u0027s a bit brittle. I couldn\u0027t come up with a better alternative though.\n\nOne extra note: currently non-applicable SRs are still returned by the API, i.e. we always return results for all SRs and FE filters non-applicable SRs out. With this change we\u0027ll be hiding some SRs from BE.",
      "revId": "e7d9c738bb15f2fe5457865c73ffdb6ce2bc433b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c6df0749_babf0eca",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1118500
      },
      "writtenOn": "2022-02-08T09:56:05Z",
      "side": 1,
      "message": "Thank you for taking a look! I agree, but I also couldn\u0027t come up with the best alternative.\n\nYes, this is desired, I think there is no need to return the hidden results from the API.",
      "parentUuid": "46c52c6f_7d951ceb",
      "revId": "e7d9c738bb15f2fe5457865c73ffdb6ce2bc433b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b4de6f83_e605d410",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-02-08T10:45:29Z",
      "side": 1,
      "message": "Ack.",
      "parentUuid": "c6df0749_babf0eca",
      "revId": "e7d9c738bb15f2fe5457865c73ffdb6ce2bc433b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "71a70d7d_e7aa66c2",
        "filename": "java/com/google/gerrit/entities/SubmitRequirementResult.java",
        "patchSetId": 4
      },
      "lineNbr": 70,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-02-08T08:57:00Z",
      "side": 1,
      "message": "I\u0027d prefer we clearly document why this is needed. i.e. append the following\n\nWhen changes get merged submit requirement results are stored in NoteDb. {@link OnStoreSubmitRequirementResultModifier} can modify the status of SRs before the change is merged. This can sometimes result in non-applicable SRs becoming overridden (?). In this case, we still want to to hide the SR from the API as if it was non-applicable.",
      "revId": "e7d9c738bb15f2fe5457865c73ffdb6ce2bc433b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b17ce7e5_2ad844ca",
        "filename": "java/com/google/gerrit/entities/SubmitRequirementResult.java",
        "patchSetId": 4
      },
      "lineNbr": 70,
      "author": {
        "id": 1118500
      },
      "writtenOn": "2022-02-08T09:56:05Z",
      "side": 1,
      "message": "I added the line that this can be used by OnStoreSubmitRequirementResultModifier.\n\nAlso clarified this is to hide the result from the API vs just hidden by the frontend.",
      "parentUuid": "71a70d7d_e7aa66c2",
      "revId": "e7d9c738bb15f2fe5457865c73ffdb6ce2bc433b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5fa0fac1_fa8eb09f",
        "filename": "java/com/google/gerrit/entities/SubmitRequirementResult.java",
        "patchSetId": 4
      },
      "lineNbr": 70,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2022-02-08T10:42:27Z",
      "side": 1,
      "message": "\u003e merged. This can sometimes result in non-applicable SRs becoming overridden (?). \u003e In this case, we still want to to hide the SR from the API as if it was non-applicable.\n\nRather than adding a boolean field \u0027hidden\u0027, would it be easier to add more statuses to the SR, eg. where we have the OVERRIDDEN/SATISFIED enum today, we could have OVERRIDDEN/SATISFIED/AUDIT_OVERRIDDEN/ ..  ? that seems more direct than first repurposing OVERRIDDEN for our audit mechanism, to only add a \u0027hidden\u0027 field on  top of it.",
      "parentUuid": "b17ce7e5_2ad844ca",
      "revId": "e7d9c738bb15f2fe5457865c73ffdb6ce2bc433b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e5e4e841_7bdf1840",
        "filename": "java/com/google/gerrit/entities/SubmitRequirementResult.java",
        "patchSetId": 4
      },
      "lineNbr": 70,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-02-08T10:45:29Z",
      "side": 1,
      "message": "+1. That\u0027s much better actually. Thanks Hanwen.",
      "parentUuid": "5fa0fac1_fa8eb09f",
      "revId": "e7d9c738bb15f2fe5457865c73ffdb6ce2bc433b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "33de8beb_1f50103e",
        "filename": "java/com/google/gerrit/entities/SubmitRequirementResult.java",
        "patchSetId": 4
      },
      "lineNbr": 70,
      "author": {
        "id": 1118500
      },
      "writtenOn": "2022-02-08T12:25:32Z",
      "side": 1,
      "message": "Currently, the SR status is not saved in the SR result, it is computed depending on the SR expression results [1]\nIntroducing new statuses would require either adding the new non-computed property to SR Result and probably more statuses to SR expression result [2]\n\nTo me, this approach does not seem more transparent, but I am happy to go this direction if we agree otherwise.\n\n[1] https://gerrit.googlesource.com/gerrit/+/3e1ab6e4094421c4aaea44d34dfb9e04164d2f47/java/com/google/gerrit/entities/SubmitRequirementResult.java#96\n[2] https://gerrit.googlesource.com/gerrit/+/3e1ab6e4094421c4aaea44d34dfb9e04164d2f47/java/com/google/gerrit/entities/SubmitRequirementExpressionResult.java#102",
      "parentUuid": "e5e4e841_7bdf1840",
      "revId": "e7d9c738bb15f2fe5457865c73ffdb6ce2bc433b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ddc360e4_602407c0",
        "filename": "java/com/google/gerrit/entities/SubmitRequirementResult.java",
        "patchSetId": 4
      },
      "lineNbr": 70,
      "author": {
        "id": 1091982
      },
      "writtenOn": "2022-02-09T09:31:14Z",
      "side": 1,
      "message": "Yes, adding this to statuses entails doing the same as the FORCED status so we would still need an additional field. OK this LGTM.\n\nNote: previously we were able to auto-compute all statuses for SRResult. Now with {FORCED, HIDDEN} we have two other states that are set by callers. It might be better to refactor status and allow callers to set all values, then we can move FORCED, HIDDEN to become two additional states. We can do in a separate change though.",
      "parentUuid": "33de8beb_1f50103e",
      "revId": "e7d9c738bb15f2fe5457865c73ffdb6ce2bc433b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}