{
  "comments": [
    {
      "key": {
        "uuid": "AAAGzn////o\u003d",
        "filename": "gerrit-sshd/src/main/java/com/google/gerrit/sshd/commands/Receive.java",
        "patchSetId": 2
      },
      "lineNbr": 108,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2012-06-20T23:13:50Z",
      "side": 1,
      "message": "username may be blank, perhaps use some form of getEmailName()?",
      "revId": "ead5add88761eb2804cd00b4105c733690baf4ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAG2X////s\u003d",
        "filename": "gerrit-sshd/src/main/java/com/google/gerrit/sshd/commands/Receive.java",
        "patchSetId": 2
      },
      "lineNbr": 108,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2012-06-21T08:02:20Z",
      "side": 1,
      "message": "Hmm, right, username might not be set. Actually I stole this piece of formatting the user from com.google.gerrit.sshd.BaseCommand line 331 to 336. Do you think we also have a problem there?",
      "parentUuid": "AAAGzn////o\u003d",
      "revId": "ead5add88761eb2804cd00b4105c733690baf4ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAG1H///0E\u003d",
        "filename": "gerrit-sshd/src/main/java/com/google/gerrit/sshd/commands/Receive.java",
        "patchSetId": 2
      },
      "lineNbr": 108,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2012-06-22T16:18:55Z",
      "side": 1,
      "message": "sshd.BaseCommand, no. The only place users can perform Git operations and not have a username is my environment (aka gerrit-review)... and we don\u0027t run sshd.BaseCommand there as we have no SSH server.\n\nPerhaps:\n\n  Objects.firstNonNull(\n    currentUser.getUserName(),\n    currentUser.getAccount().getPreferredEmail());",
      "parentUuid": "AAAG2X////s\u003d",
      "revId": "ead5add88761eb2804cd00b4105c733690baf4ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAG33////o\u003d",
        "filename": "gerrit-sshd/src/main/java/com/google/gerrit/sshd/commands/Receive.java",
        "patchSetId": 2
      },
      "lineNbr": 108,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2012-06-22T17:05:17Z",
      "side": 1,
      "message": "Ok, but this class here also inherits from BaseCommand. Means if we throw the Failure below in line 157, BaseCommand will write the log entry, and for this log entry the username is just formatted as above. Is this Receive command not used on gerrit-review?\n\nDone.",
      "parentUuid": "AAAG1H///0E\u003d",
      "revId": "ead5add88761eb2804cd00b4105c733690baf4ac",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}