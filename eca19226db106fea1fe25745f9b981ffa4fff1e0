{
  "pushCert": "certificate version 0.1\npusher Dave Borowitz \u003cdborowitz@google.com\u003e 1522694907 -0400\nnonce AFN+CTIfHrQK0IR2Yd7xDPfjzXIs7F6NEusR0xDAvuphVhY2F9FpOAGA3aPeEYqVmcT2BvZtj9LI\n\n0000000000000000000000000000000000000000 940008649d9ae68b6adb93d9011ea55151e18687 refs/for/master%r\u003dekempin@google.com,r\u003ddavid.ostrovsky@gmail.com\n-----BEGIN PGP SIGNATURE-----\n\niQJJBAABCgAzFiEEpPm/sOxWgSqG5grhX9fFmpoSiIwFAlrCevsVHGRib3Jvd2l0\nekBnb29nbGUuY29tAAoJEF/XxZqaEoiM86gP+wbmrt7RTYt7adQ1HxJpD407m89j\npEIEFJVwPIsuFbjOQ9b/u028Uf5SjXOFlDqWZM18CRk/IsmmEGu2C1duQBkq3Ig6\n2DIbUF9Nbfib2MImitwfePojRvq/aagkrgiCAExIyZk/mjmW3TkTN3eYCvnFzGrp\n+yvlGsqzpAse8k5XmHibUfgipqAqF0MAoB4hwLotDHuSCoV2mG1w3svDjIkSIsgb\n5kxK3j/NFjDkAYJud+ht1FZY/rYHvaafOnyMp+fGVnbOO8sbv6ukjzcZzZygRNkD\nXYj4ssauwHcuhpxbS9z/zNTSKT1QSQCbezRWS67y8bVgx6jru3Fb6xuGPvUnmcsu\nSmHbXbN2nss/Lnlp5V/8C1i+sFbXAFzW3hIN0c2IrOzdHWs3OuTwSFrIc/oNI4xv\ncRRNnPYUBu8JyDZKsHQ2lqXF/k7TniNCPXTyIN8kt+vMi++Z2i7CC/jf2Jfy64UW\nCBH6KaPu5YHpI8AHOKqBCCwBt0n1VwWwLbWwaYYF9rmJwzsipsRGSlN7mEKBt8H6\nwVPwILj/XDRYqqTE3gw73t2+g4VldbmVYW0Wx2t/DjGhU709vYhvm94+pmIiilps\nYtqVDFKAHDcc3CODbrjHfyvWs2vSlbtu1Q1WUnCIOo8bfRF/rFkazSUQ7/Dt/Cnv\n4w+1cikcOBvl5fNI\n\u003dw/MI\n-----END PGP SIGNATURE-----\n",
  "comments": [
    {
      "key": {
        "uuid": "6e6ae1b2_4c01bd88",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2018-04-03T09:15:01Z",
      "side": 1,
      "message": "While this seems to apply to VersionedMetaData class, it probably does not really apply to MetaDataUpdate class? Given its dependency on IdentifiedUser, it would be hard to break the dependency cycle. So that we cannot do either of the below:\n\n* rest of the server package depends on the new server.git.meta-package\n* new server.git.meta-package depends on the rest of the server package\n\nOne approach to sovle that is to try to refactor MetaDataUpdate and isolate the part of this class in the new package, that doesn\u0027t contain IdentifiedUser and other tight coupled server classes, while preserving the other part in the server package. But, not sure if it\u0027s realy make sense from the callers point of view (untill inheritance could fix that and make that change transparent for th callers).\n\nBeside the feasibility of isolation issue of the new package in its own build rule (own BUILD file), i agree with this change and this series, that was already approved.",
      "range": {
        "startLine": 10,
        "startChar": 5,
        "endLine": 11,
        "endChar": 51
      },
      "revId": "eca19226db106fea1fe25745f9b981ffa4fff1e0",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4aec677a_2c9a6356",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2018-04-03T12:33:37Z",
      "side": 1,
      "message": "\u003e Given its dependency on IdentifiedUser, it would be hard to break the dependency cycle.\n\nI think I probably phrased this paragraph wrong. Let me try again.\n\nMy goal is to rename com.google.gerrit.server.git -\u003e com.google.gerrit.git and have that package only contain git-related utilities that have no real Gerrit dependencies. This is probably at least a dozen or so class files that we can move out of the server package.\n\nAs you say, without significant refactoring to MetaDataUpdate (which is probably a good idea anyway, but unrelated to this series), we will still have this dep on IdentifiedUser. Therefore, MetaDataUpdate can\u0027t live in the com.google.gerrit.git package. Instead, we should move it somewhere else, for example com.google.gerrit.server.git.meta. The git.meta package will have a dep on both the git package and the server package; it\u0027ll also remain part of the server build target.\n\nWith that in mind, do you agree that this change still makes sense?",
      "parentUuid": "6e6ae1b2_4c01bd88",
      "range": {
        "startLine": 10,
        "startChar": 5,
        "endLine": 11,
        "endChar": 51
      },
      "revId": "eca19226db106fea1fe25745f9b981ffa4fff1e0",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4293a41f_504cd1a2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2018-04-03T15:16:04Z",
      "side": 1,
      "message": "Sure, rename c.g.g.server.git -\u003e c.g.g.git and isolate them from the rest of gerrit.server package makes a lot of sense. The dependency direction should be then gerrit.server -\u003e gerrit.git. Another candidate is change edit related commit and tree mutation classes, that reside in server.edit.git package and could be probably easily isolated.\n\nAs the intermediate step we move not that easy to isolate MetaDataUpdate class out of that candidate package. Correct and thanks for claryfying.\n\nThough, in that light couldn\u0027t we preserve the current location of the VersionedMetaData that can be a part of isolated com.google.gerrit.git package, that is independent from the rest of the server code? Of course we could re-move it later again from c.g.g.server.git.meta -\u003e c.g.g.git, but that would be rather noisy.",
      "parentUuid": "4aec677a_2c9a6356",
      "range": {
        "startLine": 10,
        "startChar": 5,
        "endLine": 11,
        "endChar": 51
      },
      "revId": "eca19226db106fea1fe25745f9b981ffa4fff1e0",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}