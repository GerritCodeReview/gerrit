{
  "comments": [
    {
      "key": {
        "uuid": "ea7ec9ce_7be18f27",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 9,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2018-01-15T23:42:07Z",
      "side": 1,
      "message": "nit: an",
      "range": {
        "startLine": 9,
        "startChar": 56,
        "endLine": 9,
        "endChar": 57
      },
      "revId": "ed2d7f0330866c1d8690fef5117f9e37803dfb85",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "17b5e23b_1b948acb",
        "filename": "javatests/com/google/gerrit/acceptance/ssh/UploadArchiveIT.java",
        "patchSetId": 5
      },
      "lineNbr": 103,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2018-01-15T16:26:50Z",
      "side": 1,
      "message": "This is not necessary. Default is: all formats are enabled.",
      "range": {
        "startLine": 103,
        "startChar": 2,
        "endLine": 103,
        "endChar": 57
      },
      "revId": "ed2d7f0330866c1d8690fef5117f9e37803dfb85",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "36f91dc5_d91c3928",
        "filename": "javatests/com/google/gerrit/acceptance/ssh/UploadArchiveIT.java",
        "patchSetId": 5
      },
      "lineNbr": 103,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2018-01-16T09:11:20Z",
      "side": 1,
      "message": "I actually get \n\n1) txzFormat(com.google.gerrit.acceptance.ssh.UploadArchiveIT)\njava.lang.AssertionError: got packet on channel 3 [\u0003fatal: upload-archive not permitted]\n\non my laptop. It seems the configuration of this test is not hermetic?",
      "parentUuid": "17b5e23b_1b948acb",
      "range": {
        "startLine": 103,
        "startChar": 2,
        "endLine": 103,
        "endChar": 57
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "ed2d7f0330866c1d8690fef5117f9e37803dfb85",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4a290bbd_8622314a",
        "filename": "javatests/com/google/gerrit/acceptance/ssh/UploadArchiveIT.java",
        "patchSetId": 5
      },
      "lineNbr": 103,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2018-01-16T09:59:01Z",
      "side": 1,
      "message": "That\u0027s because you broke the code by removing \"-9 \" part in the line. Your comannd construction is invalid, as it now ends up with:\n\n -f\u003d\"tar.xz--prefix\"\n\nAnd such format doesn\u0027t exist, obviously. That only emphasizes, that we must verify, that we are getting the correct stream back, instead of\n\n  if (channel !\u003d 1) {...\n\nthat doesn\u0027t really help.",
      "parentUuid": "36f91dc5_d91c3928",
      "range": {
        "startLine": 103,
        "startChar": 2,
        "endLine": 103,
        "endChar": 57
      },
      "revId": "ed2d7f0330866c1d8690fef5117f9e37803dfb85",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "43da9bb9_9fb47836",
        "filename": "javatests/com/google/gerrit/acceptance/ssh/UploadArchiveIT.java",
        "patchSetId": 5
      },
      "lineNbr": 103,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2018-01-16T10:44:34Z",
      "side": 1,
      "message": "I disagree.  I think the message in https://gerrit.googlesource.com/gerrit/+/f5760b4bafbaee7606af93017bad5d6652f7bd8d/java/com/google/gerrit/sshd/commands/UploadArchive.java#176 should mention the format that is not permitted.",
      "parentUuid": "4a290bbd_8622314a",
      "range": {
        "startLine": 103,
        "startChar": 2,
        "endLine": 103,
        "endChar": 57
      },
      "revId": "ed2d7f0330866c1d8690fef5117f9e37803dfb85",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "18aa3400_4d38066e",
        "filename": "javatests/com/google/gerrit/acceptance/ssh/UploadArchiveIT.java",
        "patchSetId": 5
      },
      "lineNbr": 129,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2018-01-16T08:06:12Z",
      "side": 1,
      "message": "Actually, I would expect, that something like that works (like it is the case in zip format above):\n\n  // Skip length (4 bytes) + 1 byte\n  // to position the output stream to the raw zip stream\n    byte[] buffer \u003d new byte[5];\n    IO.readFully(out, buffer, 0, 5);\n    OutputStream out2 \u003d new ByteArrayOutputStream();\n    try (XZCompressorInputStream xzIn \u003d new XZCompressorInputStream(out)) {\n      final byte[] buffer2 \u003d new byte[1024];\n      int n \u003d 0;\n      while (-1 !\u003d (n \u003d xzIn.read(buffer2))) {\n          out2.write(buffer2, 0, n);\n    }\n    // TODO(davido): verify tar content\n\nThe header of the XZ file is correctly verified, but it seems that the content cannot be read correctly: [1].\n\n* [1] http://paste.openstack.org/show/645664",
      "range": {
        "startLine": 124,
        "startChar": 6,
        "endLine": 129,
        "endChar": 7
      },
      "revId": "ed2d7f0330866c1d8690fef5117f9e37803dfb85",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f207594c_2522d795",
        "filename": "javatests/com/google/gerrit/acceptance/ssh/UploadArchiveIT.java",
        "patchSetId": 5
      },
      "lineNbr": 129,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2018-01-16T09:11:20Z",
      "side": 1,
      "message": "I don\u0027t have time to look further into this, so I suggest to leave this for another change. As it stands the test at least ensures that nobody else will try to delete the XZ dependency.\n\nthis code (as well as the zip verifying code) is cutting a corner: if the remote end sends a progress message for some reason, it doesn\u0027t get interpreted and causes corruption.",
      "parentUuid": "18aa3400_4d38066e",
      "range": {
        "startLine": 124,
        "startChar": 6,
        "endLine": 129,
        "endChar": 7
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "ed2d7f0330866c1d8690fef5117f9e37803dfb85",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1c09fcb6_45ce36c4",
        "filename": "javatests/com/google/gerrit/acceptance/ssh/UploadArchiveIT.java",
        "patchSetId": 5
      },
      "lineNbr": 129,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2018-01-16T10:00:40Z",
      "side": 1,
      "message": "Sorry, but I\u0027m not acepting broken tests. Better no tests at all as it\u0027s currently the case, then a broken test, that doesn\u0027t test anything.",
      "parentUuid": "f207594c_2522d795",
      "range": {
        "startLine": 124,
        "startChar": 6,
        "endLine": 129,
        "endChar": 7
      },
      "revId": "ed2d7f0330866c1d8690fef5117f9e37803dfb85",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d7ef7c72_0449ab28",
        "filename": "javatests/com/google/gerrit/acceptance/ssh/UploadArchiveIT.java",
        "patchSetId": 5
      },
      "lineNbr": 137,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2018-01-15T16:26:50Z",
      "side": 1,
      "message": "This is zip compression specific option and should be omited for tar.xz format.",
      "range": {
        "startLine": 137,
        "startChar": 12,
        "endLine": 137,
        "endChar": 20
      },
      "revId": "ed2d7f0330866c1d8690fef5117f9e37803dfb85",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "910617e3_a18544bc",
        "filename": "javatests/com/google/gerrit/acceptance/ssh/UploadArchiveIT.java",
        "patchSetId": 5
      },
      "lineNbr": 137,
      "author": {
        "id": 1024147
      },
      "writtenOn": "2018-01-16T09:11:20Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d7ef7c72_0449ab28",
      "range": {
        "startLine": 137,
        "startChar": 12,
        "endLine": 137,
        "endChar": 20
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "ed2d7f0330866c1d8690fef5117f9e37803dfb85",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}