{
  "comments": [
    {
      "key": {
        "uuid": "b095f3be_1b55bbda",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-09-25T11:27:08Z",
      "side": 1,
      "message": "These words should be separated, i think.",
      "range": {
        "startLine": 10,
        "startChar": 25,
        "endLine": 10,
        "endChar": 40
      },
      "revId": "f18a24435f7df53e46f5479fb16976f651725e56",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b095f3be_fbf80f99",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2014-09-25T12:14:24Z",
      "side": 1,
      "message": "Done\nI\u0027m not sure either...",
      "parentUuid": "b095f3be_1b55bbda",
      "range": {
        "startLine": 10,
        "startChar": 25,
        "endLine": 10,
        "endChar": 40
      },
      "revId": "f18a24435f7df53e46f5479fb16976f651725e56",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90646fc9_da0c2514",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/webui/ProjectWebLink.java",
        "patchSetId": 3
      },
      "lineNbr": 29,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-09-25T11:25:07Z",
      "side": 1,
      "message": "I just commented on another change [1], that we should do it like UiAction. And there we called it UiAction.Description: WebLink.Description? But that\u0027s only names.\n\n [1] https://gerrit-review.googlesource.com/60324/",
      "range": {
        "startLine": 29,
        "startChar": 2,
        "endLine": 29,
        "endChar": 13
      },
      "revId": "f18a24435f7df53e46f5479fb16976f651725e56",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90646fc9_facac954",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/webui/ProjectWebLink.java",
        "patchSetId": 3
      },
      "lineNbr": 29,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2014-09-25T12:14:24Z",
      "side": 1,
      "message": "I\u0027m not entirely sure what you\u0027re after here except that WebLink doesn\u0027t \"own\" WebLinkInfo.\n(I thought about refactoring it into the WebLink interface since it\u0027s unlikely that the structure is very useful in a scenario where the Interface can\u0027t be used).",
      "parentUuid": "90646fc9_da0c2514",
      "range": {
        "startLine": 29,
        "startChar": 2,
        "endLine": 29,
        "endChar": 13
      },
      "revId": "f18a24435f7df53e46f5479fb16976f651725e56",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90646fc9_da6ee50d",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/webui/ProjectWebLink.java",
        "patchSetId": 3
      },
      "lineNbr": 29,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-09-29T12:11:42Z",
      "side": 1,
      "message": "I haven\u0027t checked, if this would work, but can\u0027t we redesign the whole WebLink machinery to match UiAction with Resource parametrizing? That way we could for example define WebLink\u003cRevisionResource\u003e to specify WebLink for revision. The interface would define one method:\n\n  public interface WebLink\u003cR\u003e {\n    Description getDescription(R resource);\n  }\n\nOr to stay with your WebLinkInfo class:\n\n  public interface WebLink\u003cR\u003e {\n    WebLinkInfo getDescription(R resource);\n  }\n\nWe do have resources for every web link you are providing:\n\n* FileResource\n* RevisionResource\n* BranchResource\n* ProjectResource\n\nWith this design all what you need is just gather web links for specific resource, \"evaluate it\" by passing resource instance and render JSON response context specific. That way you are potentially supporting web links for all existing resources:\n\n* gerrit-server/src/main/java/com/google/gerrit/server/access/AccessResource.java\n* gerrit-server/src/main/java/com/google/gerrit/server/account/AccountResource.java\n* gerrit-server/src/main/java/com/google/gerrit/server/change/ChangeResource.java\n* gerrit-server/src/main/java/com/google/gerrit/server/change/CommentResource.java\n* gerrit-server/src/main/java/com/google/gerrit/server/change/DraftResource.java\n* gerrit-server/src/main/java/com/google/gerrit/server/change/FileResource.java\n* gerrit-server/src/main/java/com/google/gerrit/server/change/ReviewerResource.java\n* gerrit-server/src/main/java/com/google/gerrit/server/change/RevisionResource.java\n* gerrit-server/src/main/java/com/google/gerrit/server/config/CapabilityResource.java\n* gerrit-server/src/main/java/com/google/gerrit/server/config/ConfigResource.java\n* [...]\n\nwithout creating a new link type specific class, like you are doing now with extending the attribute name for specific resource. Resources are aware of their attribute, e. g. BranchResource is branch aware and FileResource is file aware, etc.",
      "parentUuid": "90646fc9_facac954",
      "range": {
        "startLine": 29,
        "startChar": 2,
        "endLine": 29,
        "endChar": 13
      },
      "revId": "f18a24435f7df53e46f5479fb16976f651725e56",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b095f3be_1bae9b1c",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/webui/ProjectWebLink.java",
        "patchSetId": 3
      },
      "lineNbr": 29,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2014-09-29T14:57:52Z",
      "side": 1,
      "message": "This is nice, but my intentions were that you should be able to implement the various weblinks with one single class, to reuse link name and image url. Maybe we don\u0027t want to care about that.\nIt could work if the plugin implemented the raw WebLink\u003cRestResource\u003e interface and did something like [1]. I don\u0027t know any better way to implement it (not saying there isn\u0027t a better way) but maybe we don\u0027t care to much about the implementability of the extensionpoints.\n\n[1]\n  private WebLinkInfo getWebLinkInfo(BranchResource br){\n    return new  WebLinkInfo(getLinkName(), getImageUrl(),\n        getBranchUrl(br.getName(), br.getBranchKey().get()), getTarget());\n  }\n  private WebLinkInfo getWeblinkInfo(RevisionResource rr) {\n    return new WebLinkInfo(getLinkName(),\n        getImageUrl(),\n        getPatchSetUrl(rr.getChange().getProject().get(),\n            rr.getPatchSet().getRevision().get()),\n        getTarget());\n  }\n  @Override\n  public WebLinkInfo getWebLinkInfoFor(RestResource resource) {\n    if(resource instanceof RevisionResource) {\n      return getWeblinkInfo((RevisionResource) resource);\n    }else if (resource instanceof BranchResource) {\n      return getWebLinkInfo((BranchResource) resource);\n    } else {\n      return null;\n    }\n  }",
      "parentUuid": "90646fc9_da6ee50d",
      "range": {
        "startLine": 29,
        "startChar": 2,
        "endLine": 29,
        "endChar": 13
      },
      "revId": "f18a24435f7df53e46f5479fb16976f651725e56",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b03fb4b4_d0909c58",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/webui/ProjectWebLink.java",
        "patchSetId": 3
      },
      "lineNbr": 29,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2014-09-30T15:12:29Z",
      "side": 1,
      "message": "I addressed this in cookbook-plugin change [1].\n\n [1] https://gerrit-review.googlesource.com/60321",
      "parentUuid": "b095f3be_1bae9b1c",
      "range": {
        "startLine": 29,
        "startChar": 2,
        "endLine": 29,
        "endChar": 13
      },
      "revId": "f18a24435f7df53e46f5479fb16976f651725e56",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0104c40_baecf125",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/webui/ProjectWebLink.java",
        "patchSetId": 3
      },
      "lineNbr": 29,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2014-10-01T06:28:46Z",
      "side": 1,
      "message": "Yes and I realized I wasn\u0027t thinking. :-)",
      "parentUuid": "b03fb4b4_d0909c58",
      "range": {
        "startLine": 29,
        "startChar": 2,
        "endLine": 29,
        "endChar": 13
      },
      "revId": "f18a24435f7df53e46f5479fb16976f651725e56",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}