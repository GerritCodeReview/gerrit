{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "5ab05645_8ebbad27",
        "filename": "polygerrit-ui/app/elements/settings/gr-edit-preferences/gr-edit-preferences.ts",
        "patchSetId": 5
      },
      "lineNbr": 59,
      "author": {
        "id": 1013302
      },
      "writtenOn": "2022-03-24T08:41:06Z",
      "side": 1,
      "message": "This should also be @state, because rendering depends on it.",
      "revId": "f1bf93de2fb7101c69d0ae574d71d9eb81f787b4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "03726bf0_3ca93804",
        "filename": "polygerrit-ui/app/elements/settings/gr-edit-preferences/gr-edit-preferences_test.ts",
        "patchSetId": 5
      },
      "lineNbr": 108,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2022-03-24T08:16:45Z",
      "side": 1,
      "message": "there should be an API request made in `updateEditPreference` method in the model at some point which you can stub(using `stubRestApi`) to ensure the new value is applied to the model.\n\nIf you need to wait for it we have the `waitUntilObserver` util function [1] which you can use here.\n\n[1] https://cs.opensource.google/gerrit/gerrit/gerrit/+/master:polygerrit-ui/app/elements/change-list/gr-change-list-bulk-abandon-flow/gr-change-list-bulk-abandon-flow_test.ts;l\u003d278?q\u003dbulk-abandon-flow",
      "range": {
        "startLine": 108,
        "startChar": 4,
        "endLine": 108,
        "endChar": 40
      },
      "revId": "f1bf93de2fb7101c69d0ae574d71d9eb81f787b4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "04d1a295_880a0ef9",
        "filename": "polygerrit-ui/app/elements/settings/gr-edit-preferences/gr-edit-preferences_test.ts",
        "patchSetId": 5
      },
      "lineNbr": 108,
      "author": {
        "id": 1029953
      },
      "writtenOn": "2022-03-24T11:06:00Z",
      "side": 1,
      "message": "I\u0027ve tried:\n\n    const saveEditPrefStub \u003d stubRestApi(\u0027saveEditPreferences\u0027).returns(\n      Promise.resolve(editPreferences)\n    );\n    \nbut it doesn\u0027t seem to work as in it doesn\u0027t trigger setEditPreferences within updateEditPreference.\n\nAny ideas how to get it to work?",
      "parentUuid": "03726bf0_3ca93804",
      "range": {
        "startLine": 108,
        "startChar": 4,
        "endLine": 108,
        "endChar": 40
      },
      "revId": "f1bf93de2fb7101c69d0ae574d71d9eb81f787b4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a360e8c4_258d375e",
        "filename": "polygerrit-ui/app/elements/settings/gr-edit-preferences/gr-edit-preferences_test.ts",
        "patchSetId": 5
      },
      "lineNbr": 108,
      "author": {
        "id": 1083225
      },
      "writtenOn": "2022-03-24T11:31:02Z",
      "side": 1,
      "message": "saveEditPreferences has return type of Response so the compiler should have immediately told you the types don\u0027t match.\n\nThe returned response is then sent to getResponseObject so what you need instead is\n\n```\nstubRestApi(\u0027getResponseObject\u0027).returns(\n      Promise.resolve(element.editPrefs! as unknown as ParsedJSON)\n    );\n```\n\nI verified that this works locally.",
      "parentUuid": "04d1a295_880a0ef9",
      "range": {
        "startLine": 108,
        "startChar": 4,
        "endLine": 108,
        "endChar": 40
      },
      "revId": "f1bf93de2fb7101c69d0ae574d71d9eb81f787b4",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}