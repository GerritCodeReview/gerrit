{
  "comments": [
    {
      "key": {
        "uuid": "ab260c84_f6d551e2",
        "filename": "java/com/google/gerrit/server/git/validators/CommitValidators.java",
        "patchSetId": 1
      },
      "lineNbr": 406,
      "author": {
        "id": 1083042
      },
      "writtenOn": "2020-03-19T10:16:34Z",
      "side": 1,
      "message": "I feel bad about not thinking about this at the time :-/\n\nI think the CommitValidationListener interface should be improved to solve this issue more generally:\n- Add a method validateDirectPush() that descendants have to implement so they cannot overlook this aspect.\n- Remove the default implementation of shouldValidateAllCommits(). That name could also be clearer, e.g. ignoreSkipValidation() or allowSkipValidation() or something like that. Currently the name is unclear and you have to read the @return documentation to understand what the method does.",
      "revId": "f315ea343c02218fd811e435e2f0be5878ae3f9c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4de09bb6_fbc3a242",
        "filename": "java/com/google/gerrit/server/git/validators/CommitValidators.java",
        "patchSetId": 1
      },
      "lineNbr": 406,
      "author": {
        "id": 1026112
      },
      "writtenOn": "2020-03-19T10:25:08Z",
      "side": 1,
      "message": "No problem.\n\nYou are right about the interface being the better and cleaner way to get this sorted, but it exceeds the amount of work I can do ad-hoc.\n\nAs for the interface, there aren\u0027t just two cases (direct vs. for review), there is also the case that Gerrit updates the ref from the WebUI. Trivially, that looks like a direct push, but it is not.\n\nSo the question is if we want to proceed with this as a bug fix while a cleaner solution is in the works. WDYT?",
      "parentUuid": "ab260c84_f6d551e2",
      "revId": "f315ea343c02218fd811e435e2f0be5878ae3f9c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a976ae5a_51ba4417",
        "filename": "java/com/google/gerrit/server/git/validators/CommitValidators.java",
        "patchSetId": 1
      },
      "lineNbr": 406,
      "author": {
        "id": 1083042
      },
      "writtenOn": "2020-03-19T10:41:46Z",
      "side": 1,
      "message": "\u003e No problem.\n\u003e \n\u003e You are right about the interface being the better and cleaner way to get this sorted, but it exceeds the amount of work I can do ad-hoc.\n\nLooks like I have a topic for the Quarterly Qleanup :-) I filed b/151911514.\n \n\u003e As for the interface, there aren\u0027t just two cases (direct vs. for review), there is also the case that Gerrit updates the ref from the WebUI. Trivially, that looks like a direct push, but it is not.\n\nDo we need to distinguish these cases here?\n\nDo you have an example implication of this distinction? Should it be indicated in the CommitReceivedEvent?\n \n\u003e So the question is if we want to proceed with this as a bug fix while a cleaner solution is in the works. WDYT?\n\nSGTM. Can you add a short comment/todo/reference to b/151911514?",
      "parentUuid": "4de09bb6_fbc3a242",
      "revId": "f315ea343c02218fd811e435e2f0be5878ae3f9c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}