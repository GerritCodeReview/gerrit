{
  "comments": [
    {
      "key": {
        "uuid": "a78c0e88_50520c67",
        "filename": "gerrit-reviewdb/src/main/java/com/google/gerrit/reviewdb/client/PatchSet.java",
        "patchSetId": 3
      },
      "lineNbr": 191,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-01-19T17:17:34Z",
      "side": 1,
      "message": "This needs to be 8 and note that 7 is deleted.",
      "range": {
        "startLine": 191,
        "startChar": 15,
        "endLine": 191,
        "endChar": 16
      },
      "revId": "f69a41ff60de497a6d2ab108c4590c12db85e3b8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "47719252_6d66552c",
        "filename": "gerrit-reviewdb/src/main/java/com/google/gerrit/reviewdb/client/PatchSet.java",
        "patchSetId": 3
      },
      "lineNbr": 191,
      "author": {
        "id": 1023869
      },
      "writtenOn": "2016-01-19T20:30:57Z",
      "side": 1,
      "message": "Beginner question: Why should it be changed? What happens if it stays 7? Should it also be changed in I495ed0e133 (on the stable-2.12 branch)?",
      "parentUuid": "a78c0e88_50520c67",
      "range": {
        "startLine": 191,
        "startChar": 15,
        "endLine": 191,
        "endChar": 16
      },
      "revId": "f69a41ff60de497a6d2ab108c4590c12db85e3b8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "47719252_cdd189f6",
        "filename": "gerrit-reviewdb/src/main/java/com/google/gerrit/reviewdb/client/PatchSet.java",
        "patchSetId": 3
      },
      "lineNbr": 191,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2016-01-19T21:32:08Z",
      "side": 1,
      "message": "Well, i renamed columns 3 years ago and the id was preserved: [1]. So what is the difference in this rename?\nIt was also pointed out by Shawn in his article, that the renames are trivial, because they are not stored in the Bigtable [2]:\n\n Column rename\n\n We really don\u0027t care about column renames.\n The column names themselves are not stored in\n Bigtable or in the encoded protobuf messages.\n Column names are only in the application software.\n A column name change is just a recompile, similar to a method name change.\n\nIn the same article he also said that:\n\n  What we cannot do is change field IDs. Once used in an @Column annotation,\n  we are stuck with that ID number forever. :)\n\n* [1] https://gerrit-review.googlesource.com/#/c/47736/11/gerrit-reviewdb/src/main/java/com/google/gerrit/reviewdb/client/AccountGeneralPreferences.java@131\n* [2] https://groups.google.com/d/topic/repo-discuss/iR-T8fTRC7E/discussion",
      "parentUuid": "a78c0e88_50520c67",
      "range": {
        "startLine": 191,
        "startChar": 15,
        "endLine": 191,
        "endChar": 16
      },
      "revId": "f69a41ff60de497a6d2ab108c4590c12db85e3b8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "47719252_8ddb8112",
        "filename": "gerrit-reviewdb/src/main/java/com/google/gerrit/reviewdb/client/PatchSet.java",
        "patchSetId": 3
      },
      "lineNbr": 191,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2016-01-19T21:32:08Z",
      "side": 1,
      "message": "This has something to do with how Gerrit is run @Google. They are using different persistence backend: Google Megastore: distributed multi-master database (that uses Bigtable for data storage within a single datacenter): [1], [2]. See also Shawn\u0027s article I referenced in my previous comment.\n\n* [1] http://research.google.com/pubs/pub36971.html\n* [2] http://static.googleusercontent.com/media/research.google.com/en//pubs/archive/36971.pdf",
      "parentUuid": "47719252_6d66552c",
      "range": {
        "startLine": 191,
        "startChar": 15,
        "endLine": 191,
        "endChar": 16
      },
      "revId": "f69a41ff60de497a6d2ab108c4590c12db85e3b8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "47719252_2dedadaa",
        "filename": "gerrit-reviewdb/src/main/java/com/google/gerrit/reviewdb/client/PatchSet.java",
        "patchSetId": 3
      },
      "lineNbr": 191,
      "author": {
        "id": 1023869
      },
      "writtenOn": "2016-01-19T22:28:49Z",
      "side": 1,
      "message": "Hmm. Ok. Thanks for all the references. I have started reading Shawn\u0027s mail (your [2]).\n\nSo I understand that we should not change the id here since it was 7 when Dave introduced the column with Ib020bd261.\n\nBut if 7 refers to deleted data in a BigTable, there are problems already now, right?\n\n@Dave: If 7 was a bad value then, can we really fix it by changing it now? I guess only Google can answer that *hint*, since it depends on what schema versions have been put in use by Google.",
      "parentUuid": "47719252_cdd189f6",
      "range": {
        "startLine": 191,
        "startChar": 15,
        "endLine": 191,
        "endChar": 16
      },
      "revId": "f69a41ff60de497a6d2ab108c4590c12db85e3b8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c785825a_f1154890",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/schema/Schema_117.java",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2016-01-19T07:23:37Z",
      "side": 1,
      "message": "There are currently 4 open changes that add Schema_117 :(\n\nhttps://gerrit-review.googlesource.com/#/q/file:Schema_117.java",
      "revId": "f69a41ff60de497a6d2ab108c4590c12db85e3b8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "674856fe_be5d592e",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/schema/Schema_117.java",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-01-19T17:17:34Z",
      "side": 1,
      "message": "Yeah but this one is the most recently reviewed ;)",
      "parentUuid": "c785825a_f1154890",
      "revId": "f69a41ff60de497a6d2ab108c4590c12db85e3b8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "67313682_964dec75",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/schema/Schema_117.java",
        "patchSetId": 3
      },
      "lineNbr": 33,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2016-01-19T06:03:15Z",
      "side": 1,
      "message": "Ah, but this should work, without gwtorm change.\n\n  try (StatementExecutor e \u003d newExecutor(db)) {\n    ((JdbcSchema)db).renameColumn();\n  }",
      "revId": "f69a41ff60de497a6d2ab108c4590c12db85e3b8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "272bbe19_f4a45877",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/schema/Schema_117.java",
        "patchSetId": 3
      },
      "lineNbr": 33,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2016-01-19T06:03:15Z",
      "side": 1,
      "message": "Use static method in static way:\n\n  SchemaVersion.renameColumn()\n\n?",
      "range": {
        "startLine": 33,
        "startChar": 4,
        "endLine": 33,
        "endChar": 16
      },
      "revId": "f69a41ff60de497a6d2ab108c4590c12db85e3b8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c785825a_51dc5437",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/schema/Schema_117.java",
        "patchSetId": 3
      },
      "lineNbr": 33,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2016-01-19T06:22:25Z",
      "side": 1,
      "message": "\u003e Use static method in static way\n\nI wasn\u0027t sure if that was necessary, since it\u0027s a method of the class that this one extends.\n\n\u003e Ah, but this should work, without gwtorm change.\n\nWhat you suggest here is exactly what the fixed version of SchemaVersion.renameColumn is doing :)",
      "parentUuid": "67313682_964dec75",
      "revId": "f69a41ff60de497a6d2ab108c4590c12db85e3b8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c785825a_71d95846",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/schema/Schema_117.java",
        "patchSetId": 3
      },
      "lineNbr": 33,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2016-01-19T06:36:00Z",
      "side": 1,
      "message": "\u003e Use static method in static way\n\nActually it looks like there\u0027s no need for that method (and some others) to be static.",
      "parentUuid": "c785825a_51dc5437",
      "revId": "f69a41ff60de497a6d2ab108c4590c12db85e3b8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}