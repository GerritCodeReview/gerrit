{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "a1d3fe96_add8c6d1",
        "filename": "java/com/google/gerrit/index/query/AndSource.java",
        "patchSetId": 5
      },
      "lineNbr": 112,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2022-09-01T23:16:48Z",
      "side": 0,
      "message": "Hmm, was there a missed optimization here, should this have add \u0026\u0026 nextStart \u003e\u003d getPageSize()? i.e. couldn\u0027t we deduce that there are no more results to get if nextStart \u003c getPageSize() (or limit in the old code)?",
      "range": {
        "startLine": 112,
        "startChar": 10,
        "endLine": 112,
        "endChar": 13
      },
      "revId": "f84e5180fc32210db3d85a75d088f5ce841e5c68",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b8830dde_2c8d7ebb",
        "filename": "java/com/google/gerrit/index/query/AndSource.java",
        "patchSetId": 5
      },
      "lineNbr": 112,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2022-09-01T23:20:00Z",
      "side": 0,
      "message": "If that is true, I suspect it should be possible to consolidate the result handling for the first query with the handling of the remaining queries and to make the whole thing clearer?",
      "parentUuid": "a1d3fe96_add8c6d1",
      "range": {
        "startLine": 112,
        "startChar": 10,
        "endLine": 112,
        "endChar": 13
      },
      "revId": "f84e5180fc32210db3d85a75d088f5ce841e5c68",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7e532f15_5036791d",
        "filename": "java/com/google/gerrit/index/query/AndSource.java",
        "patchSetId": 5
      },
      "lineNbr": 112,
      "author": {
        "id": 1012457
      },
      "writtenOn": "2022-09-01T23:26:37Z",
      "side": 0,
      "message": "Yes, sort of, if `source` allowed us to get its `limit`. It does not currently.",
      "parentUuid": "a1d3fe96_add8c6d1",
      "range": {
        "startLine": 112,
        "startChar": 10,
        "endLine": 112,
        "endChar": 13
      },
      "revId": "f84e5180fc32210db3d85a75d088f5ce841e5c68",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6e191f8b_423b0dca",
        "filename": "java/com/google/gerrit/index/query/AndSource.java",
        "patchSetId": 5
      },
      "lineNbr": 112,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2022-09-01T23:32:55Z",
      "side": 0,
      "message": "\u003e Yes, sort of, if `source` allowed us to get its `limit`. It does not currently.\n\nAnd that\u0027s a limitation of \"! instanceof Paginated\"? I am perhaps starting to understand why you want a completely separate path for that case.",
      "parentUuid": "7e532f15_5036791d",
      "range": {
        "startLine": 112,
        "startChar": 10,
        "endLine": 112,
        "endChar": 13
      },
      "revId": "f84e5180fc32210db3d85a75d088f5ce841e5c68",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "04592dd7_314474f3",
        "filename": "java/com/google/gerrit/index/query/AndSource.java",
        "patchSetId": 5
      },
      "lineNbr": 112,
      "author": {
        "id": 1012457
      },
      "writtenOn": "2022-09-01T23:49:28Z",
      "side": 0,
      "message": "\u003e \u003e Yes, sort of, if `source` allowed us to get its `limit`. It does not currently.\n\u003e \n\u003e And that\u0027s a limitation of \"! instanceof Paginated\"?\nRight\n\n\u003e I am perhaps starting to understand why you want a completely separate path for that case.\nA condition could have been added after `source` is cast to `Paginated` as the limit will be the same? I don\u0027t know if we can make that assumption though.",
      "parentUuid": "6e191f8b_423b0dca",
      "range": {
        "startLine": 112,
        "startChar": 10,
        "endLine": 112,
        "endChar": 13
      },
      "revId": "f84e5180fc32210db3d85a75d088f5ce841e5c68",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2c4360ee_c6079d45",
        "filename": "java/com/google/gerrit/index/query/AndSource.java",
        "patchSetId": 5
      },
      "lineNbr": 133,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2022-09-01T21:18:37Z",
      "side": 0,
      "message": "Why are you no longer taking \u0027skipped\u0027 into account, shouldn\u0027t you? If it isn\u0027t needed, can it be removed from the loop in the first query also?",
      "range": {
        "startLine": 133,
        "startChar": 18,
        "endLine": 133,
        "endChar": 33
      },
      "revId": "f84e5180fc32210db3d85a75d088f5ce841e5c68",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b5f13284_afbe6319",
        "filename": "java/com/google/gerrit/index/query/AndSource.java",
        "patchSetId": 5
      },
      "lineNbr": 133,
      "author": {
        "id": 1012457
      },
      "writtenOn": "2022-09-01T22:24:09Z",
      "side": 0,
      "message": "With the new `isQueryComplete` boolean I don\u0027t need to track `skipped` anymore in these paginated queries. I need it in the first query as I use it to determine query-completeness of queries like `gerrit query \u0027status:open\u0027 --start 10000 --no-limit`",
      "parentUuid": "2c4360ee_c6079d45",
      "range": {
        "startLine": 133,
        "startChar": 18,
        "endLine": 133,
        "endChar": 33
      },
      "revId": "f84e5180fc32210db3d85a75d088f5ce841e5c68",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}