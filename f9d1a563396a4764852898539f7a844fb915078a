{
  "comments": [
    {
      "key": {
        "uuid": "972c6f7c_c8336f91",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/restapi/ETagView.java",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-02-05T20:41:29Z",
      "side": 1,
      "message": "I think instead of a marker interface it might be more typesafe to have ETagView extend RestReadView:\n\n public interface ETagView\u003cR extends RestResource\u003e extends RestReadView\u003cR\u003e {\n   public String getETag(R rsrc);\n }\n\nThen you know it is safe to cast the rsrc (i.e. ignore the warnings) to an R when calling getETag.",
      "revId": "f9d1a563396a4764852898539f7a844fb915078a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "972c6f7c_084e67fb",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/restapi/ETagView.java",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2015-02-05T20:48:49Z",
      "side": 1,
      "message": "I tried playing around with that yesterday afternoon, but the problem arises if you are in RestApiServlet and checking for that interface as instanceof and the template type cannot be interfered dynamically.\n\nI liked that approach and will try again.",
      "parentUuid": "972c6f7c_c8336f91",
      "revId": "f9d1a563396a4764852898539f7a844fb915078a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d73267d2_ca336391",
        "filename": "gerrit-extension-api/src/main/java/com/google/gerrit/extensions/restapi/ETagView.java",
        "patchSetId": 1
      },
      "lineNbr": 21,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-02-05T20:52:43Z",
      "side": 1,
      "message": "Yeah, there is no way to make the call in a typesafe manner. You will probably have to do a raw cast. But you know that it\u0027s safe at runtime because you have already verified that the type of the RestReadView matches the type of the RestResource.\n\n(I also forgot to mention: the other reason it\u0027s ok to do this as a subinterface rather than a marker interface is that ETags only really make sense on read views, they don\u0027t make sense on views that modify the data.)",
      "parentUuid": "972c6f7c_084e67fb",
      "revId": "f9d1a563396a4764852898539f7a844fb915078a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}