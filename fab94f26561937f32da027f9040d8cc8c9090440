{
  "comments": [
    {
      "key": {
        "uuid": "AAAA73//+lY\u003d",
        "filename": "gerrit-gwtui/src/main/java/com/google/gerrit/client/ui/OnEditEnabler.java",
        "patchSetId": 1
      },
      "lineNbr": 115,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2010-10-13T03:52:32Z",
      "side": 1,
      "message": "This seems kind of dangerous.  In GWT we have to be careful about creating a cycle between the Element and the Widget that contains it because the DOM is reference counted and you would leak memory when the Widget falls off the page.\n\nGWT usually handles this by making the widget point only at the event listener, cleaning that reference when the element is removed from the DOM, and setting it when the element is added back onto the DOM.  Thus if the widget isn\u0027t yet attached to the DOM when this runs, we might be creating a cycle and creating a memory leak.  And later when the widget is attached, we won\u0027t have our \"correct\" event listener involved in the chain.\n\nFortunately I think all of Gerrit\u0027s text boxes are actually NpTextArea and NpTextBox.  Maybe you can add the ONPASTE support directly into those two classes and then use NpTextArea and NpTextBox as overrides on listenTo() instead of TextBoxBase?",
      "revId": "fab94f26561937f32da027f9040d8cc8c9090440",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}