{
  "comments": [
    {
      "key": {
        "uuid": "3d748b50_b9bd18d0",
        "filename": "java/com/google/gerrit/server/query/change/ChangeIsVisibleToPredicate.java",
        "patchSetId": 7
      },
      "lineNbr": 87,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2020-04-22T17:30:01Z",
      "side": 1,
      "message": "If \u0027user\u0027 then fails to be granted access, should anonymousUser be tried (as before) -as last resort?",
      "range": {
        "startLine": 87,
        "startChar": 37,
        "endLine": 87,
        "endChar": 41
      },
      "revId": "fcccd674003d49e080ffc36b4b045814d044bb31",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7148c9ec_73714dcd",
        "filename": "java/com/google/gerrit/server/query/change/ChangeIsVisibleToPredicate.java",
        "patchSetId": 7
      },
      "lineNbr": 87,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2020-04-23T01:46:35Z",
      "side": 1,
      "message": "Looking at this again (the whole block of L85-87), I\u0027m not sure if I understand what it\u0027s supposed to be doing.  When it\u0027s an identified user, why is it calling absentUser?  For an identified user should it not be calling the user(user) method?\n\nShould we instead rewrite this to have an explicit check for the user being the SingleGroupUser?",
      "parentUuid": "3d748b50_b9bd18d0",
      "range": {
        "startLine": 87,
        "startChar": 37,
        "endLine": 87,
        "endChar": 41
      },
      "revId": "fcccd674003d49e080ffc36b4b045814d044bb31",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e8d67b06_34d27ec0",
        "filename": "java/com/google/gerrit/server/query/change/ChangeIsVisibleToPredicate.java",
        "patchSetId": 7
      },
      "lineNbr": 87,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2020-04-23T14:09:56Z",
      "side": 1,
      "message": "Original code in 2.15 looked like this:\n\n  permissionBackend.user(user)\n\nand it delivered the functionality in question (\u0027visibleto\u0027 predicated was working for groups)\nhaving said that I can try to support the anonymous user (as suggested by David ;))",
      "parentUuid": "7148c9ec_73714dcd",
      "range": {
        "startLine": 87,
        "startChar": 37,
        "endLine": 87,
        "endChar": 41
      },
      "revId": "fcccd674003d49e080ffc36b4b045814d044bb31",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6bd1b224_4968a7c6",
        "filename": "javatests/com/google/gerrit/server/query/change/AbstractQueryChangesTest.java",
        "patchSetId": 7
      },
      "lineNbr": 1737,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2020-04-22T17:30:01Z",
      "side": 1,
      "message": "Should come from downstream /merged-up I7e172ef9a [1] instead.\n\n[1] https://gerrit-review.googlesource.com/c/gerrit/+/263709\n\nOriginal blank line missing between lines 1725 and 1726 above.",
      "range": {
        "startLine": 1726,
        "startChar": 0,
        "endLine": 1737,
        "endChar": 0
      },
      "revId": "fcccd674003d49e080ffc36b4b045814d044bb31",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4e29a386_d1584fea",
        "filename": "javatests/com/google/gerrit/server/query/change/AbstractQueryChangesTest.java",
        "patchSetId": 7
      },
      "lineNbr": 1737,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2020-04-22T23:36:53Z",
      "side": 1,
      "message": "The reason it\u0027s done like this is that if we include it in the merge, CI will fail on the merge commit, because the functionality is broken in stable-2.16 (and fixed by this change).\n\nIf this were added as a completely separate test, we could just annotate it @Ignore in the merge commit and then remove the annotation here. I don\u0027t think it makes sense for this to be a separate test though.",
      "parentUuid": "6bd1b224_4968a7c6",
      "range": {
        "startLine": 1726,
        "startChar": 0,
        "endLine": 1737,
        "endChar": 0
      },
      "revId": "fcccd674003d49e080ffc36b4b045814d044bb31",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9c1ccba6_60da2063",
        "filename": "javatests/com/google/gerrit/server/query/change/AbstractQueryChangesTest.java",
        "patchSetId": 7
      },
      "lineNbr": 1737,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2020-04-23T15:59:46Z",
      "side": 1,
      "message": "Ack; thanks for having detailed this.",
      "parentUuid": "4e29a386_d1584fea",
      "range": {
        "startLine": 1726,
        "startChar": 0,
        "endLine": 1737,
        "endChar": 0
      },
      "revId": "fcccd674003d49e080ffc36b4b045814d044bb31",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0ae4d669_615877a2",
        "filename": "javatests/com/google/gerrit/server/query/change/AbstractQueryChangesTest.java",
        "patchSetId": 7
      },
      "lineNbr": 1770,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2020-04-22T17:30:01Z",
      "side": 1,
      "message": "Same comment as above. (Likely known already.)",
      "range": {
        "startLine": 1770,
        "startChar": 17,
        "endLine": 1770,
        "endChar": 22
      },
      "revId": "fcccd674003d49e080ffc36b4b045814d044bb31",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1fa0541d_4ccd8ddd",
        "filename": "javatests/com/google/gerrit/server/query/change/AbstractQueryChangesTest.java",
        "patchSetId": 7
      },
      "lineNbr": 1770,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2020-04-23T15:59:46Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "0ae4d669_615877a2",
      "range": {
        "startLine": 1770,
        "startChar": 17,
        "endLine": 1770,
        "endChar": 22
      },
      "revId": "fcccd674003d49e080ffc36b4b045814d044bb31",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}