{
  "comments": [
    {
      "key": {
        "uuid": "9a80f2dc_30bf01f4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 20,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-10-17T06:47:01Z",
      "side": 1,
      "message": "What server error? It\u0027s fixed with synchronization now, right?",
      "range": {
        "startLine": 20,
        "startChar": 0,
        "endLine": 20,
        "endChar": 25
      },
      "revId": "fd8a2c63d7f97f594c74c540675442fff44f8726",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "92fd1d09_8d5d55e6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 20,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2017-10-17T07:42:10Z",
      "side": 1,
      "message": "Should be SC_CONFLICT?",
      "parentUuid": "9a80f2dc_30bf01f4",
      "range": {
        "startLine": 20,
        "startChar": 0,
        "endLine": 20,
        "endChar": 25
      },
      "revId": "fd8a2c63d7f97f594c74c540675442fff44f8726",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "de59f9ed_0742416a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 6
      },
      "lineNbr": 20,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2017-10-17T09:43:29Z",
      "side": 1,
      "message": "Yes, it should be SC_CONFLICT but it is 500 internal server error when two threads try to create the same project concurrently. You can just try running the one test from this change.\n\n\u003e What server error? It\u0027s fixed with synchronization now, right?\n\nYes, it is fixed with this change which synchronizes on project name.",
      "parentUuid": "92fd1d09_8d5d55e6",
      "range": {
        "startLine": 20,
        "startChar": 0,
        "endLine": 20,
        "endChar": 25
      },
      "revId": "fd8a2c63d7f97f594c74c540675442fff44f8726",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "01af7fa0_dfb26d3d",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/rest/project/CreateProjectIT.java",
        "patchSetId": 6
      },
      "lineNbr": 97,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-10-17T06:47:01Z",
      "side": 1,
      "message": "Why this loop is needed?",
      "range": {
        "startLine": 97,
        "startChar": 6,
        "endLine": 97,
        "endChar": 36
      },
      "revId": "fd8a2c63d7f97f594c74c540675442fff44f8726",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d00300ff_1bf8f87f",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/rest/project/CreateProjectIT.java",
        "patchSetId": 6
      },
      "lineNbr": 97,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2017-10-17T09:44:31Z",
      "side": 1,
      "message": "As wrote in the commit message: when two requests concurrently try to create a project with the same name we MAY get an internal server error in one of them. It depends on timing.\n\nA strategy to test such scenarios is to repeat the test several times to increase the probability of hitting the race condition. Therefore, run 10 times.",
      "parentUuid": "01af7fa0_dfb26d3d",
      "range": {
        "startLine": 97,
        "startChar": 6,
        "endLine": 97,
        "endChar": 36
      },
      "revId": "fd8a2c63d7f97f594c74c540675442fff44f8726",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba3f2b34_ae936a3c",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/rest/project/CreateProjectIT.java",
        "patchSetId": 6
      },
      "lineNbr": 107,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-10-17T06:47:01Z",
      "side": 1,
      "message": "Callable is a FunctionalInterface so that you can use lambda expression instead:\n\n  Callable\u003cRestResponse\u003e createProjectFoo \u003d\n           () -\u003e {\n              sync.await();\n              return adminRestSession.put(\"/projects/\" + newProjectName);\n            };",
      "range": {
        "startLine": 100,
        "startChar": 8,
        "endLine": 107,
        "endChar": 14
      },
      "revId": "fd8a2c63d7f97f594c74c540675442fff44f8726",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "69c89532_d0eafcc2",
        "filename": "gerrit-acceptance-tests/src/test/java/com/google/gerrit/acceptance/rest/project/CreateProjectIT.java",
        "patchSetId": 6
      },
      "lineNbr": 107,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2017-10-17T09:43:29Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "ba3f2b34_ae936a3c",
      "range": {
        "startLine": 100,
        "startChar": 8,
        "endLine": 107,
        "endChar": 14
      },
      "revId": "fd8a2c63d7f97f594c74c540675442fff44f8726",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5660b20b_b69f50d3",
        "filename": "gerrit-pgm/src/main/java/com/google/gerrit/pgm/Daemon.java",
        "patchSetId": 6
      },
      "lineNbr": 478,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2017-10-17T05:00:56Z",
      "side": 1,
      "message": "optional:\n\n new DefaultProjectNameLockManager.Module()\n\nper the comment in DefaultProjectNameLockManager",
      "range": {
        "startLine": 478,
        "startChar": 16,
        "endLine": 478,
        "endChar": 54
      },
      "revId": "fd8a2c63d7f97f594c74c540675442fff44f8726",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "651934cd_c0c407fc",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/project/DefaultProjectNameLockManager.java",
        "patchSetId": 6
      },
      "lineNbr": 35,
      "author": {
        "id": 1011123
      },
      "writtenOn": "2017-10-17T05:00:56Z",
      "side": 1,
      "message": "optional: Most other classes having their own module expose it as a static class named Module that extends AbstractModule.",
      "range": {
        "startLine": 34,
        "startChar": 2,
        "endLine": 35,
        "endChar": 32
      },
      "revId": "fd8a2c63d7f97f594c74c540675442fff44f8726",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}