{
  "comments": [
    {
      "key": {
        "uuid": "AAAH53///4o\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/ReceiveCommits.java",
        "patchSetId": 1
      },
      "lineNbr": 796,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2012-07-27T06:42:44Z",
      "side": 1,
      "message": "Setting allowNonFastFarwards on the batch set this option for all the contained commands and not just for this one command. Is this okay?",
      "revId": "fd8d0b455bc417990de6905c3dada68a76754add",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAH33///W0\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/ReceiveCommits.java",
        "patchSetId": 1
      },
      "lineNbr": 796,
      "author": {
        "id": 1001240
      },
      "writtenOn": "2012-07-27T14:02:45Z",
      "side": 1,
      "message": "Yes. We have already identified non-fast-forwards that aren\u0027t permitted and rejected them on the line below. Those are not in the BatchRefUpdate, so it won\u0027t execute them.\n\nThe batch update has to have the same atomic compare and swap semantics at the per-ref level as a normal RefUpdate. If a branch has moved, the old SHA-1 won\u0027t match up anymore, and the update will not be performed. So its safe.\n\nBut I thought it was odd to always enable non-fast-forwards, so I turn it on here only when we see a permitted non-fast-forward being added to the batch.",
      "parentUuid": "AAAH53///4o\u003d",
      "revId": "fd8d0b455bc417990de6905c3dada68a76754add",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "AAAH53///0g\u003d",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/git/ReceiveCommits.java",
        "patchSetId": 1
      },
      "lineNbr": 796,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2012-07-27T14:13:25Z",
      "side": 1,
      "message": "Thanks for explaining.",
      "parentUuid": "AAAH33///W0\u003d",
      "revId": "fd8d0b455bc417990de6905c3dada68a76754add",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}