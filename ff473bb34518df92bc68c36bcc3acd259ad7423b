{
  "pushCert": "certificate version 0.1\npusher Dave Borowitz \u003cdborowitz@google.com\u003e 1445350531 -0400\nnonce AOBGQrgLUm7ljybl+ez/PFvQJn1FGYsu2W1S7Zia8aACG0LYhjYELIsOV7m1CFnritCm6BYq9rqj\n\n0000000000000000000000000000000000000000 ff473bb34518df92bc68c36bcc3acd259ad7423b refs/for/master\n-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJWJkyDAAoJEF/XxZqaEoiM0a0P/0pQsBNejmqEF0adpu2QAk0K\nfrQf0gwQge52hAOBms/PK/XU7bDCnxrf5DRLCPBjsvVx4HaDzMb+LuBBRSP2J488\nmHRZiZw6muaj/KfjbpCHcoehO6+8di2GJCQx41EWTyffqMnJC6G4kPRIbb6sH+lI\nqik1w3lW+rUp+GMc9ikHPSxMpUghmy9XohaM/5kpWiOtxZ0k4rbGLVRoFSJyWil3\nUbQDvGn3k/f06tgP5KxB/RMTitKfvsxesSg2hqzX1/EANmt+mAafn202iSCQEWEn\nsWRqtHZkQjNsgy5I7yk1sTjjfDIg8drrOG/eksd88xh7s3gyG+FiIP6pFp6nK7ns\nD0Ak2pd+WnNc+HcDT/VpLclzJ5rRXdSsCi29KmTnepbGFRWjGMXGAU3KZufXIJdV\nN7zsyeZWOdi8/dUB1a26SmEYQvOY5Q+Z5s+v2k/Vycs1WBGPpF0kf0xraOzi2D/G\nb2Sfcxj5jOZE+9SWyNXtHFdU2N7fEd3+rBcbVEVEk/U87Xy54jXiwL36id7FMsRZ\nV7ly55fCpfRrgtzPnMDiVeYhXnYhQtB1HVrdqj5gAbMc9M+1h2yJ6GYzlVKQDRGN\nHuLzQC521bLOhabbvqBvpmBDHpMNkLkeNviAN4UyyAj20LJFPso/JloUv2YG4wDY\nctikj/EqXvtrhEHl35Fe\n\u003dKyjt\n-----END PGP SIGNATURE-----\n",
  "comments": [
    {
      "key": {
        "uuid": "a7032ebe_b874b9d9",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/RebaseChangeOp.java",
        "patchSetId": 2
      },
      "lineNbr": 125,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2016-01-21T12:41:49Z",
      "side": 1,
      "message": "The rebaseCommit method already parses the commit. No need to do it a second time.",
      "revId": "ff473bb34518df92bc68c36bcc3acd259ad7423b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d92002e1_e89253df",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/RebaseChangeOp.java",
        "patchSetId": 2
      },
      "lineNbr": 161,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-10-20T14:57:13Z",
      "side": 1,
      "message": "[optional] return mergeUtilFactory.create(project, forceContentMerge)",
      "range": {
        "startLine": 159,
        "startChar": 4,
        "endLine": 161,
        "endChar": 43
      },
      "revId": "ff473bb34518df92bc68c36bcc3acd259ad7423b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f90b06d5_19e4cb01",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/RebaseChangeOp.java",
        "patchSetId": 2
      },
      "lineNbr": 161,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2015-10-20T15:01:12Z",
      "side": 1,
      "message": "Sadly they are not equivalent.\n\ncreate(project, true) means always content merge\n\ncreate(project, false) means never content merge\n\ncreate(project) means respect useContentMerge in the project config\n\nMaybe we should change MergeUtil.Factory to have a single factory method that takes a 3-state enum, but I didn\u0027t want to tackle that now.",
      "parentUuid": "d92002e1_e89253df",
      "range": {
        "startLine": 159,
        "startChar": 4,
        "endLine": 161,
        "endChar": 43
      },
      "revId": "ff473bb34518df92bc68c36bcc3acd259ad7423b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d92002e1_685663ba",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/RebaseChangeOp.java",
        "patchSetId": 2
      },
      "lineNbr": 161,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2015-10-20T15:07:39Z",
      "side": 1,
      "message": "Ah, that\u0027s nasty. Would be good to improve this somewhen later.",
      "parentUuid": "f90b06d5_19e4cb01",
      "range": {
        "startLine": 159,
        "startChar": 4,
        "endLine": 161,
        "endChar": 43
      },
      "revId": "ff473bb34518df92bc68c36bcc3acd259ad7423b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e709a6de_7af05987",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/RebaseChangeOp.java",
        "patchSetId": 2
      },
      "lineNbr": 206,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2016-01-21T12:41:49Z",
      "side": 1,
      "message": "We have a problem here with re-using the RevWalk. The updates done above are not visible to this RevWalk instance, e.g.\n\n  ((RevCommit)ctx.getRevWalk().parseCommit(objectId)).\n      getShortMessage()\n\nfails with an NPE, while\n\n  (new RevWalk(ctx.getRepository())).parseCommit(objectId)).\n      getShortMessage()\n\nsucceeds.",
      "range": {
        "startLine": 206,
        "startChar": 4,
        "endLine": 206,
        "endChar": 50
      },
      "revId": "ff473bb34518df92bc68c36bcc3acd259ad7423b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a765ee97_6802c354",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/RebaseChangeOp.java",
        "patchSetId": 2
      },
      "lineNbr": 206,
      "author": {
        "id": 1010008
      },
      "writtenOn": "2016-01-21T13:20:02Z",
      "side": 1,
      "message": "parseCommit would throw if the object were actually missing. I think we\u0027re just missing a rw.parseBody call. I think the difference in your two examples is one of those RevWalks has retainBody set and the other doesn\u0027t.",
      "parentUuid": "e709a6de_7af05987",
      "range": {
        "startLine": 206,
        "startChar": 4,
        "endLine": 206,
        "endChar": 50
      },
      "revId": "ff473bb34518df92bc68c36bcc3acd259ad7423b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a7032ebe_1866852a",
        "filename": "gerrit-server/src/main/java/com/google/gerrit/server/change/RebaseChangeOp.java",
        "patchSetId": 2
      },
      "lineNbr": 206,
      "author": {
        "id": 1003935
      },
      "writtenOn": "2016-01-21T13:34:54Z",
      "side": 1,
      "message": "Confirmed. Calling\n\n  ctx.getRevWalk().parseBody(rebasedCommit)\n\nfixes the issue.",
      "parentUuid": "a765ee97_6802c354",
      "range": {
        "startLine": 206,
        "startChar": 4,
        "endLine": 206,
        "endChar": 50
      },
      "revId": "ff473bb34518df92bc68c36bcc3acd259ad7423b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}