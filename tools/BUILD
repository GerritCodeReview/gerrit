load(
    "@bazel_tools//tools/jdk:default_java_toolchain.bzl",
    "JDK9_JVM_OPTS",
    "default_java_toolchain",
)
load("@rules_java//java:defs.bzl", "java_package_configuration")

exports_files(["nongoogle.bzl"])

default_java_toolchain(
    name = "error_prone_warnings_toolchain",
    bootclasspath = ["@bazel_tools//tools/jdk:platformclasspath.jar"],
    jvm_opts = JDK9_JVM_OPTS,
    package_configuration = [
        ":error_prone",
    ],
    visibility = ["//visibility:public"],
)

JDK11_JVM_OPTS = select({
    "@bazel_tools//src/conditions:openbsd": ["-Xbootclasspath/p:$(location @bazel_tools//tools/jdk:javac_jar)"],
    "//conditions:default": [
        "--add-exports=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED",
        "--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED",
        "--add-exports=jdk.compiler/com.sun.tools.javac.comp=ALL-UNNAMED",
        "--add-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED",
        "--add-exports=jdk.compiler/com.sun.tools.javac.main=ALL-UNNAMED",
        "--add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED",
        "--add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED",
        "--add-opens=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED",
        "--patch-module=java.compiler=$(location @bazel_tools//tools/jdk:java_compiler_jar)",
        "--patch-module=jdk.compiler=$(location @bazel_tools//tools/jdk:jdk_compiler_jar)",
        "--add-opens=java.base/java.nio=ALL-UNNAMED",
        "--add-opens=java.base/java.lang=ALL-UNNAMED",
    ],
})

default_java_toolchain(
    name = "error_prone_warnings_toolchain_java11",
    bootclasspath = ["@bazel_tools//tools/jdk:platformclasspath.jar"],
    forcibly_disable_header_compilation = False,
    genclass = ["@bazel_tools//tools/jdk:genclass"],
    header_compiler = ["@bazel_tools//tools/jdk:turbine"],
    header_compiler_direct = ["@bazel_tools//tools/jdk:turbine_direct"],
    ijar = ["@bazel_tools//tools/jdk:ijar"],
    javabuilder = ["@bazel_tools//tools/jdk:javabuilder"],
    javac_supports_workers = True,
    jvm_opts = JDK11_JVM_OPTS,
    misc = [
        "-XDskipDuplicateBridges=true",
        "-g",
        "-parameters",
    ],
    package_configuration = [
        ":error_prone",
    ],
    singlejar = ["@bazel_tools//tools/jdk:singlejar"],
    source_version = "11",
    target_version = "11",
    tools = [
        "@bazel_tools//tools/jdk:java_compiler_jar",
        "@bazel_tools//tools/jdk:javac_jar",
        "@bazel_tools//tools/jdk:jdk_compiler_jar",
    ],
    visibility = ["//visibility:public"],
)

# Error Prone errors enabled by default; see ../.bazelrc for how this is
# enabled. This warnings list is originally based on:
# https://github.com/bazelbuild/BUILD_file_generator/blob/master/tools/bazel_defs/java.bzl
# Additionally, items used internally in google is added. Such items have
# the same or higher verbosity level than in google.
# However, feel free to add any additional errors. Thus far they have all been pretty useful.
# All warnings are commented to avoid noise in the output.
# Newer versions of error-prone have XepDisableAllWarnings flag which could
# be used instead of commenting. Bazel should be updated to use a new version
# of error-prone.
java_package_configuration(
    name = "error_prone",
    javacopts = [
        "-XepDisableWarningsInGeneratedCode",
        "-Xep:AlmostJavadoc:ERROR",
        "-Xep:AlwaysThrows:ERROR",
        "-Xep:AmbiguousMethodReference:ERROR",
        # "-Xep:AnnotateFormatMethod:WARN",
        # "-Xep:ArgumentSelectionDefectChecker:WARN",
        # "-Xep:ArrayAsKeyOfSetOrMap:WARN",
        "-Xep:ArrayEquals:ERROR",
        "-Xep:ArrayFillIncompatibleType:ERROR",
        "-Xep:ArrayHashCode:ERROR",
        "-Xep:ArrayToString:ERROR",
        "-Xep:ArraysAsListPrimitiveArray:ERROR",
        # "-Xep:AssertEqualsArgumentOrderChecker:WARN",
        # "-Xep:AssertionFailureIgnored:WARN",
        "-Xep:AsyncCallableReturnsNull:ERROR",
        "-Xep:AsyncFunctionReturnsNull:ERROR",
        "-Xep:AutoValueConstructorOrderChecker:ERROR",
        "-Xep:AutoValueFinalMethods:ERROR",
        # "-Xep:AutoValueImmutableFields:WARN",
        # "-Xep:AutoValueSubclassLeaked:WARN",
        "-Xep:BadAnnotationImplementation:ERROR",
        "-Xep:BadComparable:ERROR",
        # "-Xep:BadImport:WARN",
        # "-Xep:BadInstanceof:WARN",
        "-Xep:BadShiftAmount:ERROR",
        "-Xep:BanSerializableRead:ERROR",
        # "-Xep:BigDecimalEquals:WARN",
        # "-Xep:BigDecimalLiteralDouble:WARN",
        "-Xep:BoxedPrimitiveConstructor:ERROR",
        "-Xep:BoxedPrimitiveEquality:ERROR",
        "-Xep:BundleDeserializationCast:ERROR",
        # "-Xep:ByteBufferBackingArray:WARN",
        # "-Xep:CacheLoaderNull:WARN",
        "-Xep:CannotMockFinalClass:ERROR",
        # "-Xep:CanonicalDuration:WARN",
        # "-Xep:CatchAndPrintStackTrace:WARN",
        # "-Xep:CatchFail:WARN",
        # "-Xep:ChainedAssertionLosesContext:WARN",
        "-Xep:ChainingConstructorIgnoresParameter:ERROR",
        # "-Xep:CharacterGetNumericValue:WARN",
        "-Xep:CheckNotNullMultipleTimes:ERROR",
        "-Xep:CheckReturnValue:ERROR",
        "-Xep:ClassCanBeStatic:ERROR",
        "-Xep:ClassName:ERROR",
        "-Xep:ClassNewInstance:ERROR",
        "-Xep:CollectionIncompatibleType:ERROR",
        "-Xep:CollectionToArraySafeParameter:ERROR",
        # "-Xep:CollectionUndefinedEquality:WARN",
        # "-Xep:CollectorShouldNotUseState:WARN",
        "-Xep:ComparableAndComparator:ERROR",
        "-Xep:ComparableType:ERROR",
        # "-Xep:CompareToZero:WARN",
        "-Xep:ComparingThisWithNull:ERROR",
        "-Xep:ComparisonOutOfRange:ERROR",
        "-Xep:CompatibleWithAnnotationMisuse:ERROR",
        "-Xep:CompileTimeConstant:ERROR",
        # "-Xep:ComplexBooleanConstant:WARN",
        "-Xep:ComputeIfAbsentAmbiguousReference:ERROR",
        "-Xep:ConditionalExpressionNumericPromotion:ERROR",
        "-Xep:ConstantOverflow:ERROR",
        "-Xep:DaggerProvidesNull:ERROR",
        "-Xep:DangerousLiteralNull:ERROR",
        # "-Xep:DateChecker:WARN",
        "-Xep:DateFormatConstant:ERROR",
        "-Xep:DeadException:ERROR",
        "-Xep:DeadThread:ERROR",
        "-Xep:DefaultCharset:ERROR",
        # "-Xep:DefaultPackage:WARN",
        "-Xep:DepAnn:ERROR",
        # "-Xep:DeprecatedVariable:WARN",
        "-Xep:DiscardedPostfixExpression:ERROR",
        "-Xep:DoNotCall:ERROR",
        # "-Xep:DoNotCallSuggester:WARN",
        # "-Xep:DoNotClaimAnnotations:WARN",
        "-Xep:DoNotMock:ERROR",
        # "-Xep:DoNotMockAutoValue:WARN",
        # "-Xep:DoubleBraceInitialization:WARN",
        "-Xep:DoubleCheckedLocking:ERROR",
        "-Xep:DuplicateMapKeys:ERROR",
        "-Xep:DurationFrom:ERROR",
        "-Xep:DurationGetTemporalUnit:ERROR",
        "-Xep:DurationTemporalUnit:ERROR",
        "-Xep:DurationToLongTimeUnit:ERROR",
        "-Xep:EmptyBlockTag:ERROR",
        # "-Xep:EmptyCatch:WARN",
        # "-Xep:EmptySetMultibindingContributions:WARN",
        # "-Xep:EqualsGetClass:WARN",
        "-Xep:EqualsHashCode:ERROR",
        "-Xep:EqualsIncompatibleType:ERROR",
        "-Xep:EqualsNaN:ERROR",
        # "-Xep:EqualsNull:WARN",
        "-Xep:EqualsReference:ERROR",
        # "-Xep:EqualsUnsafeCast:WARN",
        # "-Xep:EqualsUsingHashCode:WARN",
        "-Xep:EqualsWrongThing:ERROR",
        # "-Xep:ErroneousThreadPoolConstructorChecker:WARN",
        # "-Xep:EscapedEntity:WARN",
        "-Xep:ExpectedExceptionChecker:ERROR",
        # "-Xep:ExtendingJUnitAssert:WARN",
        "-Xep:ExtendsAutoValue:ERROR",
        "-Xep:FallThrough:ERROR",
        "-Xep:Finally:ERROR",
        "-Xep:FloatCast:ERROR",
        # "-Xep:FloatingPointAssertionWithinEpsilon:WARN",
        "-Xep:FloatingPointLiteralPrecision:ERROR",
        # "-Xep:FloggerArgumentToString:WARN",
        "-Xep:FloggerFormatString:ERROR",
        "-Xep:FloggerLogVarargs:ERROR",
        "-Xep:FloggerSplitLogStatement:ERROR",
        # "-Xep:FloggerStringConcatenation:WARN",
        "-Xep:ForOverride:ERROR",
        "-Xep:FormatString:ERROR",
        "-Xep:FormatStringAnnotation:ERROR",
        "-Xep:FragmentInjection:ERROR",
        "-Xep:FragmentNotInstantiable:ERROR",
        "-Xep:FromTemporalAccessor:ERROR",
        "-Xep:FunctionalInterfaceClash:ERROR",
        "-Xep:FunctionalInterfaceMethodChanged:ERROR",
        "-Xep:FutureReturnValueIgnored:ERROR",
        "-Xep:FuturesGetCheckedIllegalExceptionType:ERROR",
        "-Xep:GetClassOnAnnotation:ERROR",
        "-Xep:GetClassOnClass:ERROR",
        "-Xep:GetClassOnEnum:ERROR",
        "-Xep:GuardedBy:ERROR",
        "-Xep:GuiceAssistedInjectScoping:ERROR",
        "-Xep:GuiceAssistedParameters:ERROR",
        "-Xep:HashtableContains:ERROR",
        # "-Xep:HidingField:WARN",
        "-Xep:IdentityBinaryExpression:ERROR",
        "-Xep:IdentityHashMapBoxing:ERROR",
        # "-Xep:IdentityHashMapUsage:WARN",
        # "-Xep:IgnoredPureGetter:WARN",
        "-Xep:Immutable:ERROR",
        "-Xep:ImmutableAnnotationChecker:ERROR",
        "-Xep:ImmutableEnumChecker:ERROR",
        "-Xep:ImmutableModification:ERROR",
        "-Xep:Incomparable:ERROR",
        "-Xep:IncompatibleArgumentType:ERROR",
        "-Xep:IncompatibleModifiers:ERROR",
        # "-Xep:InconsistentCapitalization:WARN",
        # "-Xep:InconsistentHashCode:WARN",
        # "-Xep:IncrementInForLoopAndHeader:WARN",
        "-Xep:IndexOfChar:ERROR",
        "-Xep:InexactVarargsConditional:ERROR",
        "-Xep:InfiniteRecursion:ERROR",
        "-Xep:InjectOnConstructorOfAbstractClass:ERROR",
        # "-Xep:InheritDoc:WARN",
        # "-Xep:InlineFormatString:WARN",
        # "-Xep:InlineMeInliner:WARN",
        # "-Xep:InlineMeSuggester:WARN",
        "-Xep:InlineMeValidator:ERROR",
        "-Xep:InputStreamSlowMultibyteRead:ERROR",
        "-Xep:InsecureCryptoUsage:ERROR",
        # "-Xep:InstanceOfAndCastMatchWrongType:WARN",
        "-Xep:InstantTemporalUnit:ERROR",
        # "-Xep:IntLongMath:WARN",
        # "-Xep:InvalidBlockTag:WARN",
        # "-Xep:InvalidInlineTag:WARN",
        "-Xep:InvalidJavaTimeConstant:ERROR",
        # "-Xep:InvalidLink:WARN",
        # "-Xep:InvalidParam:WARN",
        "-Xep:InvalidPatternSyntax:ERROR",
        # "-Xep:InvalidThrows:WARN",
        # "-Xep:InvalidThrowsLink:WARN",
        "-Xep:InvalidTimeZoneID:ERROR",
        "-Xep:InvalidZoneId:ERROR",
        "-Xep:IsInstanceIncompatibleType:ERROR",
        "-Xep:IsInstanceOfClass:ERROR",
        "-Xep:IsLoggableTagLength:ERROR",
        "-Xep:IterableAndIterator:ERROR",
        "-Xep:IterablePathParameter:ERROR",
        "-Xep:JUnit3FloatingPointComparisonWithoutDelta:ERROR",
        "-Xep:JUnit3TestNotRun:ERROR",
        "-Xep:JUnit4ClassAnnotationNonStatic:ERROR",
        # "-Xep:JUnit4ClassUsedInJUnit3:WARN",
        "-Xep:JUnit4SetUpNotRun:ERROR",
        "-Xep:JUnit4TearDownNotRun:ERROR",
        "-Xep:JUnit4TestNotRun:ERROR",
        "-Xep:JUnit4TestsNotRunWithinEnclosed:ERROR",
        "-Xep:JUnitAmbiguousTestClass:ERROR",
        "-Xep:JUnitAssertSameCheck:ERROR",
        "-Xep:JUnitParameterMethodNotFound:ERROR",
        "-Xep:JavaDurationGetSecondsGetNano:ERROR",
        "-Xep:JavaDurationWithNanos:ERROR",
        "-Xep:JavaDurationWithSeconds:ERROR",
        "-Xep:JavaInstantGetSecondsGetNano:ERROR",
        # "-Xep:JavaLangClash:WARN",
        "-Xep:JavaLocalDateTimeGetNano:ERROR",
        "-Xep:JavaLocalTimeGetNano:ERROR",
        # "-Xep:JavaPeriodGetDays:WARN",
        "-Xep:JavaTimeDefaultTimeZone:ERROR",
        # "-Xep:JavaUtilDate:WARN",
        # "-Xep:JdkObsolete:WARN",
        "-Xep:JodaConstructors:ERROR",
        # "-Xep:JodaDateTimeConstants:WARN",
        "-Xep:JodaDurationWithMillis:ERROR",
        "-Xep:JodaInstantWithMillis:ERROR",
        # "-Xep:JodaNewPeriod:WARN",
        "-Xep:JodaPlusMinusLong:ERROR",
        "-Xep:JodaTimeConverterManager:ERROR",
        "-Xep:JodaToSelf:ERROR",
        "-Xep:JodaWithDurationAddedLong:ERROR",
        "-Xep:LiteByteStringUtf8:ERROR",
        "-Xep:LiteEnumValueOf:ERROR",
        # "-Xep:LiteProtoToString:WARN",
        "-Xep:LocalDateTemporalAmount:ERROR",
        # "-Xep:LockNotBeforeTry:WARN",
        # "-Xep:LockOnBoxedPrimitive:WARN",
        "-Xep:LogicalAssignment:ERROR",
        # "-Xep:LongFloatConversion:WARN",
        "-Xep:LongLiteralLowerCaseSuffix:ERROR",
        "-Xep:LoopConditionChecker:ERROR",
        # "-Xep:LoopOverCharArray:WARN",
        "-Xep:LossyPrimitiveCompare:ERROR",
        # "-Xep:MathAbsoluteRandom:WARN",
        "-Xep:MathRoundIntLong:ERROR",
        # "-Xep:MemoizeConstantVisitorStateLookups:WARN",
        "-Xep:MislabeledAndroidString:ERROR",
        "-Xep:MissingCasesInEnumSwitch:ERROR",
        "-Xep:MissingFail:ERROR",
        "-Xep:MissingOverride:ERROR",
        "-Xep:MissingSummary:ERROR",
        "-Xep:MissingSuperCall:ERROR",
        "-Xep:MissingTestCall:ERROR",
        "-Xep:MisusedDayOfYear:ERROR",
        "-Xep:MisusedWeekYear:ERROR",
        "-Xep:MixedDescriptors:ERROR",
        # "-Xep:MixedMutabilityReturnType:WARN",
        "-Xep:MockitoUsage:ERROR",
        # "-Xep:ModifiedButNotUsed:WARN",
        # "-Xep:ModifyCollectionInEnhancedForLoop:WARN",
        # "-Xep:ModifySourceCollectionInStream:WARN",
        "-Xep:ModifyingCollectionWithItself:ERROR",
        # "-Xep:MultipleParallelOrSequentialCalls:WARN",
        # "-Xep:MultipleUnaryOperatorsInMethodCall:WARN",
        "-Xep:MustBeClosedChecker:ERROR",
        "-Xep:MutableConstantField:ERROR",
        # "-Xep:MutablePublicArray:WARN",
        "-Xep:NCopiesOfChar:ERROR",
        "-Xep:NarrowingCompoundAssignment:ERROR",
        # "-Xep:NestedInstanceOfConditions:WARN",
        "-Xep:NonAtomicVolatileUpdate:ERROR",
        "-Xep:NonCanonicalStaticImport:ERROR",
        # "-Xep:NonCanonicalType:WARN",
        "-Xep:NonFinalCompileTimeConstant:ERROR",
        "-Xep:NonOverridingEquals:ERROR",
        "-Xep:NonRuntimeAnnotation:ERROR",
        # "-Xep:NullOptional:WARN",
        "-Xep:NullTernary:ERROR",
        "-Xep:NullableConstructor:ERROR",
        "-Xep:NullablePrimitive:ERROR",
        # "-Xep:NullablePrimitiveArray:WARN",
        "-Xep:NullableVoid:ERROR",
        # "-Xep:ObjectEqualsForPrimitives:WARN",
        "-Xep:ObjectToString:ERROR",
        # "-Xep:ObjectsHashCodePrimitive:WARN",
        "-Xep:OperatorPrecedence:ERROR",
        "-Xep:OptionalEquality:ERROR",
        # "-Xep:OptionalMapToOptional:WARN",
        "-Xep:OptionalMapUnusedValue:ERROR",
        # "-Xep:OptionalNotPresent:WARN",
        "-Xep:OptionalOfRedundantMethod:ERROR",
        # "-Xep:OrphanedFormatString:WARN",
        # "-Xep:OutlineNone:WARN",
        "-Xep:OverlappingQualifierAndScopeAnnotation:ERROR",
        # "-Xep:OverrideThrowableToString:WARN",
        "-Xep:Overrides:ERROR",
        "-Xep:OverridesGuiceInjectableMethod:ERROR",
        "-Xep:OverridesJavaxInjectableMethod:ERROR",
        "-Xep:PackageInfo:ERROR",
        # "-Xep:ParameterName:WARN",
        "-Xep:ParametersButNotParameterized:ERROR",
        "-Xep:ParcelableCreator:ERROR",
        "-Xep:PeriodFrom:ERROR",
        "-Xep:PeriodGetTemporalUnit:ERROR",
        "-Xep:PeriodTimeMath:ERROR",
        # "-Xep:PreconditionsCheckNotNullRepeated:WARN",
        "-Xep:PreconditionsInvalidPlaceholder:ERROR",
        # "-Xep:PrimitiveAtomicReference:WARN",
        "-Xep:PrivateSecurityContractProtoAccess:ERROR",
        # "-Xep:ProtectedMembersInFinalClass:WARN",
        "-Xep:ProtoBuilderReturnValueIgnored:ERROR",
        # "-Xep:ProtoDurationGetSecondsGetNano:WARN",
        "-Xep:ProtoFieldNullComparison:ERROR",
        # "-Xep:ProtoRedundantSet:WARN",
        "-Xep:ProtoStringFieldReferenceEquality:ERROR",
        # "-Xep:ProtoTimestampGetSecondsGetNano:WARN",
        "-Xep:ProtoTruthMixedDescriptors:ERROR",
        "-Xep:ProtocolBufferOrdinal:ERROR",
        "-Xep:ProvidesMethodOutsideOfModule:ERROR",
        "-Xep:RandomCast:ERROR",
        "-Xep:RandomModInteger:ERROR",
        # "-Xep:ReachabilityFenceUsage:WARN",
        "-Xep:RectIntersectReturnValueIgnored:ERROR",
        "-Xep:ReferenceEquality:ERROR",
        "-Xep:RefersToDaggerCodegen:ERROR",
        "-Xep:RemovedInJDK11:ERROR",
        "-Xep:RequiredModifiers:ERROR",
        "-Xep:RestrictedApiChecker:ERROR",
        # "-Xep:RethrowReflectiveOperationExceptionAsLinkageError:WARN",
        # "-Xep:ReturnFromVoid:WARN",
        "-Xep:ReturnValueIgnored:ERROR",
        # "-Xep:RxReturnValueIgnored:WARN",
        # "-Xep:SameNameButDifferent:WARN",
        "-Xep:SelfAssignment:ERROR",
        "-Xep:SelfComparison:ERROR",
        "-Xep:SelfEquals:ERROR",
        "-Xep:ShortCircuitBoolean:ERROR",
        "-Xep:ShouldHaveEvenArgs:ERROR",
        "-Xep:SizeGreaterThanOrEqualsZero:ERROR",
        # "-Xep:StaticAssignmentInConstructor:WARN",
        "-Xep:StaticGuardedByInstance:ERROR",
        # "-Xep:StaticMockMember:WARN",
        "-Xep:StaticQualifiedUsingExpression:ERROR",
        "-Xep:StreamToString:ERROR",
        "-Xep:StringBuilderInitWithChar:ERROR",
        "-Xep:StringEquality:ERROR",
        # "-Xep:StringSplitter:WARN",
        "-Xep:SubstringOfZero:ERROR",
        "-Xep:SuppressWarningsDeprecated:ERROR",
        # "-Xep:SwigMemoryLeak:WARN",
        "-Xep:SynchronizeOnNonFinalField:ERROR",
        "-Xep:TemporalAccessorGetChronoField:ERROR",
        "-Xep:TestParametersNotInitialized:ERROR",
        "-Xep:TheoryButNoTheories:ERROR",
        # "-Xep:ThreadJoinLoop:WARN",
        # "-Xep:ThreadLocalUsage:WARN",
        # "-Xep:ThreadPriorityCheck:WARN",
        "-Xep:ThreeLetterTimeZoneID:ERROR",
        "-Xep:ThrowIfUncheckedKnownChecked:ERROR",
        "-Xep:ThrowNull:ERROR",
        # "-Xep:TimeUnitConversionChecker:WARN",
        # "-Xep:ToStringReturnsNull:WARN",
        "-Xep:TreeToString:ERROR",
        # "-Xep:TruthAssertExpected:WARN",
        "-Xep:TruthConstantAsserts:ERROR",
        # "-Xep:TruthGetOrDefault:WARN",
        "-Xep:TruthIncompatibleType:ERROR",
        "-Xep:TruthSelfEquals:ERROR",
        "-Xep:TryFailThrowable:ERROR",
        # "-Xep:TypeEquals:WARN",
        # "-Xep:TypeNameShadowing:WARN",
        "-Xep:TypeParameterQualifier:ERROR",
        "-Xep:TypeParameterShadowing:ERROR",
        "-Xep:TypeParameterUnusedInFormals:ERROR",
        "-Xep:URLEqualsHashCode:ERROR",
        # "-Xep:UndefinedEquals:WARN",
        # "-Xep:UnescapedEntity:WARN",
        # "-Xep:UnnecessaryAssignment:WARN",
        "-Xep:UnnecessaryCheckNotNull:ERROR",
        # "-Xep:UnnecessaryLambda:WARN",
        # "-Xep:UnnecessaryMethodInvocationMatcher:WARN",
        # "-Xep:UnnecessaryMethodReference:WARN",
        # "-Xep:UnnecessaryParentheses:WARN",
        "-Xep:UnnecessaryTypeArgument:ERROR",
        "-Xep:UnrecognisedJavadocTag:ERROR",
        # "-Xep:UnsafeFinalization:WARN",
        # "-Xep:UnsafeReflectiveConstructionCast:WARN",
        "-Xep:UnsynchronizedOverridesSynchronized:ERROR",
        "-Xep:UnusedAnonymousClass:ERROR",
        "-Xep:UnusedCollectionModifiedInPlace:ERROR",
        "-Xep:UnusedException:ERROR",
        # "-Xep:UnusedMethod:WARN",
        # "-Xep:UnusedNestedClass:WARN",
        # "-Xep:UnusedVariable:WARN",
        # "-Xep:UseBinds:WARN",
        # "-Xep:UseCorrectAssertInTests:WARN",
        "-Xep:VarTypeName:ERROR",
        # "-Xep:VariableNameSameAsType:WARN",
        "-Xep:WaitNotInLoop:ERROR",
        # "-Xep:WakelockReleasedDangerously:WARN",
        "-Xep:WildcardImport:ERROR",
        # "-Xep:WithSignatureDiscouraged:WARN",
        "-Xep:WrongOneof:ERROR",
        "-Xep:XorPower:ERROR",
        "-Xep:ZoneIdOfZ:ERROR",
    ],
    packages = ["error_prone_packages"],
)

package_group(
    name = "error_prone_packages",
    packages = [
        "//java/...",
        "//javatests/...",
        "//plugins/codemirror-editor/...",
        "//plugins/commit-message-length-validator/...",
        "//plugins/delete-project/...",
        "//plugins/download-commands/...",
        "//plugins/gitiles/...",
        "//plugins/hooks/...",
        "//plugins/plugin-manager/...",
        "//plugins/replication/...",
        "//plugins/reviewnotes/...",
        "//plugins/singleusergroup/...",
        "//plugins/webhooks/...",
    ],
)
